"use strict";(self.webpackChunkretail_usa=self.webpackChunkretail_usa||[]).push([[7439],{7439:(_n,ht,u)=>{u.d(ht,{L$:()=>T,LC:()=>ot,hm:()=>ln});var f=u(1989),M=u(4544),St=u(5170),b=u(400),t=u(5e3),O=u(5357),h=u(9808),Z=u(9222),k=u(5460),y=u(7555),Y=u(5622),B=u(9287),G=u(4951),H=u(7605);const mt=function(o){return{disabled:o}};let At=(()=>{class o{constructor(e){this.datePipe=e,this.combinedFormatters={title:n=>this.datePipe.transform(n,"MMMM")||"",start:n=>this.datePipe.transform(n,"mediumDate")||"",end:n=>this.datePipe.transform(n,"mediumDate")||""},this.period="month",this.periodChange=new t.vpe}set periodFormatters(e){this.combinedFormatters=Object.assign(this.combinedFormatters,e)}get isLastPeriod(){if(!this.periodStart)return!0;const e=new Date;return e.getFullYear()===this.periodStart.getFullYear()&&e.getMonth()===this.periodStart.getMonth()}ngOnInit(){if(void 0===this.periodStart||void 0===this.periodEnd)throw new Error("`periodStart`, and `periodEnd` inputs are required in `bb-period-selector-ui` component");this.setFormattedValues()}setFormattedValues(){this.formattedTitle=this.combinedFormatters.title(this.periodStart),this.formattedStart=this.combinedFormatters.start(this.periodStart),this.formattedEnd=this.combinedFormatters.end(this.periodEnd)}changePeriod(e){!this.periodStart||e&&this.isLastPeriod||(this.periodStart.setMonth(this.periodStart.getMonth()+(e?1:-1)),this.periodEnd=this.isLastPeriod?new Date(this.periodStart.getFullYear(),this.periodStart.getMonth(),(new Date).getDate(),23,59,59,999):new Date(this.periodStart.getFullYear(),this.periodStart.getMonth()+1,0,23,59,59,999),this.setFormattedValues(),this.periodChange.emit({start:this.periodStart,end:this.periodEnd}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.uU))},o.\u0275cmp=t.Xpm({type:o,selectors:[["bb-period-selector-ui"]],inputs:{periodStart:"periodStart",periodEnd:"periodEnd",periodFormatters:"periodFormatters",period:"period"},outputs:{periodChange:"periodChange"},decls:16,vars:7,consts:[[1,"bb-period-selector"],["bbButton","","circle","\u201ctrue\u201d","color","link-dark","size","sm",3,"click"],["size","md","name","chevron-left"],[1,"bb-period-selector__date"],[1,"bb-period-selector__month"],[1,"bb-period-selector__period"],["bbButton","","color","link-dark","size","sm",3,"circle","ngClass","click"],["size","md","name","chevron-right"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"button",1),t.NdJ("click",function(){return n.changePeriod(!1)}),t._UZ(3,"bb-icon-ui",2),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4),t._uU(6),t.qZA(),t.TgZ(7,"div",5)(8,"time"),t._uU(9),t.qZA(),t._uU(10," - "),t.TgZ(11,"time"),t._uU(12),t.qZA()()(),t.TgZ(13,"div")(14,"button",6),t.NdJ("click",function(){return n.changePeriod(!0)}),t._UZ(15,"bb-icon-ui",7),t.qZA()()()),2&e&&(t.xp6(6),t.Oqu(n.formattedTitle),t.xp6(3),t.Oqu(n.formattedStart),t.xp6(3),t.Oqu(n.formattedEnd),t.xp6(2),t.Q6J("circle",!0)("ngClass",t.VKq(5,mt,n.isLastPeriod)))},directives:[B.o,H.Hq,h.mk],encapsulation:2,changeDetection:0}),o})(),Q=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[h.uU],imports:[[h.ez,B.Q,H.hJ]]}),o})();var J=u(4665),d=u(1156),Et=u(2857),ft=u(239),Nt=u(4524);function W(o,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(o,i)}var $=u(7429),q=u(457),Mt=u(1135),X=u(9841),Ot=u(2557),tt=u(9646),I=u(4004),yt=u(4782),Tt=u(9300),vt=u(3900),et=u(262),xt=u(3099),Bt=u(5577),Dt=u(8505);const Lt=["bb-charts-pie-label",""];function wt(o,i){}const Pt=function(o,i,e,n){return{data:o,color:i,icon:e,label:n}};function Rt(o,i){if(1&o&&(t.ynx(0),t.YNc(1,wt,0,0,"ng-template",2),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",t.l5B(2,Pt,e.data,e.color,e.icon,e.labelText))}}function Ut(o,i){if(1&o&&(t.O4$(),t.TgZ(0,"g")(1,"text",3),t._uU(2),t.qZA()()),2&o){const e=t.oxw();t.Udp("transform",e.styleTransform)("transition",e.textTransition),t.uIk("transform",e.attrTransform),t.xp6(1),t.Udp("text-anchor","middle")("shape-rendering","crispEdges"),t.ekj("animation",e.animations),t.xp6(1),t.hij(" ",e.labelText," ")}}function Yt(o,i){}const Gt=function(o){return{model:o}};function Jt(o,i){if(1&o&&(t.TgZ(0,"span"),t.YNc(1,Yt,0,0,"ng-template",3),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",t.VKq(2,Gt,e.context))}}function Ft(o,i){if(1&o&&t._UZ(0,"span",4),2&o){const e=t.oxw();t.Q6J("innerHTML",e.title,t.oJD)}}const Wt=["bb-charts-pie-series",""];function Kt(o,i){if(1&o&&(t.O4$(),t._UZ(0,"g",4)),2&o){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("data",e)("radius",n.outerRadius)("color",n.color(e))("icon",n.icon(e))("label",n.labelText(e))("labelTrim",n.trimLabels)("labelTrimSize",n.maxLabelLength)("template",n.labelTemplate)("max",n.max)("value",e.value)("explodeSlices",n.explodeSlices)("animations",n.animations)}}function Zt(o,i){if(1&o){const e=t.EpF();t.O4$(),t.TgZ(0,"g",1),t.YNc(1,Kt,1,12,"g",2),t.TgZ(2,"g",3),t.NdJ("select",function(a){return t.CHM(e),t.oxw().onClick(a)})("activate",function(a){return t.CHM(e),t.oxw().activate.emit(a)})("deactivate",function(a){return t.CHM(e),t.oxw().deactivate.emit(a)})("dblclick",function(a){return t.CHM(e),t.oxw().dblclick.emit(a)}),t.qZA()()}if(2&o){const e=i.$implicit,n=t.oxw();t.Q6J("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.getTooltipPlacement(e))("tooltipType","tooltip")("tooltipShowCaret",!1)("tooltipSpacing",0)("tooltipTitle",n.getTooltipTitle(e))("tooltipPosition",n.getTooltipPosition(e))("tooltipTemplate",n.tooltipTemplate)("tooltipContext",e.data),t.xp6(1),t.Q6J("ngIf",n.labelVisible(e)),t.xp6(1),t.Q6J("startAngle",e.startAngle)("endAngle",e.endAngle)("innerRadius",n.innerRadius)("outerRadius",n.outerRadius)("fill",n.color(e))("value",e.data.value)("gradient",n.gradient)("data",e.data)("max",n.max)("explodeSlices",n.explodeSlices)("isActive",n.isActive(e.data))("animate",n.animations)}}const kt=["tooltipTemplate"],Ht=function(o,i){return[o,i]},Qt=["defaultTooltipTemplate"];function zt(o,i){1&o&&t.GkF(0)}function jt(o,i){if(1&o&&t.YNc(0,zt,1,0,"ng-container",3),2&o){const e=i.model,n=t.oxw();t.Q6J("ngTemplateOutlet",n.template)("ngTemplateOutletContext",n.expandModel(e))}}function Vt(o,i){if(1&o&&(t.TgZ(0,"h3",4),t._uU(1),t.qZA(),t.TgZ(2,"h4",5),t._UZ(3,"bb-amount-ui",6),t.qZA()),2&o){const e=i.name,n=i.totalAmount;t.xp6(1),t.hij(" ",e," "),t.xp6(2),t.Q6J("amount",n.amount)("currency",n.currencyCode)}}const K=function(o){return{active:o}},$t=["bbChartLabelIcon"],qt=["bbChartLabelText"],Xt=["transNow"];function te(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"bb-period-selector-ui",15),t.NdJ("periodChange",function(a){return t.CHM(e),t.oxw(2).onPeriodChange(a)}),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("periodStart",e.startDate)("periodEnd",e.endDate)("periodFormatters",e.formatters)}}function ee(o,i){1&o&&(t.TgZ(0,"span"),t.SDv(1,24),t.qZA())}function ne(o,i){1&o&&(t.TgZ(0,"span"),t.SDv(1,25),t.qZA())}function oe(o,i){1&o&&t.GkF(0)}const nt=function(o){return{data:o}};function ie(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"div",17)(2,"div",18)(3,"div",19),t.YNc(4,ee,2,0,"span",16),t.YNc(5,ne,2,0,"span",16),t.qZA(),t.TgZ(6,"div",20),t._UZ(7,"bb-amount-ui",21),t.qZA()(),t._UZ(8,"bb-donut-chart-ui",22),t.qZA(),t.YNc(9,oe,1,0,"ng-container",23),t.BQk()),2&o){const e=t.oxw().ngIf,n=t.oxw(4),a=t.MAs(12),r=t.MAs(10),s=t.MAs(8);t.xp6(4),t.Q6J("ngIf",n.isTypeSpending),t.xp6(1),t.Q6J("ngIf",!n.isTypeSpending),t.xp6(2),t.Q6J("amount",null==e||null==e.total?null:e.total.amount)("currency",null==e||null==e.total?null:e.total.currencyCode),t.xp6(1),t.Q6J("data",e.series)("colors",n.colorsValue)("relevancePercentage",n.relevance)("tooltipTmpl",a)("labelTmpl",r),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(11,nt,e))}}function ae(o,i){if(1&o&&(t.ynx(0),t.YNc(1,ie,10,13,"ng-container",0),t.BQk()),2&o){const e=i.ngIf;t.oxw(4);const n=t.MAs(6);t.xp6(1),t.Q6J("ngIf",null==e||null==e.items?null:e.items.length)("ngIfElse",n)}}function re(o,i){if(1&o&&(t.ynx(0),t.YNc(1,ae,2,2,"ng-container",0),t.ALo(2,"async"),t.BQk()),2&o){const e=t.oxw(3),n=t.MAs(4);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,e.analysisData))("ngIfElse",n)}}function se(o,i){if(1&o&&(t.TgZ(0,"div",30)(1,"span",31),t._uU(2),t.qZA(),t._UZ(3,"bb-amount-ui",32),t.qZA()),2&o){const e=i.model,n=t.oxw(4).ngIf;t.xp6(2),t.Oqu(e.name),t.xp6(1),t.Q6J("amount",e.value)("currency",null==n||null==n.categoryData||null==n.categoryData.total?null:n.categoryData.total.currencyCode)}}const le=function(o){return{domain:o}};function _e(o,i){if(1&o&&(t.TgZ(0,"ngx-charts-bar-vertical",28),t.YNc(1,se,4,3,"ng-template",null,29,t.W1O),t.qZA()),2&o){const e=i.ngIf,n=t.oxw(3).ngIf,a=t.oxw(4);t.Q6J("scheme",t.VKq(11,le,e.colors))("results",n.series)("gradient",e.gradient)("xAxis",e.showXAxis)("yAxis",e.showYAxis)("legend",e.showLegend)("showXAxisLabel",e.showXAxisLabel)("showYAxisLabel",e.showYAxisLabel)("yAxisTickFormatting",a.customYAxisTickFormatting(n))("showGridLines",!0)("roundEdges",e.roundEdges)}}function ce(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"div",26),t.YNc(2,_e,3,13,"ngx-charts-bar-vertical",27),t.ALo(3,"async"),t.qZA(),t.BQk()),2&o){const e=t.oxw(6);t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,e.chartOptions))}}function de(o,i){1&o&&t.GkF(0)}function pe(o,i){if(1&o&&(t.ynx(0),t.YNc(1,de,1,0,"ng-container",23),t.BQk()),2&o){const e=t.oxw(2).ngIf;t.oxw(4);const n=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(2,nt,e.categoryData))}}function ue(o,i){if(1&o&&(t.ynx(0),t.YNc(1,ce,4,3,"ng-container",0),t.YNc(2,pe,2,4,"ng-container",0),t.BQk()),2&o){const e=t.oxw().ngIf;t.oxw(4);const n=t.MAs(6);t.xp6(1),t.Q6J("ngIf",e.series&&e.series.length)("ngIfElse",n),t.xp6(1),t.Q6J("ngIf",null==e.categoryData||null==e.categoryData.items?null:e.categoryData.items.length)("ngIfElse",n)}}function ge(o,i){if(1&o&&(t.ynx(0),t.YNc(1,ue,3,4,"ng-container",0),t.BQk()),2&o){const e=t.oxw(4),n=t.MAs(4);t.xp6(1),t.Q6J("ngIf",!e.isLoading)("ngIfElse",n)}}function he(o,i){if(1&o&&(t.ynx(0),t.YNc(1,ge,2,2,"ng-container",0),t.ALo(2,"async"),t.BQk()),2&o){const e=t.oxw(3),n=t.MAs(4);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,e.analysisPeriodData))("ngIfElse",n)}}function Se(o,i){if(1&o&&(t.ynx(0),t.YNc(1,re,3,4,"ng-container",16),t.YNc(2,he,3,4,"ng-container",16),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",1===e.selectedTab),t.xp6(1),t.Q6J("ngIf",1!==e.selectedTab)}}function me(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",10)(2,"div",11)(3,"bb-month-selector-ui",12),t.NdJ("change",function(a){return t.CHM(e),t.oxw().onPeriodRangeChange(a)}),t.qZA(),t.YNc(4,te,2,3,"div",13),t.YNc(5,Se,3,2,"ng-container",0),t.ALo(6,"async"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(),n=t.MAs(6);let a;t.xp6(3),t.Q6J("selectedTab",e.selectedTab),t.xp6(1),t.Q6J("ngIf",1===e.selectedTab),t.xp6(1),t.Q6J("ngIf",null==(a=t.lcZ(6,4,e.arrangementIds))?null:a.length)("ngIfElse",n)}}function Ae(o,i){if(1&o&&t._UZ(0,"bb-empty-state-ui",33),2&o){const e=t.oxw();t.Q6J("subtitle",e.error)}}function Ee(o,i){1&o&&t._UZ(0,"bb-loading-indicator-ui",34)}function fe(o,i){1&o&&(t.TgZ(0,"div",35),t._UZ(1,"bb-empty-state-ui",36),t.qZA())}function Ne(o,i){1&o&&(t.TgZ(0,"span",44),t.SDv(1,45),t.qZA())}function Ce(o,i){1&o&&(t.TgZ(0,"span",44),t.SDv(1,46),t.qZA())}function be(o,i){if(1&o&&(t.TgZ(0,"div",47)(1,"div",48)(2,"div",49),t._UZ(3,"bb-icon-ui",50),t.TgZ(4,"strong")(5,"span",51),t._uU(6),t.qZA()()(),t.TgZ(7,"div",39)(8,"div",52),t._UZ(9,"bb-amount-ui",21),t.qZA()()()()),2&o){const e=i.$implicit,n=t.oxw(2);t.xp6(3),t.MGl("name","category-",n.transformCategoryToIconName(e.category),""),t.xp6(3),t.Oqu(e.category),t.xp6(3),t.Q6J("amount",e.totalAmount.amount)("currency",e.totalAmount.currencyCode)}}function Ie(o,i){if(1&o&&(t.TgZ(0,"div",37)(1,"div",38)(2,"div",39),t.YNc(3,Ne,2,0,"span",40),t.YNc(4,Ce,2,0,"span",40),t.qZA(),t.TgZ(5,"div",39)(6,"div",41)(7,"span"),t.SDv(8,42),t.qZA(),t._UZ(9,"bb-amount-ui",21),t.qZA()()()(),t.YNc(10,be,10,4,"div",43)),2&o){const e=i.data,n=t.oxw();t.xp6(3),t.Q6J("ngIf",n.isTypeSpending),t.xp6(1),t.Q6J("ngIf",!n.isTypeSpending),t.xp6(5),t.Q6J("amount",e.total.amount)("currency",e.total.currencyCode),t.xp6(1),t.Q6J("ngForOf",null==e?null:e.items)}}function Me(o,i){if(1&o&&(t.O4$(),t.TgZ(0,"g")(1,"text",53,54),t._uU(3),t.qZA()(),t.TgZ(4,"g")(5,"text",55,56),t._uU(7),t.qZA()(),t.kcU(),t.TgZ(8,"span",57),t.SDv(9,58),t.qZA()),2&o){const e=i.data,n=i.color,a=i.label,r=i.icon,s=t.oxw();t.Udp("transform",s.getStyleTransform(e,-s.iconWidth,s.getTransformOffsetY(e)))("fill",n),t.uIk("transform",s.getAttrTransform(e,-s.iconWidth,s.getTransformOffsetY(e))),t.xp6(1),t.Q6J("ngClass",s.getCategoryClass(null==e||null==e.data?null:e.data.cssClass)),t.xp6(2),t.hij(" ",r," "),t.xp6(1),t.Udp("transform",s.getStyleTransform(e,0,0))("transition",s.getTextTransition()),t.uIk("transform",s.getAttrTransform(e,0,0)),t.xp6(1),t.Udp("fill",n)("text-anchor","middle")("shape-rendering","crispEdges"),t.ekj("animation",!0),t.xp6(2),t.hij(" ",a," "),t.xp6(2),t.pQV(null==e||null==e.data?null:e.data.cssClass)(a),t.QtT(9)}}function Oe(o,i){if(1&o&&(t.TgZ(0,"span",66),t._UZ(1,"bb-icon-ui",67),t.qZA()),2&o){const e=t.oxw().cssClass,n=t.oxw();t.xp6(1),t.MGl("name","category-",n.transformCategoryToIconName(e),"")}}function ye(o,i){if(1&o&&(t.TgZ(0,"p",68),t.SDv(1,69),t.qZA()),2&o){const e=t.oxw().portion;t.xp6(1),t.pQV(e),t.QtT(1)}}function Te(o,i){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw(2).trend,n=t.oxw();t.xp6(1),t.hij(" ",n.abs(e),"% ")}}function ve(o,i){1&o&&(t.ynx(0),t.SDv(1,76),t.BQk())}function xe(o,i){1&o&&(t.ynx(0),t.SDv(1,77),t.BQk())}function Be(o,i){1&o&&(t.ynx(0),t.SDv(1,78),t.BQk())}function De(o,i){if(1&o&&(t.ynx(0),t._UZ(1,"hr",70),t.TgZ(2,"p",71)(3,"span",72),t._UZ(4,"bb-icon-ui",73),t.TgZ(5,"span",74),t.YNc(6,Te,2,1,"ng-container",16),t.qZA()(),t.TgZ(7,"span",75),t.YNc(8,ve,2,0,"ng-container",16),t.YNc(9,xe,2,0,"ng-container",16),t.YNc(10,Be,2,0,"ng-container",16),t.qZA()(),t.BQk()),2&o){const e=t.oxw().trend,n=t.oxw();t.xp6(2),t.Q6J("ngClass",n.textClass(e,n.isTypeSpending)),t.xp6(2),t.Q6J("name",n.iconClass(e)),t.xp6(2),t.Q6J("ngIf",n.abs(e)>=1),t.xp6(2),t.Q6J("ngIf",e<=-1),t.xp6(1),t.Q6J("ngIf",e>=1),t.xp6(1),t.Q6J("ngIf",e>-1&&e<1)}}function Le(o,i){if(1&o&&(t.TgZ(0,"div",59,60)(2,"span",61),t.YNc(3,Oe,2,1,"span",62),t._uU(4),t.qZA(),t.TgZ(5,"div")(6,"div",63)(7,"strong"),t._UZ(8,"bb-amount-ui",64),t.qZA()(),t.YNc(9,ye,2,1,"p",65),t.YNc(10,De,11,6,"ng-container",16),t.qZA()()),2&o){const e=i.name,n=i.totalAmount,a=i.portion,r=i.trend,s=i.arrowClass,c=t.oxw();t.Q6J("ngClass",s),t.xp6(3),t.Q6J("ngIf",c.relevance>=a),t.xp6(1),t.hij(" ",e," "),t.xp6(4),t.Q6J("amount",n.amount)("currency",n.currencyCode),t.xp6(1),t.Q6J("ngIf",void 0!==n.amount),t.xp6(1),t.Q6J("ngIf",void 0!==r)}}function we(o,i){1&o&&t._UZ(0,"bb-header-ui",5)}function Pe(o,i){1&o&&t._UZ(0,"bb-header-ui",6)}var T=(()=>{return(o=T||(T={})).INCOME="CRDT",o.SPENDING="DBIT",T;var o})();const ot=new t.OlP("IncomeSpendingAnalysisJourneyConfiguration injection token"),it={analysisType:T.SPENDING};let at=(()=>{class o{constructor(e){e=e||{},this._config=Object.assign(Object.assign({},it),e)}get defaults(){return it}get analysisType(){return this._config.analysisType}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(ot,8))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),Re=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["bb-income-spending-analysis-journey"]],features:[t._Bn([at])],decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"router-outlet")},directives:[O.lC],encapsulation:2}),o})();var D=(()=>{return(o=D||(D={})).LEFT="bb-arrow-left",o.RIGHT="bb-arrow-right",D;var o})();let Ye=(()=>{class o{constructor(){this.radius=0,this.max=1,this.value=0,this.explodeSlices=!1,this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.isIE=/(edge|msie|trident)/i.test(navigator.userAgent),this.trimLabel=d._C}get labelText(){return this.labelTrim?(0,d._C)(this.label||"",this.labelTrimSize):this.label}get textX(){return this.data?this.data.pos[0]:0}get textY(){return this.data?this.data.pos[1]:0}get textTransition(){return this.isIE||!this.animations?"":"transform 0.75s"}get styleTransform(){return this.isIE?"":`translate3d(${this.textX}px, ${this.textY}px, 0)`}get attrTransform(){return this.isIE?`translate(${this.textX}, ${this.textY})`:""}ngOnInit(){if(void 0===this.data)throw new Error(`"data" input is required in "${this.constructor.name}"`)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["g","bb-charts-pie-label",""]],inputs:{data:"data",radius:"radius",label:"label",color:"color",icon:"icon",max:"max",value:"value",explodeSlices:"explodeSlices",animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize",template:"template"},attrs:Lt,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["dy",".35em",1,"pie-label"]],template:function(e,n){if(1&e&&(t.YNc(0,Rt,2,7,"ng-container",0),t.YNc(1,Ut,3,12,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",n.template)("ngIfElse",a)}},directives:[h.O5,h.tP],encapsulation:2,changeDetection:0}),o})();function rt(o,i,e){return"top"===e?o.top-7:"bottom"===e?o.top+o.height-i.height+7:"center"===e?o.top+o.height/2-i.height/2:void 0}function st(o,i,e){return"left"===e?o.left-7:"right"===e?o.left+o.width-i.width+7:"center"===e?o.left+o.width/2-i.width/2:void 0}class E{static calculateVerticalAlignment(i,e,n){let a=rt(i,e,n);return a+e.height>window.innerHeight&&(a=window.innerHeight-e.height),a||0}static calculateVerticalCaret(i,e,n,a){let r=0;"top"===a&&(r=i.height/2-n.height/2+7),"bottom"===a&&(r=e.height-i.height/2-n.height/2-7),"center"===a&&(r=e.height/2-n.height/2);const s=rt(i,e,a);return s+e.height>window.innerHeight&&(r+=s+e.height-window.innerHeight),r}static calculateHorizontalAlignment(i,e,n){let a=st(i,e,n);return a+e.width>window.innerWidth&&(a=window.innerWidth-e.width),a||0}static calculateHorizontalCaret(i,e,n,a){let r=0;"left"===a&&(r=i.width/2-n.width/2+7),"right"===a&&(r=e.width-i.width/2-n.width/2-7),"center"===a&&(r=e.width/2-n.width/2);const s=st(i,e,a);return s+e.width>window.innerWidth&&(r+=s+e.width-window.innerWidth),r}static shouldFlip(i,e,n,a){let r=!1;return"right"===n&&i.left+i.width+e.width+a>window.innerWidth&&(r=!0),"left"===n&&i.left-e.width-a<0&&(r=!0),"top"===n&&i.top-e.height-a<0&&(r=!0),"bottom"===n&&i.top+i.height+e.height+a>window.innerHeight&&(r=!0),r}static positionCaret(i,e,n,a,r){let s=0,c=0;return i===d.Mr.Right?(c=-7,s=E.calculateVerticalCaret(n,e,a,r)):i===d.Mr.Left?(c=e.width,s=E.calculateVerticalCaret(n,e,a,r)):i===d.Mr.Top?(s=e.height,c=E.calculateHorizontalCaret(n,e,a,r)):i===d.Mr.Bottom&&(s=-7,c=E.calculateHorizontalCaret(n,e,a,r)),{top:s,left:c}}static positionContent(i,e,n,a,r){let s=0,c=0;return i===d.Mr.Right?(c=n.left+n.width+a,s=E.calculateVerticalAlignment(n,e,r)):i===d.Mr.Left?(c=n.left-e.width-a,s=E.calculateVerticalAlignment(n,e,r)):i===d.Mr.Top?(s=n.top-e.height-a,c=E.calculateHorizontalAlignment(n,e,r)):i===d.Mr.Bottom&&(s=n.top+n.height+a,c=E.calculateHorizontalAlignment(n,e,r)),{top:s,left:c}}static determinePlacement(i,e,n,a){if(E.shouldFlip(n,e,i,a)){if(i===d.Mr.Right)return d.Mr.Left;if(i===d.Mr.Left)return d.Mr.Right;if(i===d.Mr.Top)return d.Mr.Bottom;if(i===d.Mr.Bottom)return d.Mr.Top}return i}}let Je=(()=>{class o{constructor(e,n){this.element=e,this.renderer=n}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!this.host)return;const e=this.element.nativeElement,n=this.host.nativeElement.getBoundingClientRect();if(!n.height&&!n.width)return;const a=e.getBoundingClientRect();this.checkFlip(n,a),this.positionContent(e,n,a),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,n,a){if(this.pos&&2===this.pos.length){const _=this.pos[0]+(this.context.arrowSize||0)*(this.placement===d.Mr.Right?1:-1)+a.width*(this.placement===d.Mr.Right?0:-1);return this.renderer.setStyle(e,"top",this.pos[1]-a.height/2+"px"),void this.renderer.setStyle(e,"left",`${_}px`)}const{top:r,left:s}=E.positionContent(this.placement,a,n,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${r}px`),this.renderer.setStyle(e,"left",`${s}px`)}checkFlip(e,n){this.placement=E.determinePlacement(this.placement,n,e,this.spacing)}onWindowResize(){this.position()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(t.Qsj))},o.\u0275cmp=t.Xpm({type:o,selectors:[["bb-tooltip-content"]],hostVars:2,hostBindings:function(e,n){1&e&&t.NdJ("resize",function(){return n.onWindowResize()},!1,t.Jf7),2&e&&t.Tol(n.cssClasses)},inputs:{host:"host",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context",pos:"pos"},decls:3,vars:2,consts:[[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Jt,2,4,"span",1),t.YNc(2,Ft,1,1,"span",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",!n.title),t.xp6(1),t.Q6J("ngIf",n.title))},directives:[h.O5,h.tP],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),function Ct(o,i,e,n){var s,a=arguments.length,r=a<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,i,e,n);else for(var c=o.length-1;c>=0;c--)(s=o[c])&&(r=(a<3?s(r):a>3?s(i,e,r):s(i,e))||r);a>3&&r&&Object.defineProperty(i,e,r)}([(0,d.rY)(100),W("design:type",Function),W("design:paramtypes",[]),W("design:returntype",void 0)],o.prototype,"onWindowResize",null),o})(),lt=(()=>{class o{constructor(e,n,a){this.applicationRef=e,this.componentFactoryResolver=n,this.injector=a}static setGlobalRootViewContainer(e){o.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(o.globalRootViewContainer)return o.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function Fe(o){return o.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,n){if(n){if(void 0!==n.inputs){const a=Object.getOwnPropertyNames(n.inputs);for(const r of a)e.instance[r]=n.inputs[r]}if(void 0!==n.outputs){const a=Object.getOwnPropertyNames(n.outputs);for(const r of a)e.instance[r]=n.outputs[r]}}return e}appendComponent(e,n={},a){a||(a=this.getRootViewContainer());const r=this.getComponentRootNode(a),s=new $.u0(r,this.componentFactoryResolver,this.applicationRef,this.injector),c=new $.C5(e),_=s.attach(c);return this.projectComponentBindings(_,n),_}}return o.globalRootViewContainer=null,o.\u0275fac=function(e){return new(e||o)(t.LFG(t.z2F),t.LFG(t._Vd),t.LFG(t.zs3))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),_t=(()=>{class o extends class Ge{constructor(i){this.injectionService=i,this.defaults={},this.components=new Map}getByType(i=this.type){return this.components.get(i)}create(i){return this.createByType(this.type,i)}createByType(i,e){e=this.assignDefaults(e);const n=this.injectComponent(i,e);return this.register(i,n),n}destroy(i){const e=this.components.get(i.componentType);if(e&&e.length){const n=e.indexOf(i);n>-1&&(e[n].destroy(),e.splice(n,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(i){const e=this.components.get(i);if(e&&e.length){let n=e.length-1;for(;n>=0;)this.destroy(e[n--])}}injectComponent(i,e){return this.injectionService.appendComponent(i,e)}assignDefaults(i){const e=Object.assign({},this.defaults.inputs),n=Object.assign({},this.defaults.outputs);return!i.inputs&&!i.outputs&&(i={inputs:i}),e&&(i.inputs=Object.assign(Object.assign({},e),i.inputs)),n&&(i.outputs=Object.assign(Object.assign({},n),i.outputs)),i}register(i,e){this.components.has(i)||this.components.set(i,[]),(this.components.get(i)||[]).push(e)}}{constructor(e){super(e),this.injectionService=e,this.type=Je}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(lt))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),We=(()=>{class o{constructor(e,n,a){this.tooltipService=e,this.viewContainerRef=n,this.renderer=a,this.tooltipCssClass="",this.tooltipTitle="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=d.Mr.Top,this.tooltipAlignment=d.Mr.Center,this.tooltipType=d.qN.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=d.q3.all,this.tooltipImmediateExit=!1,this.show=new t.vpe,this.hide=new t.vpe}get listensForFocus(){return this.tooltipShowEvent===d.q3.all||this.tooltipShowEvent===d.q3.focus}get listensForHover(){return this.tooltipShowEvent===d.q3.all||this.tooltipShowEvent===d.q3.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;const n=e?0:this.tooltipShowTimeout;clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const a=this.createBoundOptions();this.component=this.tooltipService.create(a),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},n)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen(document,"click",n=>{e.contains(n.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;const n=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?n():this.timeout=setTimeout(n,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext,pos:this.tooltipPosition}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(_t),t.Y36(t.s_b),t.Y36(t.Qsj))},o.\u0275dir=t.lG2({type:o,selectors:[["","bb-tooltip",""]],hostBindings:function(e,n){1&e&&t.NdJ("focusin",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(r){return n.onMouseLeave(r.target)})("click",function(){return n.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipPosition:"tooltipPosition",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),o})(),Ke=(()=>{class o{constructor(e){this.currencyPipe=e,this.series=[],this.innerRadius=60,this.outerRadius=80,this.margins=[0,0,0,0],this.showLabels=!1,this.activeEntries=[],this.labelThreshold=0,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new t.vpe,this.activate=new t.vpe,this.deactivate=new t.vpe,this.dblclick=new t.vpe,this.data=[]}ngOnChanges(){this.update()}update(){const n=(0,ft.Z)().value(a=>a.value).sort(null)(this.series);this.max=(0,Et.Z)(n,a=>a.value),this.data=this.calculateLabelPositions(n),this.tooltipText=this.tooltipText||this.defaultTooltipText}midAngle(e){return e.startAngle+(e.endAngle-e.startAngle)/2}outerArc(e){const n=Number(this.outerRadius||0)+e;return(0,Nt.Z)().innerRadius(n).outerRadius(n)}calculateLabelPositions(e){const n=e;return n.forEach(a=>{a.pos=this.outerArc(30).centroid(a),a.edge=this.outerArc(0).centroid(a)}),n}labelVisible(e){return this.showLabels&&e.data.portion>this.labelThreshold}getTooltipTitle(e){if(!this.tooltipTemplate&&"function"==typeof this.tooltipText)return this.tooltipText(e)}getTooltipPlacement(e){return this.midAngle(e)>Math.PI?d.Mr.Left:d.Mr.Right}labelText(e){return this.labelFormatting?this.labelFormatting(e.data.value):this.currencyPipe.transform(e.data.value,e.data.totalAmount.currencyCode,void 0,"1.0-0")||e.data.value.toString()}label(e){return(0,d.N4)(e.data.name)}defaultTooltipText(e){return`\n      <span class="tooltip-label">${this.label(e)}</span>\n      <span class="tooltip-val">${(0,d.N4)(e.data.value)}</span>\n    `}getTooltipPosition(e){const n=Number(this.outerRadius||0)+this.margins[0];let a=[0,0];if(this.chartElement){const r=this.chartElement.nativeElement.getBoundingClientRect();a=[r.left+n,r.top+n]}return[a[0]+e.edge[0],a[1]+e.edge[1]]}color(e){return this.colors?this.colors.getColor(this.label(e)):""}icon(e){if(!this.colors||!this.colors.customColors)return"";const n=this.label(e),a=this.colors.customColors.find(r=>r.name===n);return a?a.icon:""}trackBy(e,n){return n.data.name}onClick(e){this.select.emit(e)}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>e.name===a.name&&e.series===a.series)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.H9))},o.\u0275cmp=t.Xpm({type:o,selectors:[["g","bb-charts-pie-series",""]],inputs:{colors:"colors",series:"series",dims:"dims",chartElement:"chartElement",innerRadius:"innerRadius",outerRadius:"outerRadius",margins:"margins",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelThreshold:"labelThreshold",labelFormatting:"labelFormatting",labelTemplate:"labelTemplate",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[t.TTD],attrs:Wt,decls:1,vars:2,consts:[["data-role","analysis-donut-chart-segment","bb-tooltip","",3,"tooltipDisabled","tooltipPlacement","tooltipType","tooltipShowCaret","tooltipSpacing","tooltipTitle","tooltipPosition","tooltipTemplate","tooltipContext",4,"ngFor","ngForOf","ngForTrackBy"],["data-role","analysis-donut-chart-segment","bb-tooltip","",3,"tooltipDisabled","tooltipPlacement","tooltipType","tooltipShowCaret","tooltipSpacing","tooltipTitle","tooltipPosition","tooltipTemplate","tooltipContext"],["bb-charts-pie-label","",3,"data","radius","color","icon","label","labelTrim","labelTrimSize","template","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","select","activate","deactivate","dblclick"],["bb-charts-pie-label","",3,"data","radius","color","icon","label","labelTrim","labelTrimSize","template","max","value","explodeSlices","animations"]],template:function(e,n){1&e&&t.YNc(0,Zt,3,22,"g",0),2&e&&t.Q6J("ngForOf",n.data)("ngForTrackBy",n.trackBy)},directives:[Ye,d.D8,h.sg,We,h.O5],encapsulation:2,changeDetection:0}),o})(),Ze=(()=>{class o extends d.ep{constructor(e,n,a,r){super(e,n,a,r),this.chartElement=e,this.zone=n,this.cd=a,this.series=[],this.labels=!1,this.legend=!1,this.legendTitle="Legend",this.explodeSlices=!1,this.doughnut=!1,this.arcWidth=.25,this.activeEntries=[],this.tooltipDisabled=!1,this.labelThreshold=0,this.trimLabels=!0,this.maxLabelLength=10,this.dblclick=new t.vpe,this.select=new t.vpe,this.activate=new t.vpe,this.deactivate=new t.vpe,this.domain=[],this.margins=[50,50,50,50]}get chartEl(){return this.chartElement}update(){var e;super.update(),this.dims=(0,d.iG)({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend}),this.translation=`translate(${this.margins[3]+this.dims.width/2}, ${this.margins[0]+this.dims.height/2})`,this.outerRadius=Math.min(this.dims.width,this.dims.height)/2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),null===(e=this.series)||void 0===e||e.sort((r,s)=>this.domain.indexOf(r.name)-this.domain.indexOf(s.name)),this.data=this.series,this.setColors(),this.legendOptions=this.getLegendOptions()}getDomain(){const e=[];return this.results.map(n=>{let a=n.name;a="Date"===a.constructor.name?a.toLocaleDateString():a.toLocaleString(),-1===e.indexOf(a)&&e.push(a)}),e}onClick(e){this.select.emit(e)}setColors(){this.colors=new d.vH(this.scheme,d.N3.Ordinal,this.domain,this.customColors)}getLegendOptions(){return{scaleType:d.N3.Ordinal,domain:this.domain,colors:this.colors,title:this.legendTitle}}onActivate(e){this.activeEntries.findIndex(a=>a.name===e.name&&a.value===e.value)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){const n=this.activeEntries.findIndex(a=>a.name===e.name&&a.value===e.value);this.activeEntries.splice(n,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(t.Lbi))},o.\u0275cmp=t.Xpm({type:o,selectors:[["bb-charts-pie-chart"]],contentQueries:function(e,n,a){if(1&e&&t.Suo(a,kt,7),2&e){let r;t.iGM(r=t.CRH())&&(n.tooltipTemplate=r.first)}},inputs:{series:"series",labels:"labels",legend:"legend",legendTitle:"legendTitle",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",gradient:"gradient",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",labelFormatting:"labelFormatting",labelTemplate:"labelTemplate",labelThreshold:"labelThreshold",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},features:[t.qOj],decls:3,vars:28,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"pie-chart","chart"],["bb-charts-pie-series","",3,"colors","series","chartElement","showLabels","labelThreshold","labelFormatting","labelTemplate","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","margins","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText","dblclick","select","activate","deactivate"]],template:function(e,n){1&e&&(t.TgZ(0,"ngx-charts-chart",0),t.NdJ("legendLabelActivate",function(r){return n.onActivate(r)})("legendLabelDeactivate",function(r){return n.onDeactivate(r)})("legendLabelClick",function(r){return n.onClick(r)}),t.O4$(),t.TgZ(1,"g",1)(2,"g",2),t.NdJ("dblclick",function(r){return n.dblclick.emit(r)})("select",function(r){return n.onClick(r)})("activate",function(r){return n.onActivate(r)})("deactivate",function(r){return n.onDeactivate(r)}),t.qZA()()()),2&e&&(t.Q6J("view",t.WLB(25,Ht,n.width,n.height))("showLegend",n.legend)("legendOptions",n.legendOptions)("activeEntries",n.activeEntries)("animations",n.animations),t.xp6(1),t.uIk("transform",n.translation),t.xp6(1),t.Q6J("colors",n.colors)("series",n.series)("chartElement",n.chartEl)("showLabels",n.labels)("labelThreshold",n.labelThreshold)("labelFormatting",n.labelFormatting)("labelTemplate",n.labelTemplate)("trimLabels",n.trimLabels)("maxLabelLength",n.maxLabelLength)("activeEntries",n.activeEntries)("innerRadius",n.innerRadius)("outerRadius",n.outerRadius)("margins",n.margins)("explodeSlices",n.explodeSlices)("gradient",n.gradient)("animations",n.animations)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)("tooltipText",n.tooltipText))},directives:[d.xH,Ke],styles:[".ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .bar,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}.pie-label{font-size:11px}.pie-label.animation{animation:.75s ease-in fadeIn}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{animation:3s linear drawOut;transition:d .75s}@keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}\n"],encapsulation:2,changeDetection:0}),o})(),ke=(()=>{class o{constructor(e){this.cssVariableService=e,this.relevancePercentage=0,this.classes="absolute-center w-100 h-100"}get template(){return this.tooltipTmpl||this.defaultTooltipTemplate}expandModel(e){if(!this.data)return e;const n=this.data.find(a=>a.name===e.name)||e;return Object.assign(n,{arrowClass:n.totalPortion-n.portion/2>=50?D.RIGHT:D.LEFT,arrowSize:this.arrowSize})}ngOnInit(){this.cssVariableService.getCssVariable("--chart-tooltip-caret-size").then(e=>this.arrowSize=parseInt(e||"",10)||0)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(J.d))},o.\u0275cmp=t.Xpm({type:o,selectors:[["bb-donut-chart-ui"]],viewQuery:function(e,n){if(1&e&&t.Gf(Qt,7),2&e){let a;t.iGM(a=t.CRH())&&(n.defaultTooltipTemplate=a.first)}},hostVars:2,hostBindings:function(e,n){2&e&&t.Tol(n.classes)},inputs:{data:"data",colors:"colors",relevancePercentage:"relevancePercentage",tooltipTmpl:"tooltipTmpl",labelTmpl:"labelTmpl"},decls:5,vars:8,consts:[[3,"results","series","customColors","doughnut","arcWidth","labels","labelThreshold","labelTemplate"],["tooltipTemplate",""],["defaultTooltipTemplate",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"chart-tooltip-analysis-category"],[1,"chart-tooltip-analysis-amount"],[3,"amount","currency"]],template:function(e,n){1&e&&(t.TgZ(0,"bb-charts-pie-chart",0),t.YNc(1,jt,1,2,"ng-template",null,1,t.W1O),t.qZA(),t.YNc(3,Vt,4,3,"ng-template",null,2,t.W1O)),2&e&&t.Q6J("results",n.data)("series",n.data)("customColors",n.colors)("doughnut",!0)("arcWidth",.4)("labels",!0)("labelThreshold",n.relevancePercentage)("labelTemplate",n.labelTmpl)},directives:[Ze,y.G4,h.tP],encapsulation:2,changeDetection:0}),o})(),He=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[lt,_t],imports:[[h.ez]]}),o})(),ct=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[h.H9],imports:[[h.ez,d.a4,He],d.a4]}),o})(),dt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[J.d],imports:[[h.ez,y.i7,ct],ct,y.i7]}),o})();var v=(()=>{return(o=v||(v={})).INCOME="CRDT",o.SPENDING="DBIT",v;var o})(),R=(()=>{return(o=R||(R={})).DAY="DAY",o.WEEK="WEEK",o.MONTH="MONTH",o.YEAR="YEAR",R;var o})();const Qe=R.MONTH;var L=(()=>{return(o=L||(L={})).POSITIVE="text-danger",o.NEGATIVE="text-success",L;var o})(),w=(()=>{return(o=w||(w={})).POSITIVE="arrow-upward",o.NEGATIVE="arrow-downward",w;var o})();const x=[{interval:"MONTH",duration:1,default:!0},{interval:"MONTH",duration:6},{interval:"MONTH",duration:12}],U="yyyy-MM-dd";let pt=(()=>{class o{constructor(){this.change=new t.vpe,this.selectedTab=x[Math.max(x.map(e=>e.default).indexOf(!0),0)].duration}onPeriodRangeChange(e){this.selectedTab=e;const n=new Date;n.setMonth(n.getMonth()-(e-1),1),this.change.emit({tabIndex:e,period:{start:n,end:new Date}})}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["bb-month-selector-ui"]],inputs:{selectedTab:"selectedTab"},outputs:{change:"change"},decls:23,vars:9,consts:function(){let i,e,n,a,r,s,c,_,l;return i="1",e="\xA0month",n="m",a="6",r="\xA0months",s="m",c="12",_="\xA0months",l="m",[[1,"bb-block","bb-block--lg","bb-text-align-center"],[1,"btn-group","btn-group-toggle"],["data-role","1-month-btn","value","1",1,"btn","btn-secondary",3,"ngClass","click"],i,[1,"d-none","d-md-inline"],e,[1,"d-md-none"],n,["data-role","6-month-btn","value","6",1,"btn","btn-secondary",3,"ngClass","click"],a,r,s,["data-role","12-month-btn","value","12",1,"btn","btn-secondary",3,"ngClass","click"],c,_,l]},template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return n.onPeriodRangeChange(1)}),t.TgZ(3,"span"),t.SDv(4,3),t.qZA(),t.TgZ(5,"span",4),t.SDv(6,5),t.qZA(),t.TgZ(7,"span",6),t.SDv(8,7),t.qZA()(),t.TgZ(9,"button",8),t.NdJ("click",function(){return n.onPeriodRangeChange(6)}),t.TgZ(10,"span"),t.SDv(11,9),t.qZA(),t.TgZ(12,"span",4),t.SDv(13,10),t.qZA(),t.TgZ(14,"span",6),t.SDv(15,11),t.qZA()(),t.TgZ(16,"button",12),t.NdJ("click",function(){return n.onPeriodRangeChange(12)}),t.TgZ(17,"span"),t.SDv(18,13),t.qZA(),t.TgZ(19,"span",4),t.SDv(20,14),t.qZA(),t.TgZ(21,"span",6),t.SDv(22,15),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("ngClass",t.VKq(3,K,1===n.selectedTab)),t.xp6(7),t.Q6J("ngClass",t.VKq(5,K,6===n.selectedTab)),t.xp6(7),t.Q6J("ngClass",t.VKq(7,K,12===n.selectedTab)))},directives:[h.mk],encapsulation:2,changeDetection:0}),o})(),ut=(()=>{class o{constructor(e,n){this.categoryTotalsHttpService=e,this.categoryPeriodTotalsHttpService=n}loadAnalysisData(e){return this.categoryTotalsHttpService.getCategorytotals(e)}loadAnalysisPeriodData(e){return this.categoryPeriodTotalsHttpService.getCategoryPeriodTotals(e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(b.jy),t.LFG(b.Uk))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();const $e=(o,i)=>parseFloat(i.totalAmount.amount)>parseFloat(o.totalAmount.amount)?1:-1;let gt=(()=>{class o{constructor(e,n,a,r,s,c){this.service=e,this.cssVariableService=n,this.route=a,this.datePipe=r,this.cd=s,this.locale=c,this.isIE=/(edge|msie|trident)/i.test(navigator.userAgent),this.endDateValue=new Date,this.startDateValue=new Date(this.endDateValue.getFullYear(),this.endDateValue.getMonth(),1),this.initialDateParams={periodStartDate:this.datePipe.transform(this.startDateValue,U)||"",periodEndDate:this.datePipe.transform(this.endDateValue,U)||"",intervalDuration:Qe},this.labelPositioned=!1,this.iconHeight=0,this.labelHeight=0,this.iconWidth=0,this.selectedTab=x[Math.max(x.map(_=>_.default).indexOf(!0),0)].duration,this.chartOptions=(0,q.D)(this.cssVariableService.getCssVariable("--chart-group-bar-color")).pipe((0,I.U)(_=>({colors:_?[_.slice(0,_.indexOf(","))]:[""],showXAxis:!0,showYAxis:!0,gradient:!1,showLegend:!1,showXAxisLabel:!0,showYAxisLabel:!0,roundEdges:!1}))),this.isLoading=!1,this.arrangementIds=this.route.paramMap.pipe((0,I.U)(_=>{const l=_.get("selectedAccount");return l?[l]:[]})),this.dateParams=new Mt.X(this.initialDateParams),this.dataParams=(0,X.a)([this.arrangementIds,this.dateParams.asObservable()]).pipe((0,I.U)(([_,l])=>(this.error=void 0,Object.assign(Object.assign({arrangementIds:_||[]},l),{creditDebitIndicator:this.analysisType||v.SPENDING}))),(0,yt.d)(1)),this.analysisData=this.dataParams.pipe((0,Tt.h)(_=>!!_.arrangementIds.length),(0,vt.w)(_=>this.service.loadAnalysisData(_)),(0,I.U)(_=>{if(!_||!_.items)return _;this.labelPositioned=!1;const l=(o=>{let i=0;const e=o.length;for(let n=0;n<e;n++)i+=o[n].portion;return i})(_.items);return _.items.sort($e),Object.assign(Object.assign({},_),{series:_.items.map(p=>Object.assign(Object.assign({},p),{name:p.category,value:parseFloat(p.totalAmount.amount),cssClass:this.transformCategoryToIconName(p.category),totalPortion:l}))})}),(0,et.K)(_=>this.handleError(_)),(0,xt.B)()),this.analysisPeriodData=(0,Ot.$)(this.analysisData,this.dataParams).pipe((0,Bt.z)(([_,l])=>{const p=(_.items||[]).map(g=>g.category),S=Object.assign(Object.assign({},l),{categories:p.length?p:[""]});return this.service.loadAnalysisPeriodData(S).pipe((0,I.U)(this.formatPeriodData),(0,I.U)(g=>({series:g,categoryData:_,items:[]})))}),(0,Dt.b)(()=>{this.isLoading=!1,this.cd.markForCheck()}),(0,et.K)(_=>this.handleError(_))),this.colors=(0,X.a)([this.analysisData,(0,q.D)(this.cssVariableService.getCssVariable("--chart-categories-colors"))]).pipe((0,I.U)(([_,l])=>{if(!(l&&_&&_.series&&_.series.length))return[];const p=l.split(",").reduce((S,g)=>{const[A,C,m]=g.trim().split(" ");return Object.assign(Object.assign({},S),{[A]:{color:C,icon:m}})},{});return _.series.map(S=>{var g,A;return{name:S.name||"",value:(null===(g=p[S.cssClass])||void 0===g?void 0:g.color)||"",icon:(null===(A=p[S.cssClass])||void 0===A?void 0:A.icon)||""}})})),this.formatPeriodData=this.formatPeriodData.bind(this)}get startDate(){return this.startDateValue}get endDate(){return this.endDateValue}get formatters(){return{end:e=>{const n=new Date;return n.getFullYear()===e.getFullYear()&&n.getMonth()===e.getMonth()&&n.getDate()===e.getDate()?this.translationNow.nativeElement.textContent:this.datePipe.transform(e,"mediumDate")||""}}}get isSpending(){return(0,tt.of)(this.isTypeSpending)}get isTypeSpending(){return this.analysisType===v.SPENDING}get relevance(){return 2}selectTab(e){this.selectedTab=x[Math.max(x.map(n=>n.duration).indexOf(e),0)].duration}handleError(e){return this.error=e.statusText,(0,tt.of)({items:[]})}formatPeriodData(e){return e&&e.periods&&e.total&&0!==parseFloat(e.total.amount)?e.periods.map(n=>{var a;return{name:this.datePipe.transform(n.intervalStartDate,"MMM")||"",value:n.total?parseFloat(n.total.amount):0,currencyCode:null===(a=n.total)||void 0===a?void 0:a.currencyCode}}):[]}transformCategoryToIconName(e){return`${e.toLowerCase().replace(/\W/g,"-").replace(/-{2,}/g,"-")}`}textX(e){return e?e.pos[0]:0}textY(e){return e?e.pos[1]:0}getCategoryClass(e){return`bb-transaction-category-${e}`}getTextTransition(){return this.isIE?"":"transform 0.75s"}getTransformOffsetY(e){const n=e.data.totalPortion-e.data.portion/2;return n>25&&n<75?this.iconHeight+this.labelHeight:-this.labelHeight}getStyleTransform(e,n,a){return this.isIE?"":`translate3d(${this.textX(e)+n}px, ${this.textY(e)+a}px, 0)`}getAttrTransform(e,n,a){return this.isIE?`translate(${this.textX(e)+n}, ${this.textY(e)+a})`:""}textClass(e,n=!0){return e*(n?1:-1)>0?L.POSITIVE:L.NEGATIVE}iconClass(e){return e<-1?w.NEGATIVE:e>1?w.POSITIVE:""}abs(e){return Math.abs(e)}onPeriodRangeChange(e){this.selectTab(e.tabIndex),this.onPeriodChange(e.period)}onPeriodChange(e){this.isLoading=!0,this.startDateValue=e.start,this.endDateValue=e.end,this.dateParams.next(Object.assign(Object.assign({},this.initialDateParams),{periodStartDate:this.datePipe.transform(e.start,U)||"",periodEndDate:this.datePipe.transform(e.end,U)||""}))}customYAxisTickFormatting(e){var n,a;const r=null===(a=null===(n=e.categoryData)||void 0===n?void 0:n.total)||void 0===a?void 0:a.currencyCode,s=r&&(0,h.jK)(r,"wide",this.locale);return c=>`${s} ${c}`}ngOnInit(){this.colors$=this.colors.subscribe(e=>this.colorsValue=e)}ngAfterViewChecked(){this.labelPositioned||!this.chartIcon||!this.chartLabel||(this.labelHeight=this.chartLabel.nativeElement.getBoundingClientRect().height/2,this.iconHeight=this.chartIcon.nativeElement.getBoundingClientRect().height,this.iconWidth=(this.chartIcon.nativeElement.getBoundingClientRect().width-2)/2,this.labelPositioned=!0,this.cd.detectChanges())}ngOnDestroy(){var e;null===(e=this.colors$)||void 0===e||e.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(ut),t.Y36(J.d),t.Y36(O.gz),t.Y36(h.uU),t.Y36(t.sBO),t.Y36(t.soG))},o.\u0275cmp=t.Xpm({type:o,selectors:[["bb-income-spending-analysis-widget"]],viewQuery:function(e,n){if(1&e&&(t.Gf($t,5),t.Gf(qt,5),t.Gf(Xt,7)),2&e){let a;t.iGM(a=t.CRH())&&(n.chartIcon=a.first),t.iGM(a=t.CRH())&&(n.chartLabel=a.first),t.iGM(a=t.CRH())&&(n.translationNow=a.first)}},inputs:{analysisType:"analysisType"},features:[t._Bn([h.uU])],decls:16,vars:2,consts:function(){let i,e,n,a,r,s,c,_,l,p,S,g,A,C;return i=" Now\n",e=" Total spending ",n=" Total income ",a="Loading analysis data...",r="No Data Found",s="You don't have any data to be displayed. Please try selecting a different period.",c=" Total ",_=" Spending per category ",l=" Income per category ",p=" Chart section, " + "\ufffd0\ufffd" + ", " + "\ufffd1\ufffd" + " ",S=" " + "\ufffd0\ufffd" + "% of total ",g=" less than previous month ",A=" more than previous month ",C=" Same as previous month ",[[4,"ngIf","ngIfElse"],["errorState",""],["loadingState",""],["emptyState",""],["categoriesList",""],["donutChartLabel",""],["donutChartTooltip",""],[1,"ng-cloak"],["transNow",""],i,[1,"card"],[1,"card-body"],[3,"selectedTab","change"],["class","bb-stack bb-stack--center bb-block bb-block--lg",4,"ngIf"],[1,"bb-stack","bb-stack--center","bb-block","bb-block--lg"],[3,"periodStart","periodEnd","periodFormatters","periodChange"],[4,"ngIf"],[1,"bb-stack","bb-stack--center","position-relative","chart-donut","chart-donut-large","chart-donut-container-inflated"],[1,"absolute-center"],["data-role","donut-chart-label",1,"text-center","text-muted","font-weight-bold","chart-donut-center-word"],[1,"h6","text-center"],[3,"amount","currency"],[3,"data","colors","relevancePercentage","tooltipTmpl","labelTmpl"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],e,n,[1,"d-block","chart-bar"],[3,"scheme","results","gradient","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","yAxisTickFormatting","showGridLines","roundEdges",4,"ngIf"],[3,"scheme","results","gradient","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","yAxisTickFormatting","showGridLines","roundEdges"],["tooltipTemplate",""],[1,"my-2"],[1,"mr-2"],[1,"ml-2",3,"amount","currency"],["title","","iconModifier","error","iconSize","xxl","iconColor","gray","iconClasses","text-muted",3,"subtitle"],["text",a],[1,"bb-stack","bb-stack--center"],["title",r,"subtitle",s,"iconSize","xxl","iconModifier","donut-small",1,"bb-text-align-center"],["data-role","category-list-header",1,"list-group-item","rounded-0","border-left-0","border-right-0","border-top-0","list-item-transaction-accordion","pt-3"],["role","row",1,"transaction-item","row","align-items-center"],[1,"col-6"],["class","h5",4,"ngIf"],[1,"transaction-amount","text-right","h5","m-0"],c,["class","list-group-item rounded-0 border-left-0 border-right-0 list-item-transaction-accordion py-3","data-role","category-list-item",4,"ngFor","ngForOf"],[1,"h5"],_,l,["data-role","category-list-item",1,"list-group-item","rounded-0","border-left-0","border-right-0","list-item-transaction-accordion","py-3"],["role","row",1,"transaction-item","row","d-flex","align-items-center"],[1,"transaction-category-icon","col-6","d-flex","align-items-center"],["size","sm","backgroundType","circle",3,"name"],[1,"bb-transaction-category-name","px-3"],[1,"transaction-amount","text-right"],["data-role","donut-chart-segment-icon","aria-hidden","true",1,"bb-transaction-category","bb-transaction-category-icon",3,"ngClass"],["bbChartLabelIcon",""],["dy",".35em","data-role","donut-chart-segment-label","aria-hidden","true",1,"font-weight-bold"],["bbChartLabelText",""],[1,"sr-only"],p,["bbDynamicId","","aria-live","polite",1,"row","pb-3","position-relative","chart-tooltip","chart-tooltip-default","text-left",3,"ngClass"],["tooltipElement",""],[1,"d-flex","chart-tooltip-analysis-category","text-muted"],["class","d-inline-block mr-1",4,"ngIf"],[1,"row"],[1,"h5","my-1","col-12","chart-tooltip-analysis-amount",3,"amount","currency"],["class","chart-tooltip-analysis-portion text-muted",4,"ngIf"],[1,"d-inline-block","mr-1"],["size","md","backgroundType","circle",3,"name"],[1,"chart-tooltip-analysis-portion","text-muted"],S,[1,"chart-tooltip-divider","p-0"],[1,"chart-tooltip-analysis-trend",3,"ngClass"],[1,"d-flex","align-items-center","d-block","mt-1"],[1,"mr-1",3,"name"],[1,"h5","m-0","d-block"],[1,"chart-tooltip-info-text","text-muted","w-100"],g,A,C]},template:function(e,n){if(1&e&&(t.YNc(0,me,7,6,"ng-container",0),t.YNc(1,Ae,1,1,"ng-template",null,1,t.W1O),t.YNc(3,Ee,1,0,"ng-template",null,2,t.W1O),t.YNc(5,fe,2,0,"ng-template",null,3,t.W1O),t.YNc(7,Ie,11,5,"ng-template",null,4,t.W1O),t.YNc(9,Me,10,23,"ng-template",null,5,t.W1O),t.YNc(11,Le,11,7,"ng-template",null,6,t.W1O),t.TgZ(13,"span",7,8),t.SDv(15,9),t.qZA()),2&e){const a=t.MAs(2);t.Q6J("ngIf",!n.error)("ngIfElse",a)}},directives:[pt,At,y.G4,ke,d.K$,Y.s,G.Q,B.o,h.O5,h.tP,h.sg,h.mk],pipes:[h.Ov],encapsulation:2,changeDetection:0}),o})();const Xe=[y.i7,dt,Y.P,B.Q,G.p,Q];let tn=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[ut],imports:[[h.ez,...Xe],y.i7,dt,Y.P,B.Q,G.p,Q]}),o})();const an=[f.NG,f.nl,f.Vu,f.U6,f.e0,f.ir,f.iO,f.Ud,f._m,M.$r,M.X4,M.mz,M.LQ,M.Wg,M.IK,St.R6],rn=[b.Uk,b.jy,b.Y,b.e4,b.pz],sn={path:"",component:Re,children:[{path:"",component:(()=>{class o{constructor(e,n,a){this.router=e,this.route=n,this.config=a,this.isSpendingAnalysis=this.config.analysisType===T.SPENDING}onItemSelect(e){this.router.navigate([".",{selectedAccount:e}],{relativeTo:this.route})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(O.F0),t.Y36(O.gz),t.Y36(at))},o.\u0275cmp=t.Xpm({type:o,selectors:[["bb-income-spending-analysis-view"]],decls:6,vars:3,consts:function(){let i,e;return i="Spending Analysis",e="Income Analysis",[["headingType","h1","headingClasses","bb-heading-widget__heading px-0 pb-5","heading",i,4,"ngIf"],["headingType","h1","headingClasses","bb-heading-widget__heading px-0 pb-5","heading",e,4,"ngIf"],[1,"bb-block--xl"],[3,"selectedAccount"],[3,"analysisType"],["headingType","h1","headingClasses","bb-heading-widget__heading px-0 pb-5","heading",i],["headingType","h1","headingClasses","bb-heading-widget__heading px-0 pb-5","heading",e]]},template:function(e,n){1&e&&(t.YNc(0,we,1,0,"bb-header-ui",0),t.YNc(1,Pe,1,0,"bb-header-ui",1),t.TgZ(2,"div",2)(3,"bb-product-summary-account-selector-widget",3),t.NdJ("selectedAccount",function(r){return n.onItemSelect(r)}),t.qZA()(),t.TgZ(4,"div"),t._UZ(5,"bb-income-spending-analysis-widget",4),t.qZA()),2&e&&(t.Q6J("ngIf",n.isSpendingAnalysis),t.xp6(1),t.Q6J("ngIf",!n.isSpendingAnalysis),t.xp6(4),t.Q6J("analysisType",n.config.analysisType))},directives:[k.G,Z.O$,gt,h.O5],encapsulation:2}),o})()}]};let ln=(()=>{class o{static forRoot(e={route:sn}){return{ngModule:o,providers:[(0,O.co)([e.route])]}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[...an,...rn],imports:[[h.ez,O.Bz,k.O,Z.JZ,tn]]}),o})()}}]);