"use strict";(self.webpackChunkretail_usa=self.webpackChunkretail_usa||[]).push([[5017],{5017:(Et,K,l)=>{l.r(K),l.d(K,{TurnoversJourneyBundleModule:()=>xt});var b=l(1989),A=l(4544),Q=l(5170),y=l(400),e=l(5e3),w=l(5357),d=l(9808),$=l(9222),F=l(7555),J=l(7605),I=l(5622),Y=l(4951),c=l(1156),j=l(4665),he=l(457),z=l(1135),_e=l(9841),G=l(9646),O=l(4004),ue=l(8505),pe=l(9300),me=l(3900),ve=l(262),u=l(1777),V=l(1270),X=l(2761),q=l(5460);function fe(a,s){if(1&a&&(e.TgZ(0,"header",5)(1,"span",6),e._uU(2),e.qZA()()),2&a){const t=e.oxw();e.xp6(2),e.Oqu(t.title)}}function xe(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"li",7)(1,"ngx-charts-legend-entry",8),e.NdJ("select",function(i){return e.CHM(t),e.oxw().labelClick.emit(i)})("activate",function(i){return e.CHM(t),e.oxw().activate(i)})("deactivate",function(i){return e.CHM(t),e.oxw().deactivate(i)}),e.qZA()()}if(2&a){const t=s.$implicit,n=e.oxw();e.xp6(1),e.Q6J("label",t.label)("formattedLabel",t.formattedLabel)("color",t.color)("isActive",n.isActive(t))}}const be=["bb-charts-grid-panel-series",""];function Se(a,s){if(1&a&&(e.O4$(),e.TgZ(0,"g"),e._UZ(1,"g",1),e.qZA()),2&a){const t=s.$implicit;e.xp6(1),e.ekj("grid-panel",!0)("forecast","forecast"===t.class),e.Q6J("height",t.height)("width",t.width)("x",t.x)("y",t.y)}}const Te=["bb-charts-series-vertical",""];function Ce(a,s){if(1&a){const t=e.EpF();e.O4$(),e.TgZ(0,"g",2),e.NdJ("select",function(i){return e.CHM(t),e.oxw().onClick(i)})("activate",function(i){return e.CHM(t),e.oxw().activate.emit(i)})("deactivate",function(i){return e.CHM(t),e.oxw().deactivate.emit(i)}),e.qZA()}if(2&a){const t=s.$implicit,n=e.oxw();e.Q6J("@animationState","active")("@.disabled",!n.animations)("width",t.width)("height",t.height)("x",t.x)("y",t.y)("fill",t.color)("stops",t.gradientStops)("data",t.graphData)("orientation",n.orientation)("roundEdges",t.roundEdges)("gradient",n.gradient)("isActive",n.isActive(t))("tooltipCssClass","chart-tooltip p-0 border-0")("tooltipShowCaret",n.tooltipShowCaret)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.tooltipPlacement)("tooltipType",n.tooltipType)("tooltipTitle",n.tooltipTemplate?void 0:t.tooltipText)("tooltipTemplate",n.tooltipTemplate)("tooltipContext",t.data)("animations",n.animations)}}function Ee(a,s){if(1&a){const t=e.EpF();e.O4$(),e.TgZ(0,"g",4),e.NdJ("dimensionsChanged",function(i){const r=e.CHM(t).index;return e.oxw(2).dataLabelHeightChanged.emit({size:i,index:r})}),e.qZA()}if(2&a){const t=s.$implicit,n=e.oxw(2);e.Q6J("barX",t.x)("barY",t.y)("barWidth",t.width)("barHeight",t.height)("value",t.total)("valueFormatting",n.dataLabelFormatting)("orientation",n.orientation)}}function Ae(a,s){if(1&a&&(e.O4$(),e.TgZ(0,"g"),e.YNc(1,Ee,1,7,"g",3),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.barsForDataLabels)("ngForTrackBy",t.trackDataLabelBy)}}function ye(a,s){if(1&a){const t=e.EpF();e.O4$(),e.TgZ(0,"g",7),e.NdJ("dimensionsChanged",function(i){return e.CHM(t),e.oxw().updateXAxisHeight(i)}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("xScale",t.groupScale)("dims",t.dims)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("tickFormatting",t.xAxisTickFormatting)("xAxisOffset",t.dataLabelMaxHeight.negative)}}function Oe(a,s){if(1&a){const t=e.EpF();e.O4$(),e.TgZ(0,"g",8),e.NdJ("dimensionsChanged",function(i){return e.CHM(t),e.oxw().updateYAxisWidth(i)}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("yScale",t.valueScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("tickFormatting",t.yAxisTickFormatting)}}function Me(a,s){if(1&a){const t=e.EpF();e.O4$(),e.TgZ(0,"g",9),e.NdJ("select",function(i){const r=e.CHM(t).$implicit;return e.oxw().onClick(i,r)})("activate",function(i){const r=e.CHM(t).$implicit;return e.oxw().onActivate(i,r)})("deactivate",function(i){const r=e.CHM(t).$implicit;return e.oxw().onDeactivate(i,r)})("dataLabelHeightChanged",function(i){const r=e.CHM(t).index;return e.oxw().onDataLabelMaxHeightChanged(i,r)}),e.qZA()}if(2&a){const t=s.$implicit,n=e.oxw();e.Q6J("@animationState","active")("activeEntries",n.activeEntries)("xScale",n.innerScale)("yScale",n.valueScale)("colors",n.colors)("series",t.series)("dims",n.dims)("gradient",n.gradient)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)("showDataLabel",n.showDataLabel)("dataLabelFormatting",n.dataLabelFormatting)("seriesName",t.name)("groupData",t)("roundEdges",n.roundEdges)("animations",n.animations),e.uIk("transform",n.groupTransform(t))("opacity",t.badge?.5:1)}}const ee=function(a,s){return[a,s]},te=function(a,s,t,n,i,o){return{legendOptions:a,activeEntries:s,height:t,onActivate:n,onDeactivate:i,onClick:o}},Be=["bbChartsBarVertical2d"],De=function(a){return{domain:a}};function Le(a,s){if(1&a&&(e.ynx(0),e.TgZ(1,"div",4),e._UZ(2,"bb-charts-bar-vertical-2d",5,6),e.qZA(),e.BQk()),2&a){const t=s.ngIf,n=e.oxw(),i=e.MAs(4),o=e.MAs(6);e.xp6(2),e.Q6J("scheme",e.VKq(15,De,t.colors))("results",n.chartSeriesData)("groupsData",n.chartSeriesData)("xAxis",t.showXAxis)("yAxis",t.showYAxis)("showXAxisLabel",t.showXAxisLabel)("showYAxisLabel",t.showYAxisLabel)("legend",t.showLegend)("gradient",t.gradient)("barPadding",0)("groupPadding",6)("roundEdges",!0)("legendTemplate",i)("tooltipTemplate",o)("yAxisTickFormatting",n.yAxisTickFormatting.bind(n))}}function Ne(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"bb-charts-legend",7),e.NdJ("labelClick",function(i){return e.CHM(t).onClick(i)})("labelActivate",function(i){return e.CHM(t).onActivate(i)})("labelDeactivate",function(i){return e.CHM(t).onDeactivate(i)}),e.qZA()}if(2&a){const t=s.legendOptions,n=s.activeEntries,i=s.height;e.Q6J("data",t.domain)("title",t.title)("colors",t.colors)("height",i)("activeEntries",n)}}function we(a,s){if(1&a&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&a){const t=e.oxw().model;e.xp6(1),e.hij(" ",t.badge," ")}}const Re=function(a){return{color:a}};function Ue(a,s){if(1&a&&(e.TgZ(0,"div",16),e._UZ(1,"span",17),e.TgZ(2,"span",18),e._uU(3),e.qZA(),e.TgZ(4,"span",13),e._UZ(5,"bb-amount-ui",14),e.qZA()()),2&a){const t=s.$implicit,n=s.index;e.xp6(1),e.Q6J("ngStyle",e.VKq(5,Re,t.color)),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("amount",0===n?t.value:-t.value)("currency",t.currency)("showPlusSign",0===n&&t.value>0)}}function ke(a,s){if(1&a&&(e.TgZ(0,"div",8),e.YNc(1,we,2,1,"div",9),e.TgZ(2,"div"),e.YNc(3,Ue,6,7,"div",10),e.TgZ(4,"div",11)(5,"span"),e.SDv(6,12),e.qZA(),e.TgZ(7,"span",13),e._UZ(8,"bb-amount-ui",14),e.qZA()()()()),2&a){const t=s.model;e.xp6(1),e.Q6J("ngIf",t.badge),e.xp6(2),e.Q6J("ngForOf",t.series),e.xp6(5),e.Q6J("amount",t.diff)("currency",t.currency)("showPlusSign",0!==t.diff)}}const Ge=["incomeLabel"],Ve=["spendingLabel"],He=["forecastLabel"];function Ze(a,s){1&a&&e.GkF(0)}function Pe(a,s){if(1&a&&e._UZ(0,"bb-turnovers-bar-chart",14),2&a){const t=e.oxw(3).$implicit,n=e.oxw(2);e.Q6J("chartSeriesData",t)("forecast",n.forecast)}}function We(a,s){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,Ze,1,0,"ng-container",12),e.YNc(2,Pe,1,2,"bb-turnovers-bar-chart",13),e.ALo(3,"async"),e.qZA()),2&a){const t=e.oxw(4),n=e.MAs(3),i=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",n),e.xp6(1),e.Q6J("ngIf",!1===e.lcZ(3,3,t.isLoading))("ngIfElse",i)}}function Ke(a,s){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,We,4,5,"div",0),e.qZA()),2&a){const t=e.oxw().$implicit;e.oxw(2);const n=e.MAs(7);e.xp6(1),e.Q6J("ngIf",t.length)("ngIfElse",n)}}function Qe(a,s){if(1&a&&(e.ynx(0),e.YNc(1,Ke,2,2,"div",0),e.BQk()),2&a){const t=e.oxw(2),n=e.MAs(9);e.xp6(1),e.Q6J("ngIf",!t.error)("ngIfElse",n)}}function $e(a,s){if(1&a&&(e.ynx(0),e.YNc(1,Qe,2,2,"ng-container",0),e.ALo(2,"async"),e.BQk()),2&a){const t=e.oxw(),n=e.MAs(5);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.chartSeriesData))("ngIfElse",n)}}function je(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16)(2,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().onTabChange(6)}),e.SDv(3,18),e.qZA(),e.TgZ(4,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().onTabChange(12)}),e.SDv(5,20),e.qZA()()()}if(2&a){const t=e.oxw();e.xp6(2),e.Q6J("value",6)("color",6===t.selectedTab.duration?"primary":"secondary"),e.xp6(2),e.Q6J("value",12)("color",12===t.selectedTab.duration?"primary":"secondary")}}function ze(a,s){1&a&&e._UZ(0,"bb-loading-indicator-ui",21)}function Xe(a,s){1&a&&e.GkF(0)}function qe(a,s){if(1&a&&(e.YNc(0,Xe,1,0,"ng-container",12),e._UZ(1,"bb-empty-state-ui",22)),2&a){e.oxw();const t=e.MAs(3);e.Q6J("ngTemplateOutlet",t)}}function et(a,s){if(1&a&&e._UZ(0,"bb-empty-state-ui",23),2&a){const t=e.oxw();e.Q6J("subtitle",null==t.error?null:t.error.message)}}const tt=new e.OlP("TurnoversJourneyConfiguration injection token"),ne={showForecast:!0};let ae=(()=>{class a{constructor(t){const n=t||{};this._config=Object.assign(Object.assign({},ne),n)}get defaults(){return ne}get showForecast(){return this._config.showForecast}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(tt,8))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),nt=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["bb-turnovers-journey"]],features:[e._Bn([ae])],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},directives:[w.lC],encapsulation:2}),a})(),ie=(()=>{class a{constructor(t){this.cd=t,this.data=[],this.activeEntries=[],this.labelClick=new e.vpe,this.labelActivate=new e.vpe,this.labelDeactivate=new e.vpe,this.legendEntries=[]}ngOnChanges(){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){var t;const n=[];for(const i of this.data){const o=(0,c.N4)(i);-1===n.findIndex(g=>g.label===o)&&n.push({label:i,formattedLabel:o,color:(null===(t=this.colors)||void 0===t?void 0:t.getColor(i))||""})}return n}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(i=>t.label===i.name)}activate(t){this.labelActivate.emit(t)}deactivate(t){this.labelDeactivate.emit(t)}trackBy(t,n){return n.label}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["bb-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[e.TTD],decls:5,vars:5,consts:[[1,"row"],["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels","d-flex","px-5","mb-3"],["class","legend-label text-dark text-capitalize",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label","text-dark","text-capitalize"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,fe,3,1,"header",1),e.TgZ(2,"div",2)(3,"ul",3),e.YNc(4,xe,2,4,"li",4),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",!!n.title),e.xp6(2),e.Udp("max-height",n.height?n.height-45:"inherit","px"),e.xp6(1),e.Q6J("ngForOf",n.legendEntries)("ngForTrackBy",n.trackBy))},directives:[c.KC,d.O5,d.sg],styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),a})(),H=(()=>{class a{constructor(){this.gridPanels=[],this.data=[],this.dims={height:0,width:0}}ngOnChanges(){this.update()}update(){this.gridPanels=this.getChartDataLabels()}getChartDataLabels(){return this.data.map(t=>{var n;const i=null!==(n=t.name)&&void 0!==n?n:"";let o=0,r=0;if(this.xScale){const g=this.xScale.bandwidth()*this.xScale.paddingInner();o=this.xScale.bandwidth()+g,r=(this.xScale(i)||0)-g/2}return{name:i,class:"forecast"===t.badge?"forecast":"",width:o,height:this.dims.height,x:r,y:0,roundEdges:!1}})}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["g","bb-charts-grid-panel-series",""]],inputs:{data:"data",dims:"dims",xScale:"xScale",yScale:"yScale"},features:[e.TTD],attrs:be,decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["ngx-charts-grid-panel","",3,"height","width","x","y"]],template:function(t,n){1&t&&e.YNc(0,Se,2,8,"g",0),2&t&&e.Q6J("ngForOf",n.gridPanels)},directives:[c.jZ,d.sg],encapsulation:2,changeDetection:0}),a})();const R=[{interval:"MONTH",duration:6,default:!0},{interval:"MONTH",duration:12}],st=["#004285","#107bb5"];let Z=(()=>{class a extends c.ep{constructor(t,n,i,o){super(t,n,i,o),this.legend=!1,this.legendTitle="",this.xAxis=!0,this.yAxis=!0,this.showXAxisLabel=!0,this.showYAxisLabel=!0,this.xAxisLabel="",this.yAxisLabel="",this.tooltipDisabled=!1,this.gradient=!1,this.showGridLines=!0,this.activeEntries=[],this.schemeType=c.N3.Ordinal,this.barPadding=8,this.roundDomains=!0,this.roundEdges=!1,this.yScaleMax=0,this.showDataLabel=!1,this.groupsData=[],this.legendTemplate=null,this.activate=new e.vpe,this.deactivate=new e.vpe,this.dims={width:0,height:0,xOffset:0},this.groupDomain=[],this.innerDomain=[],this.valueDomain=[],this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=(0,c.iG)({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType}),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.formatDates(),this.groupDomain=this.getGroupDomain(),this.innerDomain=this.getInnerDomain(),this.setColors(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`}getGroupDomain(){const t=[];for(const n of this.results)t.includes(n.name)||t.push(n.name);return t}getInnerDomain(){const t=[];for(const n of this.results)for(const i of n.series)t.includes(i.name)||t.push(i.name);return t}getXScale(){const t=this.groupDomain.length/(this.dims.width/this.barPadding+1);return(0,V.Z)().rangeRound([0,this.dims.width]).paddingInner(t).domain(this.groupDomain)}getYScale(){const t=(0,X.Z)().range([this.dims.height,0]).domain(this.valueDomain);return this.roundDomains?t.nice():t}onDataLabelMaxHeightChanged(t,n){t.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,t.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,t.size.height),n===this.results.length-1&&setTimeout(()=>this.update())}onClick(t,n){n&&(t.series=n.name),this.select.emit(t)}trackBy(t,n){return n.name}setColors(){this.colors=new c.vH(this.scheme,this.schemeType,this.schemeType===c.N3.Ordinal?this.innerDomain:this.valueDomain,this.customColors)}updateYAxisWidth(t){this.yAxisWidth=t.width,this.update()}updateXAxisHeight(t){this.xAxisHeight=t.height,this.update()}onActivate(t,n){const i=Object.assign({},t);n&&(i.series=n.name),!(this.activeEntries.findIndex(r=>r.name===i.name&&r.value===i.value&&r.series===i.series)>-1)&&(this.activeEntries=[i,...this.activeEntries],this.activate.emit({value:i,entries:this.activeEntries}))}onDeactivate(t,n){const i=Object.assign({},t);n&&(i.series=n.name);const o=this.activeEntries.findIndex(r=>r.name===i.name&&r.value===i.value&&r.series===i.series);this.activeEntries.splice(o,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:i,entries:this.activeEntries})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(e.Lbi))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],inputs:{legend:"legend",legendTitle:"legendTitle",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipDisabled:"tooltipDisabled",gradient:"gradient",showGridLines:"showGridLines",activeEntries:"activeEntries",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",yScaleMax:"yScaleMax",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",groupsData:"groupsData",tooltipTemplate:"tooltipTemplate",legendTemplate:"legendTemplate"},outputs:{activate:"activate",deactivate:"deactivate"},features:[e.qOj],decls:0,vars:0,template:function(t,n){},encapsulation:2}),a})();var v=(()=>{return(a=v||(v={})).positive="positive",a.negative="negative",v;var a})();let P=(()=>{class a{constructor(){this.type="standard",this.gradient=!1,this.activeEntries=[],this.seriesName="",this.tooltipDisabled=!1,this.tooltipShowCaret=!1,this.roundEdges=!1,this.animations=!0,this.showDataLabel=!1,this.select=new e.vpe,this.activate=new e.vpe,this.deactivate=new e.vpe,this.dataLabelHeightChanged=new e.vpe,this.tooltipPlacement=c.Mr.Top,this.tooltipType=c.qN.tooltip,this.orientation=c.vp.Vertical,this.barsForDataLabels=[]}getColors(t,n,i,o){const r={};return this.colors&&(this.colors.scaleType===c.N3.Ordinal?r.color=this.colors.getColor(n):"standard"===this.type?(r.color=this.colors.getColor(t),r.gradientStops=this.colors.getLinearGradientStops(t)):(r.color=this.colors.getColor(o||0),r.gradientStops=this.colors.getLinearGradientStops(o||0,i))),r}tooltipText(t,n){return this.tooltipDisabled?void 0:`\n      <span class="tooltip-label">${t}</span>\n      <span class="tooltip-val">${n}</span>\n    `}ngOnChanges(){if(!this.series)throw new Error("[series] should be provided to the component!");this.update(this.series)}update(t){this.bars=this.formatChartData(t),this.barsForDataLabels=this.updatedLabels(t)}updatedBars(t){var n;let i=v.positive;const o=null===(n=this.xScale)||void 0===n?void 0:n.bandwidth(),r=Math.max(this.yScale.domain()[0],0),g={[v.positive]:0,[v.negative]:0};return t.map((p,_,m)=>{var M,B,D;const f=p.value||0,C=p.name||"",L=(0,c.N4)(C);i=f>0?v.positive:v.negative;const h={value:f,label:C,roundEdges:this.roundEdges,data:p,width:o,formattedLabel:L,height:0,x:0,y:0};if(this.groupData&&(h.data={group:m.map(S=>{var T;return Object.assign(Object.assign({},S),{color:null===(T=this.colors)||void 0===T?void 0:T.getColor(S.name||"")})}),diff:this.groupData.diff,currency:this.groupData.currency,value:p.value,badge:this.groupData.badge}),"standard"===this.type)h.height=Math.abs(this.yScale(f)-this.yScale(r)),h.x=null===(M=this.xScale)||void 0===M?void 0:M.call(this,C),h.y=null===(B=this.yScale)||void 0===B?void 0:B.call(this,Math.max(0,f));else if("stacked"===this.type){const S=g[i],T=S+f;g[i]+=f,h.height=Math.ceil(this.yScale(S)-this.yScale(T)),h.x=0,h.y=null===(D=this.yScale)||void 0===D?void 0:D.call(this,T),h.offset0=S,h.offset1=T,h.roundEdges=1===_}Object.assign(h,this.getColors(f,C,h.offset0,h.offset1));let E=L;return this.seriesName&&(E=`${this.seriesName} \u2022 ${L}`,h.data.series=this.seriesName),h.tooltipText=this.tooltipText(E,f.toLocaleString()),h})}updatedLabels(t){return t.map(n=>{var i,o,r;return{name:n.name,series:this.seriesName?this.seriesName:n.name,total:n.value,x:(null===(i=this.xScale)||void 0===i?void 0:i.call(this,n.name))||0,y:(null===(o=this.yScale)||void 0===o?void 0:o.call(this,0))||0,height:this.yScale?this.yScale(n.value)-this.yScale(0):0,width:(null===(r=this.xScale)||void 0===r?void 0:r.bandwidth())||0,roundEdges:this.roundEdges}})}formatChartData(t){const n=Math.max(this.yScale.domain()[0],0),i={[v.positive]:0,[v.negative]:0};return t.map((r,g,p)=>{var _,m,M,B,D,f,C,L;const x=r.value||0,h=r.name||"",E=x>0?v.positive:v.negative,S=(0,c.N4)(h),T=this.seriesName?`${this.seriesName} \u2022 ${S}`:S,bt={name:this.seriesName||"",group:p.map(U=>{var N;return Object.assign(Object.assign({},U),{color:null===(N=this.colors)||void 0===N?void 0:N.getColor(U.name||"")})}),series:p.map(U=>{var N;return Object.assign(Object.assign({},U),{color:null===(N=this.colors)||void 0===N?void 0:N.getColor(U.name||"")})}),diff:null===(_=this.groupData)||void 0===_?void 0:_.diff,currency:null===(m=this.groupData)||void 0===m?void 0:m.currency,value:r.value,badge:null===(M=this.groupData)||void 0===M?void 0:M.badge},St={name:this.seriesName||"",value:r.value},Tt={height:Math.abs(this.yScale(x)-this.yScale(n)),offset0:void 0,offset1:void 0,roundEdges:this.roundEdges,x:(null===(B=this.xScale)||void 0===B?void 0:B.call(this,h))||0,y:(null===(D=this.yScale)||void 0===D?void 0:D.call(this,Math.max(0,x)))||0,width:(null===(f=this.xScale)||void 0===f?void 0:f.bandwidth())||0},Ct={height:Math.ceil(this.yScale(i[E])-this.yScale(i[E]+x)),offset0:i[E],offset1:i[E]+x,roundEdges:1===g,x:0,y:(null===(C=this.yScale)||void 0===C?void 0:C.call(this,i[E]+x))||0,width:(null===(L=this.xScale)||void 0===L?void 0:L.bandwidth())||0},W="stacked"===this.type?Ct:Tt;return Object.assign(Object.assign(Object.assign({},W),this.getColors(x,h,W.offset0,W.offset1)),{data:bt,tooltipText:this.tooltipText(T,x.toLocaleString()),formattedLabel:S,value:x,label:h,graphData:Object.assign({},St)})})}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(i=>t.name===i.name&&t.series===i.series)}onClick(t){this.select.emit(t)}trackBy(t,n){return n.label}trackDataLabelBy(t,n){return`${t}#${n.series}#${n.total}`}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["g","bb-charts-series-vertical",""]],inputs:{dims:"dims",type:"type",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",animations:"animations",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",groupData:"groupData"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},features:[e.TTD],attrs:Te,decls:2,vars:3,consts:[["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","tooltipCssClass","tooltipShowCaret","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","tooltipCssClass","tooltipShowCaret","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","animations","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(t,n){1&t&&(e.YNc(0,Ce,1,22,"g",0),e.YNc(1,Ae,2,2,"g",1)),2&t&&(e.Q6J("ngForOf",n.bars)("ngForTrackBy",n.trackBy),e.xp6(1),e.Q6J("ngIf",n.showDataLabel))},directives:[c.R2,c.cd,d.sg,c.i9,d.O5],encapsulation:2,data:{animation:[(0,u.X$)("animationState",[(0,u.eR)(":leave",[(0,u.oB)({opacity:1}),(0,u.jt)(500,(0,u.oB)({opacity:0}))])])]},changeDetection:0}),a})(),oe=(()=>{class a extends Z{constructor(t,n,i,o){super(t,n,i,o),this.scaleType=c.N3.Ordinal,this.groupPadding=16,this.results=[],this.legendOptions={colors:void 0,domain:[],scaleType:this.schemeType,title:"",position:c.tV.Below}}update(){super.update(),this.valueDomain=this.getValueDomain(),this.groupScale=this.getGroupScale(),this.innerScale=this.getInnerScale(),this.valueScale=this.getValueScale(),this.getLegendOptions()}getGroupScale(){const t=this.groupDomain.length/(this.dims.height/this.groupPadding+1);return(0,V.Z)().rangeRound([0,this.dims.width]).paddingInner(t).paddingOuter(t/2).domain(this.groupDomain)}getInnerScale(){const t=this.groupScale?this.groupScale.bandwidth():1,n=this.innerDomain.length/(t/this.barPadding+1);return(0,V.Z)().rangeRound([0,t]).paddingInner(n).domain(this.innerDomain)}getValueScale(){const t=(0,X.Z)().range([this.dims.height,0]).domain(this.valueDomain);return this.roundDomains?t.nice():t}getValueDomain(){const t=[];for(const o of this.results)for(const r of o.series)t.includes(r.value)||t.push(r.value);return[Math.min(0,...t),this.yScaleMax?Math.max(this.yScaleMax,...t):Math.max(...t)]}groupTransform(t){var n,i;const o=null!==(n=t.name)&&void 0!==n?n:"";return`translate(${null===(i=this.groupScale)||void 0===i?void 0:i.call(this,o)}, 0)`}getLegendOptions(){!this.colors||(this.legendOptions.scaleType===c.N3.Ordinal?(this.legendOptions.domain=this.innerDomain,this.legendOptions.colors=this.colors,this.legendOptions.title=this.legendTitle||""):(this.legendOptions.domain=this.valueDomain,this.legendOptions.colors=this.colors.scale))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(e.Lbi))},a.\u0275cmp=e.Xpm({type:a,selectors:[["bb-charts-bar-vertical-2d"]],inputs:{scaleType:"scaleType",groupPadding:"groupPadding",results:"results"},features:[e.qOj],decls:7,vars:26,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"bar-chart","chart"],["bb-charts-grid-panel-series","",3,"xScale","yScale","data","dims"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","tickFormatting","xAxisOffset","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","tickFormatting","dimensionsChanged",4,"ngIf"],["bb-charts-series-vertical","",3,"activeEntries","xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","seriesName","groupData","roundEdges","animations","select","activate","deactivate","dataLabelHeightChanged",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","tickFormatting","xAxisOffset","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","tickFormatting","dimensionsChanged"],["bb-charts-series-vertical","",3,"activeEntries","xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","seriesName","groupData","roundEdges","animations","select","activate","deactivate","dataLabelHeightChanged"]],template:function(t,n){1&t&&(e.TgZ(0,"ngx-charts-chart",0),e.NdJ("legendLabelActivate",function(o){return n.onActivate(o)})("legendLabelDeactivate",function(o){return n.onDeactivate(o)})("legendLabelClick",function(o){return n.onClick(o)}),e.O4$(),e.TgZ(1,"g",1),e._UZ(2,"g",2),e.YNc(3,ye,1,6,"g",3),e.YNc(4,Oe,1,6,"g",4),e.YNc(5,Me,1,18,"g",5),e.qZA()(),e.kcU(),e.GkF(6,6)),2&t&&(e.Q6J("view",e.WLB(16,ee,n.width,n.height))("showLegend",n.legend)("legendOptions",n.legendOptions)("activeEntries",n.activeEntries)("animations",n.animations),e.xp6(1),e.uIk("transform",n.transform),e.xp6(1),e.Q6J("xScale",n.groupScale)("yScale",n.valueScale)("data",n.groupsData)("dims",n.dims),e.xp6(1),e.Q6J("ngIf",n.xAxis),e.xp6(1),e.Q6J("ngIf",n.yAxis),e.xp6(1),e.Q6J("ngForOf",n.groupsData)("ngForTrackBy",n.trackBy),e.xp6(1),e.Q6J("ngTemplateOutlet",n.legendTemplate)("ngTemplateOutletContext",e.HTZ(19,te,n.legendOptions,n.activeEntries,n.height,n.onActivate.bind(n),n.onDeactivate.bind(n),n.onClick.bind(n))))},directives:[c.xH,H,c.IL,c.Mq,P,d.O5,d.sg,d.tP],styles:[".ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .bar,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}.gridline-path{stroke:#ccc}ngx-charts-legend{display:block;margin-top:1rem}\n"],encapsulation:2,data:{animation:[(0,u.X$)("animationState",[(0,u.eR)(":leave",[(0,u.oB)({opacity:1,transform:"*"}),(0,u.jt)(500,(0,u.oB)({opacity:0,transform:"scale(0)"}))])])]},changeDetection:0}),a})(),re=(()=>{class a{constructor(t,n){this.currencyPipe=t,this.cssVariableService=n,this.chartSeriesData=[],this.forecast=!1,this.chartOptions=(0,he.D)(this.cssVariableService.getCssVariable("--chart-group-bar-color")).pipe((0,O.U)(i=>({colors:i?i.split(","):st,showXAxis:!0,showYAxis:!0,gradient:!1,showLegend:!1,showXAxisLabel:!0,showYAxisLabel:!0})))}yAxisTickFormatting(t){const n=this.chartSeriesData[0].currency;if(this.barChart2d&&this.barChart2d.width<688){const i=t/1e3;return i<=999?`${this.currencyPipe.transform(i,n,"symbol","1.0")}k`:`${this.currencyPipe.transform(i/1e3,n,"symbol","1.0")}m`}return this.currencyPipe.transform(t,n,"symbol","1.0")}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(d.H9),e.Y36(j.d))},a.\u0275cmp=e.Xpm({type:a,selectors:[["bb-turnovers-bar-chart"]],viewQuery:function(t,n){if(1&t&&e.Gf(Be,5),2&t){let i;e.iGM(i=e.CRH())&&(n.barChart2d=i.first)}},inputs:{chartSeriesData:"chartSeriesData",forecast:"forecast"},features:[e._Bn([j.d])],decls:7,vars:3,consts:function(){let s;return s="Difference",[[1,"position-relative","pb-25p","pb-md-50p"],[4,"ngIf"],["legendTemplate",""],["tooltipTemplate",""],[1,"bb-turnovers-vertical-chart"],[1,"position-static","transform-none",3,"scheme","results","groupsData","xAxis","yAxis","showXAxisLabel","showYAxisLabel","legend","gradient","barPadding","groupPadding","roundEdges","legendTemplate","tooltipTemplate","yAxisTickFormatting"],["bbChartsBarVertical2d",""],[1,"chart-legend",3,"data","title","colors","height","activeEntries","labelClick","labelActivate","labelDeactivate"],[1,"chart-tooltip-default","bb-arrow-bottom","text-dark"],["class","pb-1 mb-2 font-weight-bold border-bottom border-dark text-capitalize text-left",4,"ngIf"],["class","d-flex pb-1 align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","pt-1","pl-1","align-items-center"],s,[1,"ml-auto","font-weight-bold"],[3,"amount","currency","showPlusSign"],[1,"pb-1","mb-2","font-weight-bold","border-bottom","border-dark","text-capitalize","text-left"],[1,"d-flex","pb-1","align-items-center"],[1,"bicon","bicon-circle",3,"ngStyle"],[1,"text-capitalize"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Le,4,17,"ng-container",1),e.ALo(2,"async"),e.qZA(),e.YNc(3,Ne,1,5,"ng-template",null,2,e.W1O),e.YNc(5,ke,9,5,"ng-template",null,3,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,n.chartOptions)))},directives:[oe,ie,F.G4,d.O5,d.sg,d.PC],pipes:[d.Ov],encapsulation:2}),a})();const lt=a=>{const s=a.error;if(s&&s.errors&&s.errors[0]&&s.errors[0].message)return s.errors[0].message};let le=(()=>{class a{constructor(t){this.datePipe=t,this.extendTurnoverItem=n=>Object.assign(Object.assign({},n),{intervalStartDate:this.datePipe.transform(n.intervalStartDate.slice(0,10),"MMM")||""})}getChartData(t,n){return(t||[]).map(function(i){return{series:[{name:n.income,value:Number(i.creditAmount.amount),currency:i.creditAmount.currencyCode},{name:n.spending,value:Number(i.debitAmount.amount),currency:i.debitAmount.currencyCode}],currency:i.balance.currencyCode,diff:Number(i.balance.amount),badge:i.forecast?n.forecast:"",name:i.intervalStartDate.slice(0,10)+(i.forecast?" ":"")}})}periodToDate(t){const n=new Date,i=t.duration;switch(t.interval){case"DAY":n.setDate(n.getDate()-i);break;case"WEEK":n.setDate(n.getDate()-7*i);break;case"YEAR":n.setFullYear(n.getFullYear()-i);break;default:n.setMonth(n.getMonth()-(i-1)),n.setDate(1)}return n.toISOString().slice(0,10)}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(d.uU))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),ce=(()=>{class a{constructor(t){this.turnoversDataHttpService=t}loadAnalysisData(t){return this.turnoversDataHttpService.getTurnovers(t).pipe((0,O.U)(n=>({turnovers:n.turnovers||[],forecast:(n.forecast||[]).map(i=>Object.assign(Object.assign({},i),{forecast:!0}))})),(0,O.U)(n=>(n.turnovers||[]).concat(t.forecast&&n.forecast?n.forecast:[])))}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(y.pz))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),de=(()=>{class a{constructor(t,n,i){this.service=t,this.route=n,this.helpers=i,this.selectedTab=R[Math.max(R.map(o=>o.default).indexOf(!0),0)],this.isLoading=new z.X(!1),this.initialDateParams={periodStartDate:this.helpers.periodToDate(R[0]),periodEndDate:(new Date).toISOString().slice(0,10),intervalDuration:"MONTH",intervalStartDay:1},this.arrangementIds=this.route.paramMap.pipe((0,O.U)(o=>{const r=o.get("selectedAccount");return r?[r]:[]})),this.dateParams=new z.X(this.initialDateParams),this.chartSeriesData=(0,_e.a)([this.arrangementIds,this.dateParams.asObservable()]).pipe((0,ue.b)(()=>this.error=void 0),(0,pe.h)(([o])=>!!o.length),(0,O.U)(([o,r])=>Object.assign(Object.assign({arrangementIds:o},r),{forecast:this.forecast?"AVG":void 0})),(0,me.w)(o=>{this.isLoading.next(!0);const r=this.service.loadAnalysisData(o);return r.subscribe({complete:()=>this.isLoading.next(!1)}),r}),(0,O.U)(o=>o.map(this.helpers.extendTurnoverItem)),(0,O.U)(o=>this.helpers.getChartData(o,this.labels)),(0,ve.K)(o=>(this.handleError(o),(0,G.of)([])))),this.handleError=o=>(this.error=(a=>{if(a.error instanceof ErrorEvent)return{message:"An unexpected error occurred"};switch(a.status){case 400:return{message:lt(a)||"Error 400"};case 401:return{message:"Error 401"};case 403:return{message:"Error 403"};case 404:return{message:"Error 404"};default:return{message:"An unexpected error occurred"}}})(o),(0,G.of)([]))}get labels(){return{income:this.incomeRef.nativeElement.textContent,spending:this.spendingRef.nativeElement.textContent,forecast:this.forecastRef.nativeElement.textContent}}onTabChange(t){this.selectedTab=R[Math.max(R.map(n=>n.duration).indexOf(t),0)],this.dateParams.next(Object.assign(Object.assign({},this.initialDateParams),{periodStartDate:this.helpers.periodToDate(this.selectedTab),periodEndDate:(new Date).toISOString().slice(0,10)}))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(ce),e.Y36(w.gz),e.Y36(le))},a.\u0275cmp=e.Xpm({type:a,selectors:[["bb-turnovers"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Ge,7),e.Gf(Ve,7),e.Gf(He,7)),2&t){let i;e.iGM(i=e.CRH())&&(n.incomeRef=i.first),e.iGM(i=e.CRH())&&(n.spendingRef=i.first),e.iGM(i=e.CRH())&&(n.forecastRef=i.first)}},inputs:{forecast:"forecast"},features:[e._Bn([ce,d.uU,le])],decls:19,vars:4,consts:function(){let s,t,n,i,o,r,g,p;return s="Incoming",t="Outgoing",n="Forecast",i=" 6 Months ",o=" 12 Months ",r="Loading transactions data...",g="No data found",p="You don't have any data to be displayed. Please try selecting a different period.",[[4,"ngIf","ngIfElse"],["turnoversControls",""],["loadingState",""],["emptyState",""],["errorState",""],[1,"ng-cloak"],["incomeLabel",""],s,["spendingLabel",""],t,["forecastLabel",""],n,[4,"ngTemplateOutlet"],["class","bb-turnovers-bar-chart bb-chart",3,"chartSeriesData","forecast",4,"ngIf","ngIfElse"],[1,"bb-turnovers-bar-chart","bb-chart",3,"chartSeriesData","forecast"],[1,"bb-turnovers-controls"],[1,"btn-group","btn-group-sm"],["bbButton","","data-role","6-month-btn",3,"value","color","click"],i,["bbButton","","data-role","12-month-btn",3,"value","color","click"],o,["text",r],["title",g,"subtitle",p,"iconSize","xxl","iconModifier","bar-chart"],["data-role","errorState","title","","iconModifier","error","iconSize","xxl","iconColor","gray","iconClasses","text-muted",3,"subtitle"]]},template:function(t,n){if(1&t&&(e.YNc(0,$e,3,4,"ng-container",0),e.ALo(1,"async"),e.YNc(2,je,6,4,"ng-template",null,1,e.W1O),e.YNc(4,ze,1,0,"ng-template",null,2,e.W1O),e.YNc(6,qe,2,1,"ng-template",null,3,e.W1O),e.YNc(8,et,1,1,"ng-template",null,4,e.W1O),e.TgZ(10,"span",5,6),e.SDv(12,7),e.qZA(),e.TgZ(13,"span",5,8),e.SDv(15,9),e.qZA(),e.TgZ(16,"span",5,10),e.SDv(18,11),e.qZA()),2&t){const i=e.MAs(7);let o;e.Q6J("ngIf",null==(o=e.lcZ(1,2,n.arrangementIds))?null:o.length)("ngIfElse",i)}},directives:[re,Y.Q,I.s,d.O5,d.tP,J.Hq],pipes:[d.Ov],encapsulation:2}),a})(),ge=(()=>{class a{constructor(){this.forecast$=(0,G.of)(this.forecast||!0)}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["bb-turnovers-widget"]],inputs:{forecast:"forecast"},decls:1,vars:1,consts:[[3,"forecast"]],template:function(t,n){1&t&&e._UZ(0,"bb-turnovers",0),2&t&&e.Q6J("forecast",n.forecast)},directives:[de],encapsulation:2}),a})();const dt=[F.Ft,Y.p,I.P,J.hJ];let gt=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[d.uU,d.H9],imports:[[d.ez,c.a4,...dt],F.Ft,Y.p,I.P,J.hJ]}),a})();const pt=[b.NG,b.nl,b.Vu,b.U6,b.e0,b.ir,b.iO,b.Ud,b._m,A.$r,A.X4,A.mz,A.LQ,A.Wg,A.IK,Q.R6],mt=[y.Uk,y.jy,y.Y,y.e4,y.pz],vt={path:"",component:nt,children:[{path:"",component:(()=>{class a{constructor(t,n,i){this.router=t,this.route=n,this.config=i}onItemSelect(t){this.router.navigate([".",{selectedAccount:t}],{relativeTo:this.route})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(w.F0),e.Y36(w.gz),e.Y36(ae))},a.\u0275cmp=e.Xpm({type:a,selectors:[["bb-turnovers-view"]],decls:5,vars:1,consts:function(){let s;return s="Cash Flow",[["headingType","h1","headingClasses","bb-heading-widget__heading px-0 pb-5","heading",s],[1,"bb-block--xl"],[3,"selectedAccount"],[1,"bb-card","card-body"],[3,"forecast"]]},template:function(t,n){1&t&&(e._UZ(0,"bb-header-ui",0),e.TgZ(1,"div",1)(2,"bb-product-summary-account-selector-widget",2),e.NdJ("selectedAccount",function(o){return n.onItemSelect(o)}),e.qZA()(),e.TgZ(3,"div",3),e._UZ(4,"bb-turnovers-widget",4),e.qZA()),2&t&&(e.xp6(4),e.Q6J("forecast",n.config.showForecast))},directives:[q.G,$.O$,ge],encapsulation:2,changeDetection:0}),a})(),data:{title:"Turnovers"}}]};let ft=(()=>{class a{static forRoot(t={route:vt}){return{ngModule:a,providers:[(0,w.co)([t.route])]}}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[...pt,...mt],imports:[[d.ez,q.O,$.JZ,w.Bz,gt]]}),a})();var k=l(570);let xt=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[{provide:b.yB,useExisting:k.w7},{provide:A.xd,useExisting:k.AU},{provide:Q.p5,useExisting:k.vj},{provide:y.Bn,useExisting:k.ao}],imports:[[ft.forRoot()]]}),a})()}}]);