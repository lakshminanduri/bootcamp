(self.webpackChunkretail_usa=self.webpackChunkretail_usa||[]).push([[747],{1867:()=>{},747:(Vl,en,p)=>{"use strict";p.d(en,{$F:()=>pt,_X:()=>ye,NA:()=>wt,zs:()=>jl,Bz:()=>fl});var E=p(9808),e=p(5e3),se=p(5357),L=p(7444),r=p(231),tn=p(4482),nn=p(5032),we=p(5403),_n=p(8421),O=p(1135),h=p(7579),B=p(4004),Se=p(3900),ce=p(515),ve=p(6129),H=p(4782),he=p(2940),P=p(262),U=p(9646),Z=p(8505),on=p(2805),T=p(2722),Ae=p(9300),ke=p(9841),Pe=p(1884),ln=p(5698),rn=p(6451),sn=p(1365),D=p(3075);function Ze(n,a){var t={};for(var _ in n)Object.prototype.hasOwnProperty.call(n,_)&&a.indexOf(_)<0&&(t[_]=n[_]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(_=Object.getOwnPropertySymbols(n);i<_.length;i++)a.indexOf(_[i])<0&&Object.prototype.propertyIsEnumerable.call(n,_[i])&&(t[_[i]]=n[_[i]])}return t}var Q=p(6791),He=p(2194),Ce=p(7120),Ge=p(4544),Qe=p(1989),de=p(5556),Ye=p(2929),Y=p(7952),Be=p(520),x=p(5460),G=p(6888);let un=(()=>{class n{constructor(t,_){this.vcRef=t,this.cfr=_}ngOnChanges(t){var _,i;const o=null===(_=this.componentRef)||void 0===_?void 0:_.instance;t.context&&o&&(o.context=this.context,null===(i=o.ngOnChanges)||void 0===i||i.call(o,{context:t.context}))}ngOnDestroy(){var t;this.vcRef.clear(),null===(t=this.componentRef)||void 0===t||t.destroy()}ngOnInit(){if(!this.componentType)throw new Error("componentType not defined");const t=this.cfr.resolveComponentFactory(this.componentType);this.componentRef=this.vcRef.createComponent(t),this.componentRef.instance.context=this.context}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b),e.Y36(e._Vd))},n.\u0275dir=e.lG2({type:n,inputs:{componentType:"componentType",context:"context"},features:[e.TTD]}),n})(),Re=(()=>{class n{constructor(t){this.paymentOrderHttpService=t,this.noAccessErrorMessage="Access to requested resource denied.",this.isNoAccessError$$=new O.X(!1),this.errorWhileFetching$$=new O.X(!1),this.isNoAccessError$=this.isNoAccessError$$.asObservable(),this.errorWhileFetching$=this.errorWhileFetching$$.asObservable()}getPaymentById(t){return this.paymentOrderHttpService.getPaymentOrderById({paymentOrderId:t}).pipe((0,P.K)(_=>(_.message===this.noAccessErrorMessage||403===_.status?this.isNoAccessError$$.next(!0):this.errorWhileFetching$$.next(!0),(0,U.of)(void 0))))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Q.k4))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var ue=p(9351),mn=p(6014),q=p(4951),v=p(9287),K=p(7555),qe=p(9774),ze=p(7862),ae=p(5091);function En(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",7)(2,"span"),e.SDv(3,8),e.qZA(),e._uU(4,": "),e.TgZ(5,"span",9),e._uU(6," \u2248 "),e._UZ(7,"bb-amount-ui",10),e.qZA()(),e.TgZ(8,"div",11)(9,"span"),e.SDv(10,12),e.qZA(),e._uU(11),e.qZA(),e.BQk()),2&n){const t=e.oxw();let _,i;e.xp6(7),e.Q6J("mapCurrency",!1)("amount",null!==(_=null==t.forexDetails?null:t.forexDetails.calculatedAmount)&&void 0!==_?_:"")("currency",null!==(i=null==t.forexDetails?null:t.forexDetails.fromCurrency)&&void 0!==i?i:""),e.xp6(4),e.lnq(": 1 ",null==t.forexDetails?null:t.forexDetails.fromCurrency," \u2248 ",null==t.forexDetails?null:t.forexDetails.exchangeRate," ",null==t.forexDetails?null:t.forexDetails.toCurrency," ")}}function pn(n,a){if(1&n&&(e.TgZ(0,"span",18),e.SDv(1,19),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.pQV(t.config.name),e.QtT(1)}}function Sn(n,a){if(1&n&&e._UZ(0,"bb-charge-bearer-label",20),2&n){const t=e.oxw(2);e.Q6J("option",t.chargeBearer)}}function An(n,a){1&n&&(e.ynx(0),e.SDv(1,22),e.BQk())}function gn(n,a){if(1&n&&(e.TgZ(0,"div",1)(1,"span"),e.SDv(2,21),e.qZA(),e.YNc(3,An,2,0,"ng-container",5),e._UZ(4,"bb-amount-ui",4),e.qZA()),2&n){const t=e.oxw(2);let _;e.xp6(3),e.Q6J("ngIf",null==t.forexDetails?null:t.forexDetails.calculatedAmount),e.xp6(1),e.Q6J("amount",t.totalAmount)("currency",(null==t.forexDetails?null:t.forexDetails.fromCurrency)||(null!==(_=t.transactionCurrency)&&void 0!==_?_:""))("mapCurrency",!1),e.uIk("data-role","transfer-total")}}function Cn(n,a){if(1&n&&(e.TgZ(0,"div",0)(1,"div",13),e.YNc(2,pn,2,1,"span",14),e._UZ(3,"bb-amount-ui",15),e.qZA(),e.YNc(4,Sn,1,1,"bb-charge-bearer-label",16),e.YNc(5,gn,5,5,"div",17),e.qZA()),2&n){const t=e.oxw();let _;e.xp6(2),e.Q6J("ngIf",null==t.config?null:t.config.name),e.xp6(1),e.Q6J("amount",t.transferFee.amount)("currency",t.transferFee.currencyCode||(null!==(_=t.transactionCurrency)&&void 0!==_?_:""))("mapCurrency",!1),e.xp6(1),e.Q6J("ngIf",t.chargeBearer),e.xp6(1),e.Q6J("ngIf",!t.exchangeRateError)}}const je=function(n){return{"bb-payment-account-details-card--full-height":n}};function Bn(n,a){if(1&n&&(e.ynx(0,10),e._uU(1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.AsE(" ",t.bankBranchCode," / ",t.accountIdentificator," ")}}function fn(n,a){if(1&n&&e._uU(0),2&n){const t=e.oxw();e.hij(" ",t.accountIdentificator," ")}}function bn(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payord-dynamic-label",10),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("config",t.paymentConfig)}}function yn(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",11),2&n){const t=e.oxw(2);e.Q6J("config",t.paymentConfig)}}function Mn(n,a){if(1&n&&(e.TgZ(0,"div",3)(1,"div",4),e.YNc(2,bn,2,1,"ng-container",5),e.YNc(3,yn,1,1,"ng-template",null,6,e.W1O),e.qZA(),e.TgZ(5,"div",7),e._uU(6),e.ALo(7,"date"),e.TgZ(8,"span",8),e.SDv(9,9),e.qZA()()()),2&n){const t=e.MAs(4),_=e.oxw();let i;e.xp6(2),e.Q6J("ngIf","ONCE"===(null==_.data||null==_.data.frequency?null:_.data.frequency.value)||void 0===(null==_.data||null==_.data.frequency?null:_.data.frequency.value))("ngIfElse",t),e.xp6(4),e.hij(" ",e.xi3(7,4,null==_.data?null:_.data.startDate,"mediumDate")," "),e.xp6(3),e.pQV(_.isRelativeDate(null!==(i=null==_.data?null:_.data.startDate)&&void 0!==i?i:"")),e.QtT(9)}}function On(n,a){if(1&n&&(e.TgZ(0,"div",3)(1,"div",4),e._UZ(2,"bb-payord-dynamic-label",12),e.qZA(),e.TgZ(3,"div",13),e.SDv(4,14),e.qZA()()),2&n){const t=e.oxw().ngIf,_=e.oxw();e.xp6(2),e.Q6J("config",_.paymentConfig),e.xp6(2),e.pQV(t),e.QtT(4)}}function In(n,a){if(1&n&&(e.ynx(0),e.YNc(1,On,5,2,"div",1),e.BQk()),2&n){const t=a.ngIf;e.xp6(1),e.Q6J("ngIf","ONCE"!==t)}}function Tn(n,a){if(1&n&&(e.TgZ(0,"div",3)(1,"div",15),e._UZ(2,"bb-payord-dynamic-label",16),e.qZA(),e.TgZ(3,"div",17),e._uU(4),e.TgZ(5,"span"),e.SDv(6,18),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.data?null:t.data.repeat," ")}}function vn(n,a){if(1&n&&(e.TgZ(0,"div",23),e._uU(1),e.ALo(2,"date"),e.TgZ(3,"span"),e.SDv(4,24),e.qZA()()),2&n){const t=e.oxw(3);let _;e.xp6(1),e.hij(" ",e.xi3(2,2,null==t.data?null:t.data.endDate,"mediumDate")," "),e.xp6(3),e.pQV(t.isRelativeDate(null!==(_=null==t.data?null:t.data.endDate)&&void 0!==_?_:"")),e.QtT(4)}}function hn(n,a){1&n&&(e.TgZ(0,"div",25),e.SDv(1,26),e.qZA())}function Pn(n,a){if(1&n&&(e.TgZ(0,"div",3)(1,"div",19),e._UZ(2,"bb-payord-dynamic-label",20),e.qZA(),e.YNc(3,vn,5,5,"div",21),e.YNc(4,hn,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(1),e.Q6J("ngIf","on"===(null==t.data?null:t.data.endType)),e.xp6(1),e.Q6J("ngIf","never"===(null==t.data?null:t.data.endType))}}function Dn(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Tn,7,2,"div",1),e.YNc(2,Pn,5,3,"div",1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","after"===(null==t.data?null:t.data.endType)&&(null==t.data?null:t.data.repeat)),e.xp6(1),e.Q6J("ngIf","on"===(null==t.data?null:t.data.endType)||"never"===(null==t.data?null:t.data.endType))}}let N=(()=>{class n{constructor(){this.defaultLabel="",this.parentName="",this.label=""}ngOnInit(){this.label=(0,r.kv)(this.name,this.config,this.parentName)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payord-dynamic-label"]],inputs:{config:"config",name:"name",defaultLabel:"defaultLabel",parentName:"parentName"},decls:2,vars:1,template:function(t,_){1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t&&(e.xp6(1),e.Oqu(_.label||_.defaultLabel))},encapsulation:2,changeDetection:0}),n})(),te=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez]]}),n})();let Xe=(()=>{class n{constructor(){this.hasTransferFee=!1,this.exchangeRateError=!1,this.defaultChargeBearer="BEN"}ngOnInit(){var t,_;this.forexDetails=this.getForextDetails();const i=this.transferFee||{amount:"0",currencyCode:""};this.hasTransferFee=!!i.amount;const o=new qe((null===(t=this.forexDetails)||void 0===t?void 0:t.calculatedAmount)||this.amount||"0").plus(i.amount).toString();this.exchangeRateError=this.hasForexError(),this.totalAmount=this.hasTransferFee&&"BEN"!==this.chargeBearer?o:null!==(_=this.amount)&&void 0!==_?_:""}getForextDetails(){var t;if(!this.exchangeRate||0===Number(this.exchangeRate))return{fromCurrency:this.originatorCurrency,toCurrency:this.transactionCurrency};const i=new qe(null!==(t=this.amount)&&void 0!==t?t:0).dividedBy(this.exchangeRate).toString();return{fromCurrency:this.originatorCurrency,toCurrency:this.transactionCurrency,calculatedAmount:i,exchangeRate:this.exchangeRate}}hasForexError(){var t,_,i;return(null===(t=this.forexDetails)||void 0===t?void 0:t.fromCurrency)!==(null===(_=this.forexDetails)||void 0===_?void 0:_.toCurrency)&&!(null===(i=this.forexDetails)||void 0===i?void 0:i.exchangeRate)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payord-amount-details"]],inputs:{config:"config",amount:"amount",originatorCurrency:"originatorCurrency",transactionCurrency:"transactionCurrency",exchangeRate:"exchangeRate",transferFee:"transferFee",chargeBearer:"chargeBearer"},decls:7,vars:6,consts:function(){let a,t,_,i,o,l;return a="Amount",t="Amount you pay",_="Indicative rate",i="Transfer fee - " + "\ufffd0\ufffd" + ": ",o="Total: ",l="\u2248 ",[[1,"bb-block","bb-block--md"],[1,"bb-text-bold"],["name","amountGroup","defaultLabel",a,3,"config"],["data-role","transfer-amount",1,"bb-highlight","break-word","bb-block","bb-block--xs"],[3,"amount","currency","mapCurrency"],[4,"ngIf"],["class","bb-block bb-block--md",4,"ngIf"],[1,"bb-block","bb-block--xs"],t,["data-role","amount-you-pay"],[3,"mapCurrency","amount","currency"],["data-role","indicative-rate",1,"bb-block","bb-block--xs"],_,["data-role","transfer-fee",1,"bb-block","bb-block--xs"],["data-role","transfer-fee-label",4,"ngIf"],["data-role","transfer-fee",3,"amount","currency","mapCurrency"],["data-role","charge-bearer","class","bb-block bb-block--xs",3,"option",4,"ngIf"],["class","bb-text-bold",4,"ngIf"],["data-role","transfer-fee-label"],i,["data-role","charge-bearer",1,"bb-block","bb-block--xs",3,"option"],o,l]},template:function(t,_){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"bb-payord-dynamic-label",2),e.qZA(),e.TgZ(3,"div",3),e._UZ(4,"bb-amount-ui",4),e.qZA(),e.YNc(5,En,12,6,"ng-container",5),e.YNc(6,Cn,6,6,"div",6),e.qZA()),2&t){let i,o;e.xp6(2),e.Q6J("config",_.config),e.xp6(2),e.Q6J("amount",null!==(i=_.amount)&&void 0!==i?i:"")("currency",null!==(o=_.originatorCurrency)&&void 0!==o?o:"")("mapCurrency",!1),e.xp6(1),e.Q6J("ngIf",null==_.forexDetails?null:_.forexDetails.calculatedAmount),e.xp6(1),e.Q6J("ngIf",_.transferFee)}},directives:[N,K.G4,r.wN8,E.O5],encapsulation:2,changeDetection:0}),n})();const Rn=[K.i7],Un=[r.wWw,te];let et=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,...Rn,...Un]]}),n})(),tt=(()=>{class n{constructor(){this.isCompact=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-debitor-details-card"]],inputs:{balance:"balance",currency:"currency",name:"name",accountNumber:"accountNumber",isCompact:"isCompact"},decls:10,vars:8,consts:[[1,"bb-payment-account-details-card",3,"ngClass"],[1,"bb-payment-account-details-card__header"],["backgroundType","square","color","secondary","size","sm","name","current-accounts"],[1,"bb-text-bold","break-word"],["data-role","debit-account-balance",3,"mapCurrency","amount","currency"],[1,"bb-payment-account-details-card__body","justify-content-center"],["data-role","debit-account-name",1,"bb-text-bold","break-word"],["data-role","debit-account-number",1,"bb-text-support","bb-subtitle","contextual-alternates-off"]],template:function(t,_){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"bb-icon-ui",2),e.TgZ(3,"div",3),e._UZ(4,"bb-amount-ui",4),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6),e._uU(7),e.qZA(),e.TgZ(8,"div",7),e._uU(9),e.qZA()()()),2&t){let i,o;e.Q6J("ngClass",e.VKq(6,je,!_.isCompact)),e.xp6(4),e.Q6J("mapCurrency",!1)("amount",null!==(i=_.balance)&&void 0!==i?i:"")("currency",null!==(o=_.currency)&&void 0!==o?o:""),e.xp6(3),e.hij(" ",_.name," "),e.xp6(2),e.hij(" ",_.accountNumber," ")}},directives:[v.o,K.G4,E.mk],encapsulation:2,changeDetection:0}),n})(),nt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,v.Q,K.i7]]}),n})();let at=(()=>{class n{constructor(t){this.maskPipe=t,this.isCompact=!1}get accountIdentificator(){const t=this.accountNumber||this.IBAN;return"IBAN"===this.schemeName?this.maskPipe.transform(null!=t?t:"",r.a$):t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ae.Iq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-creditor-details-card"]],inputs:{name:"name",country:"country",bankBranchCode:"bankBranchCode",IBAN:"IBAN",accountNumber:"accountNumber",schemeName:"schemeName",isCompact:"isCompact"},decls:11,vars:8,consts:[[1,"bb-payment-account-details-card",3,"ngClass"],["aria-hidden","true",1,"bb-payment-account-details-card__header"],[3,"name"],["flagSize","lg",3,"countryCode"],[1,"bb-payment-account-details-card__body","justify-content-center"],["data-role","creditor-name",1,"bb-text-bold","break-word"],["data-role","creditor-number",1,"bb-text-support","bb-subtitle"],["data-role","creditor-account-number-with-branch-code",4,"ngIf","ngIfElse"],["data-role","creditor-account-number"],["accountNumberWithoutBankBranchCode",""],["data-role","creditor-account-number-with-branch-code"]],template:function(t,_){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"bb-avatar-ui",2)(3,"bb-flag-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5),e._uU(6),e.qZA(),e.TgZ(7,"div",6),e.YNc(8,Bn,2,2,"ng-container",7),e.YNc(9,fn,1,1,"ng-template",8,9,e.W1O),e.qZA()()()),2&t){const i=e.MAs(10);let o,l;e.Q6J("ngClass",e.VKq(6,je,!_.isCompact)),e.xp6(2),e.Q6J("name",null!==(o=_.name)&&void 0!==o?o:""),e.xp6(1),e.Q6J("countryCode",null!==(l=_.country)&&void 0!==l?l:""),e.xp6(3),e.hij(" ",_.name," "),e.xp6(2),e.Q6J("ngIf",_.bankBranchCode)("ngIfElse",i)}},directives:[ze.A,r.e4z,E.mk,E.O5],encapsulation:2,changeDetection:0}),n})();const Nn=[ze.F,r.man];let it=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[ae.Iq],imports:[[E.ez,ae.yI.forChild(),...Nn]]}),n})(),ot=(()=>{class n{set avialablePurposesOfPayment(t){var _;this.purposeDescription=null===(_=null==t?void 0:t.find(({code:i})=>i===this.purposeOfPayment))||void 0===_?void 0:_.description}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-purpose-of-payment"]],inputs:{paymentConfig:"paymentConfig",purposeOfPayment:"purposeOfPayment",avialablePurposesOfPayment:"avialablePurposesOfPayment"},decls:8,vars:4,consts:[[1,"bb-block","bb-block--md"],[1,"bb-text-bold"],["name","purposeOfPayment","data-role","purpose-of-payment__label",3,"config","defaultLabel"],[1,"bb-stack"],["data-role","purpose-of-payment__text",1,"bb-stack__item","bb-stack__item--align-top"],["data-role","purpose-of-payment__description",1,"bb-stack__item","bb-text-support"]],template:function(t,_){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"bb-payord-dynamic-label",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4),e._uU(5),e.qZA(),e.TgZ(6,"div",5),e._uU(7),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("config",_.paymentConfig)("defaultLabel","Purpose of payment"),e.xp6(3),e.hij(" ",_.purposeOfPayment," "),e.xp6(2),e.hij(" ",_.purposeDescription," "))},directives:[N],encapsulation:2,changeDetection:0}),n})(),lt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,te]]}),n})(),rt=(()=>{class n{isRelativeDate(t){const _=(0,r.DCK)(),i=(0,r.DCK)(1),o=(0,r.RRx)(new Date(t));let l="";return o===_?l="today":o===i&&(l="tomorrow"),l}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payord-schedule-details"]],inputs:{data:"data",paymentConfig:"paymentConfig"},decls:5,vars:3,consts:function(){let a,t,_,i,o,l,s,u,c,d,m,S,A;return a="{VAR_SELECT, select, today {(Today)} tomorrow {(Tomorrow)}}",a=e.Zx4(a,{VAR_SELECT:"\ufffd0\ufffd"}),t=" " + a + " ",_="Execution date",i="Start on",o="Frequency",l="{VAR_SELECT, select, DAILY {Daily} WEEKLY {Weekly} BIWEEKLY {Bi-Weekly} MONTHLY {Monthly} QUARTERLY {Quarterly} YEARLY {Annually}}",l=e.Zx4(l,{VAR_SELECT:"\ufffd0\ufffd"}),s=" " + l + " ",u="End after",c="occurrences",d="End on",m="{VAR_SELECT, select, today {(Today)} tomorrow {(Tomorrow)}}",m=e.Zx4(m,{VAR_SELECT:"\ufffd0\ufffd"}),S=" " + m + " ",A=" Never ending ",[[1,"row"],["class","col-md-6 bb-block bb-block--md",4,"ngIf"],[4,"ngIf"],[1,"col-md-6","bb-block","bb-block--md"],[1,"bb-text-bold"],[4,"ngIf","ngIfElse"],["multipleFreq",""],["data-role","execution-date"],["data-role","relative-date"],t,["name","startDate","parentName","schedule","defaultLabel",_,3,"config"],["name","startDate","parentName","schedule","defaultLabel",i,3,"config"],["name","frequency","parentName","schedule","defaultLabel",o,3,"config"],["data-role","frequency-value"],s,["data-role","end-after-label",1,"bb-text-bold"],["name","repeat","parentName","schedule","defaultLabel",u,3,"config"],["data-role","end-after"],c,["data-role","end-date-label",1,"bb-text-bold"],["name","endDate","parentName","schedule","defaultLabel",d,3,"config"],["data-role","end-date",4,"ngIf"],["data-role","payment-recurring-end-date-never-ending",4,"ngIf"],["data-role","end-date"],S,["data-role","payment-recurring-end-date-never-ending"],A]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.YNc(2,Mn,10,7,"div",1),e.YNc(3,In,2,1,"ng-container",2),e.BQk(),e.YNc(4,Dn,3,2,"ng-container",2),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",null==_.data?null:_.data.startDate),e.xp6(1),e.Q6J("ngIf",(null==_.data||null==_.data.frequency?null:_.data.frequency.value)||(null==_.data?null:_.data.frequency)),e.xp6(1),e.Q6J("ngIf","ONCE"!==((null==_.data||null==_.data.frequency?null:_.data.frequency.value)||(null==_.data?null:_.data.frequency))))},directives:[N,E.O5],pipes:[E.uU],encapsulation:2,changeDetection:0}),n})(),st=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,te]]}),n})();var ne=p(7287),z=p(4058),b=p(429),j=p(7605),V=p(1892),fe=p(3508),ct=p(5622);function Ln(n,a){1&n&&e.GkF(0)}function xn(n,a){1&n&&e.GkF(0)}function Kn(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",26),2&n){const t=e.oxw(2);e.Q6J("config",t.paymentConfig)}}function Fn(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",27),2&n){const t=e.oxw(2);e.Q6J("config",t.paymentConfig)}}function wn(n,a){if(1&n&&(e.TgZ(0,"div",22)(1,"div",9),e.YNc(2,Kn,1,1,"bb-payord-dynamic-label",23),e.YNc(3,Fn,1,1,"ng-template",null,24,e.W1O),e.qZA(),e.TgZ(5,"div",25),e._uU(6),e.qZA()()),2&n){const t=e.MAs(4),_=e.oxw();e.xp6(2),e.Q6J("ngIf",_.isDebitPayment)("ngIfElse",t),e.xp6(4),e.hij(" ",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.remittanceInformation?null:_.payment.transferTransactionInformation.remittanceInformation.content," ")}}function kn(n,a){if(1&n&&e._UZ(0,"bb-purpose-of-payment",28),2&n){const t=e.oxw();e.Q6J("paymentConfig",t.paymentConfig)("purposeOfPayment",null==t.payment||null==t.payment.transferTransactionInformation||null==t.payment.transferTransactionInformation.purposeOfPayment?null:t.payment.transferTransactionInformation.purposeOfPayment.freeText)}}function Wn(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payord-dynamic-label",31),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("config",t.paymentConfig)}}function Zn(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",32),2&n){const t=e.oxw(2);e.Q6J("config",t.paymentConfig)}}function Jn(n,a){if(1&n&&(e.YNc(0,Wn,2,1,"ng-container",29),e.YNc(1,Zn,1,1,"ng-template",null,30,e.W1O)),2&n){const t=e.MAs(2),_=e.oxw();e.Q6J("ngIf",_.isDebitPayment)("ngIfElse",t)}}function $n(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payord-dynamic-label",34),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("config",t.paymentConfig)}}function Hn(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",35),2&n){const t=e.oxw(2);e.Q6J("config",t.paymentConfig)}}function Gn(n,a){if(1&n&&(e.YNc(0,$n,2,1,"ng-container",29),e.YNc(1,Hn,1,1,"ng-template",null,33,e.W1O)),2&n){const t=e.MAs(2),_=e.oxw();e.Q6J("ngIf",_.isDebitPayment)("ngIfElse",t)}}const Qn=function(n){return{"flex-column-reverse flex-md-row-reverse":n}};function Yn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"bb-alert-ui",6),e.NdJ("bbKeyboardClick",function(){return e.CHM(t).toggle()}),e.qZA(),e.TgZ(2,"bb-icon-ui",7),e.NdJ("bbKeyboardClick",function(){return e.CHM(t).toggle()}),e.qZA()()}if(2&n){const t=a.isOpen;e.xp6(1),e.Q6J("ngClass",t?"duplicate-payment__header--expanded":"duplicate-payment__header--collapsed")("modifier","warning"),e.xp6(1),e.Q6J("name",t?"toggle-up":"toggle-down")}}function qn(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payment-details",10),e.ALo(2,"async"),e.BQk()),2&n){const t=a.ngIf,_=e.oxw(4);e.xp6(1),e.Q6J("payment",t)("isDebitPayment",_.isDebitPayment)("paymentConfig",_.paymentConfig)("scheduleItem",e.lcZ(2,4,_.scheduleItem$))}}function zn(n,a){if(1&n&&(e.ynx(0),e.YNc(1,qn,3,6,"ng-container",9),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(3),_=e.MAs(8);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.payment$))("ngIfElse",_)}}function jn(n,a){if(1&n&&(e.ynx(0),e.YNc(1,zn,3,4,"ng-container",9),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(2),_=e.MAs(6);e.xp6(1),e.Q6J("ngIf",!1===e.lcZ(2,2,t.errorNoAccess$))("ngIfElse",_)}}function Vn(n,a){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,jn,3,4,"ng-container",9),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw(),_=e.MAs(4);e.xp6(1),e.Q6J("ngIf",!1===e.lcZ(2,2,t.errorWhileFetching$))("ngIfElse",_)}}function Xn(n,a){1&n&&(e.TgZ(0,"div",11),e._UZ(1,"bb-empty-state-ui",12),e.qZA())}function e_(n,a){1&n&&(e.TgZ(0,"div",11),e._UZ(1,"bb-empty-state-ui",13),e.qZA())}function t_(n,a){1&n&&e._UZ(0,"bb-loading-indicator-ui",14)}let n_=(()=>{class n{constructor(){this.isDebitPayment=!1,this.IBANSchemeName="IBAN"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-details"]],inputs:{payment:"payment",isDebitPayment:"isDebitPayment",paymentConfig:"paymentConfig",scheduleItem:"scheduleItem"},decls:39,vars:36,consts:function(){let a,t,_,i,o,l,s,u,c,d;return a="Duplicate payment details",t="Created by ",_=" on ",i=" at ",o="Message to client",l="Message to beneficiary",s="Collect from",u="From",c="Transfer to",d="To",[["headingType","h1","heading",a,1,"sr-only"],[1,"duplicate-payment-status-row","bb-text-support","bb-subtitle"],["data-role","duplicate-payment-status",1,"duplicate-payment-status-row__label-spacer--right",3,"status"],["data-role","duplicate-payment-status-row__subtitle"],t,_,i,[1,"bb-payment-account-details-card__container","bb-block","bb-block--md","break-word",3,"ngClass"],[1,"w-lg-50"],[1,"bb-text-bold"],[4,"ngTemplateOutlet"],["data-role","debitor-details-card",3,"name","accountNumber","currency","isCompact"],[1,"justify-content-center","align-items-center","d-md-flex","d-none"],["name","arrow-forward",1,"bb-account-transfer-icon"],[1,"d-md-none"],["data-role","creditor-details-card",3,"name","country","bankBranchCode","schemeName","IBAN","accountNumber","isCompact"],["data-role","duplicate-payment__amount-details",3,"config","amount","originatorCurrency","transactionCurrency","transferFee","chargeBearer","exchangeRate"],["class","bb-block bb-block--md",4,"ngIf"],["data-role","purpose-of-payment",3,"paymentConfig","purposeOfPayment",4,"ngIf"],[3,"paymentConfig","data"],["dynamicLabelInitiator",""],["dynamicLabelCounterparty",""],[1,"bb-block","bb-block--md"],["name","remittanceInformation","defaultLabel",o,3,"config",4,"ngIf","ngIfElse"],["remittanceInformationLableForNonDebit",""],["data-role","remittance-information-content",1,"break-word"],["name","remittanceInformation","defaultLabel",o,3,"config"],["name","remittanceInformation","defaultLabel",l,3,"config"],["data-role","purpose-of-payment",3,"paymentConfig","purposeOfPayment"],[4,"ngIf","ngIfElse"],["dynamicLabelInitiatorNonDebit",""],["name","counterparty","defaultLabel",s,"data-role","initiator-label",3,"config"],["name","initiator","defaultLabel",u,"data-role","initiator-label",3,"config"],["dynamicLabelCounterpartyForNonDebit",""],["data-role","payee-label","name","initiator","defaultLabel",c,3,"config"],["data-role","payee-label","name","counterparty","defaultLabel",d,3,"config"]]},template:function(t,_){if(1&t&&(e.TgZ(0,"section"),e._UZ(1,"bb-header-ui",0),e.TgZ(2,"div",1),e._UZ(3,"bb-payord-status-badge",2),e.TgZ(4,"span",3),e.SDv(5,4),e.qZA(),e.TgZ(6,"span",3),e._uU(7),e.qZA(),e.TgZ(8,"span",3),e.SDv(9,5),e.qZA(),e.TgZ(10,"span",3),e._uU(11),e.ALo(12,"date"),e.qZA(),e.TgZ(13,"span",3),e.SDv(14,6),e.qZA(),e.TgZ(15,"span",3),e._uU(16),e.ALo(17,"date"),e.qZA()(),e.TgZ(18,"div",7)(19,"div",8)(20,"div",9),e.YNc(21,Ln,1,0,"ng-container",10),e.qZA(),e._UZ(22,"bb-debitor-details-card",11),e.qZA(),e.TgZ(23,"div",12),e._UZ(24,"bb-icon-ui",13),e.qZA(),e.TgZ(25,"div",14),e._uU(26,"\xa0"),e.qZA(),e.TgZ(27,"div",8)(28,"div",9),e.YNc(29,xn,1,0,"ng-container",10),e.qZA(),e._UZ(30,"bb-creditor-details-card",15),e.qZA()(),e._UZ(31,"bb-payord-amount-details",16),e.YNc(32,wn,7,3,"div",17),e.YNc(33,kn,1,2,"bb-purpose-of-payment",18),e._UZ(34,"bb-payord-schedule-details",19),e.qZA(),e.YNc(35,Jn,3,2,"ng-template",null,20,e.W1O),e.YNc(37,Gn,3,2,"ng-template",null,21,e.W1O)),2&t){const i=e.MAs(36),o=e.MAs(38);e.xp6(3),e.Q6J("status",null==_.payment?null:_.payment.status),e.xp6(4),e.hij("",null==_.payment?null:_.payment.createdBy," "),e.xp6(4),e.hij("",e.lcZ(12,29,null==_.payment?null:_.payment.createdAt)," "),e.xp6(5),e.Oqu(e.xi3(17,31,null==_.payment?null:_.payment.createdAt,"shortTime")),e.xp6(2),e.Q6J("ngClass",e.VKq(34,Qn,_.isDebitPayment)),e.xp6(3),e.Q6J("ngTemplateOutlet",_.isDebitPayment?o:i),e.xp6(1),e.Q6J("name",null==_.payment||null==_.payment.originator?null:_.payment.originator.name)("accountNumber",null==_.payment||null==_.payment.originatorAccount||null==_.payment.originatorAccount.identification?null:_.payment.originatorAccount.identification.identification)("currency",null==_.payment?null:_.payment.originatorAccountCurrency)("isCompact",!0),e.xp6(7),e.Q6J("ngTemplateOutlet",_.isDebitPayment?i:o),e.xp6(1),e.Q6J("name",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.counterparty?null:_.payment.transferTransactionInformation.counterparty.name)("country",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.counterparty||null==_.payment.transferTransactionInformation.counterparty.postalAddress?null:_.payment.transferTransactionInformation.counterparty.postalAddress.country)("bankBranchCode",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.counterpartyBank?null:_.payment.transferTransactionInformation.counterpartyBank.bankBranchCode)("schemeName",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.counterpartyAccount||null==_.payment.transferTransactionInformation.counterpartyAccount.identification?null:_.payment.transferTransactionInformation.counterpartyAccount.identification.schemeName)("IBAN",(null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.counterpartyAccount||null==_.payment.transferTransactionInformation.counterpartyAccount.identification?null:_.payment.transferTransactionInformation.counterpartyAccount.identification.schemeName)===_.IBANSchemeName?null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.counterpartyAccount||null==_.payment.transferTransactionInformation.counterpartyAccount.identification?null:_.payment.transferTransactionInformation.counterpartyAccount.identification.identification:"")("accountNumber",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.counterpartyAccount||null==_.payment.transferTransactionInformation.counterpartyAccount.identification?null:_.payment.transferTransactionInformation.counterpartyAccount.identification.identification)("isCompact",!0),e.xp6(1),e.Q6J("config",_.paymentConfig)("amount",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.instructedAmount?null:_.payment.transferTransactionInformation.instructedAmount.amount)("originatorCurrency",null==_.payment?null:_.payment.originatorAccountCurrency)("transactionCurrency",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.instructedAmount?null:_.payment.transferTransactionInformation.instructedAmount.currencyCode)("transferFee",null==_.payment||null==_.payment.transferTransactionInformation?null:_.payment.transferTransactionInformation.transferFee)("chargeBearer",null==_.payment||null==_.payment.transferTransactionInformation?null:_.payment.transferTransactionInformation.chargeBearer)("exchangeRate",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.exchangeRateInformation?null:_.payment.transferTransactionInformation.exchangeRateInformation.rate),e.xp6(1),e.Q6J("ngIf",null==_.payment||null==_.payment.transferTransactionInformation?null:_.payment.transferTransactionInformation.remittanceInformation),e.xp6(1),e.Q6J("ngIf",null==_.payment||null==_.payment.transferTransactionInformation?null:_.payment.transferTransactionInformation.purposeOfPayment),e.xp6(1),e.Q6J("paymentConfig",_.paymentConfig)("data",_.scheduleItem)}},directives:[x.G,r.I53,tt,v.o,at,Xe,N,ot,rt,E.mk,E.tP,E.O5],pipes:[E.uU],encapsulation:2,changeDetection:0}),n})(),__=(()=>{class n{constructor(t){this.paymentApiService=t,this.isDebitPayment=!1,this.errorWhileFetching$=this.paymentApiService.errorWhileFetching$,this.errorNoAccess$=this.paymentApiService.isNoAccessError$}set paymentId(t){var _;this.payment$=this.paymentApiService.getPaymentById(t),this.scheduleItem$=null===(_=this.payment$)||void 0===_?void 0:_.pipe((0,B.U)(i=>{var o,l,s,u,c,d,m,S,A,g,f;return Object.assign({startDate:null!==(l=null===(o=null==i?void 0:i.schedule)||void 0===o?void 0:o.startDate)&&void 0!==l?l:null==i?void 0:i.createdAt,endDate:null===(s=null==i?void 0:i.schedule)||void 0===s?void 0:s.endDate,repeat:null===(u=null==i?void 0:i.schedule)||void 0===u?void 0:u.repeat,every:null===(c=null==i?void 0:i.schedule)||void 0===c?void 0:c.every},(null===(d=null==i?void 0:i.schedule)||void 0===d?void 0:d.transferFrequency)&&(null===(m=null==i?void 0:i.schedule)||void 0===m?void 0:m.every)&&{frequency:{value:null!==(A=null===(S=null==i?void 0:i.schedule)||void 0===S?void 0:S.transferFrequency)&&void 0!==A?A:"",every:null!==(f=null===(g=null==i?void 0:i.schedule)||void 0===g?void 0:g.every)&&void 0!==f?f:""}})}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Re))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-duplicate-payment-warning"]],inputs:{paymentId:"paymentId",isDebitPayment:"isDebitPayment",paymentConfig:"paymentConfig"},decls:9,vars:0,consts:function(){let a,t,_,i,o,l;return a="Potential duplicate",t="We have found a recent payment that looks similar to this one.",_="Something went wrong",i="Payment details could not be retrieved due to system error.",o="No Permissions",l="You don't have persmission to see this payment. Contact your system administrator.",[["bbCollapsibleHeader",""],["bbCollapsibleBody",""],["fetchingErrorState",""],["noAccessErrorState",""],["loadingState",""],[1,"duplicate-payment__collapsed-container"],["data-role","duplicate-payment__collapsed-header","title",a,"message",t,1,"duplicate-payment__header",3,"ngClass","modifier","bbKeyboardClick"],["data-role","duplicate-payment__icon",1,"duplicate-payment__icon",3,"name","bbKeyboardClick"],["data-role","duplicate-payment__expanded-container",1,"duplicate-payment__expanded-container"],[4,"ngIf","ngIfElse"],[3,"payment","isDebitPayment","paymentConfig","scheduleItem"],[1,"bb-state-container"],["title",_,"subtitle",i,"iconSize","xxl","iconModifier","error-outline","data-role","duplicate-payment__fetching-error"],["title",o,"subtitle",l,"iconSize","xxl","iconModifier","lock","data-role","duplicate-payment__no-access-error"],["loaderSize","md","data-role","duplicate-payment__loading-indicator"]]},template:function(t,_){1&t&&(e.TgZ(0,"bb-collapsible-ui"),e.YNc(1,Yn,3,3,"ng-template",0),e.YNc(2,Vn,3,4,"ng-template",1),e.qZA(),e.YNc(3,Xn,2,0,"ng-template",null,2,e.W1O),e.YNc(5,e_,2,0,"ng-template",null,3,e.W1O),e.YNc(7,t_,1,0,"ng-template",null,4,e.W1O))},directives:[fe.tB,G.w,v.o,n_,ct.s,q.Q,fe.gM,E.mk,V.w,fe.rJ,E.O5],pipes:[E.Ov],encapsulation:2,changeDetection:0}),n})();const a_=[fe.d8,G.n,V.O,q.p,ct.P,v.Q,x.O],i_=[it,nt,te,et,lt,st],o_=[r.Bf$];let l_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,...a_,...i_,...o_]]}),n})();p(1867);var Ue=p(3759),Ne=p(8639),dt=p(3203);const r_=["outlet"],s_=["content"],ut=["alertContainer"];function c_(n,a){if(1&n&&e._UZ(0,"bb-header-ui",9),2&n){const t=e.oxw();e.Q6J("heading",t.header)}}function d_(n,a){1&n&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,14),e.qZA(),e._uU(3,"\xa0 "),e.BQk())}function u_(n,a){if(1&n&&(e.TgZ(0,"bb-alert-ui",12)(1,"div",13),e.YNc(2,d_,4,0,"ng-container",6),e.TgZ(3,"span"),e._uU(4),e.qZA()()()),2&n){const t=e.oxw(2).$implicit,_=e.oxw(2);let i;e.xp6(2),e.Q6J("ngIf",_.isErrorTitleDisplayed),e.xp6(2),e.Oqu(null==(i=t)?null:i.message)}}function m_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,u_,5,2,"bb-alert-ui",11),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.showApiError)}}function E_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,m_,2,1,"ng-container",2),e.BQk()),2&n){const t=a.$implicit;e.oxw(2);const _=e.MAs(5);e.xp6(1),e.Q6J("ngIf",t.message)("ngIfElse",_)}}function p_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,E_,2,2,"ng-container",10),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.errors)}}function S_(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,16),e.qZA())}function A_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,S_,2,0,"span",6),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",!(null!=t.options&&t.options.isTemplateMode))}}function g_(n,a){if(1&n&&(e.TgZ(0,"bb-alert-ui",12)(1,"div",15),e.YNc(2,A_,2,1,"ng-container",6),e.TgZ(3,"span"),e._uU(4),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("ngIf",t.isErrorTitleDisplayed),e.xp6(2),e.Oqu(t.genericError)}}function C_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,g_,5,2,"bb-alert-ui",11),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.showApiError)}}function B_(n,a){if(1&n&&e.YNc(0,C_,2,1,"ng-container",2),2&n){const t=e.oxw(),_=e.MAs(7);e.Q6J("ngIf",t.genericError)("ngIfElse",_)}}function f_(n,a){1&n&&e._UZ(0,"bb-alert-ui",18)}function b_(n,a){if(1&n&&(e.TgZ(0,"div",15),e.YNc(1,f_,1,0,"bb-alert-ui",17),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.showApiError)}}function y_(n,a){1&n&&e._UZ(0,"bb-alert-ui",19)}function M_(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-payment-template-selector",20),e.NdJ("setValues",function(i){return e.CHM(t),e.oxw().onSelectPaymentTemplate(i)})("loadMoreTemplates",function(i){return e.CHM(t),e.oxw().onLoadingMoreTemplates(i)})("searchTemplates",function(i){return e.CHM(t),e.oxw().search(i)})("clear",function(){return e.CHM(t),e.oxw().clearTemplateName()}),e.ALo(2,"async"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("paymentTemplateSearch",t.paymentTemplateSearch)("items",t.paymentTemplates$)("loading",e.lcZ(2,5,t.loadingTemplates$))("templateName",t.templateSelectorName||(null==t.templateNameControl?null:t.templateNameControl.value))("searchValue",t.searchValue)}}function O_(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-payord-form",22),e.NdJ("clear",function(){return e.CHM(t),e.oxw(3).onClear()})("discard",function(){return e.CHM(t),e.oxw(3).discardPayment()})("submitted",function(i){return e.CHM(t),e.oxw(3).onSubmit(i)})("editPaymentCancel",function(i){return e.CHM(t),e.oxw(3).onEditCancel(i)})("editPaymentSubmit",function(i){return e.CHM(t),e.oxw(3).onEditSubmit(i)}),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"bb-confirmation-dialog",23),e.NdJ("confirm",function(){return e.CHM(t),e.oxw(3).discardEditPaymentChanges()})("cancel",function(){return e.CHM(t),e.oxw(3).cancelEditPaymentConfirmationDialog()}),e.TgZ(5,"span",24),e.SDv(6,25),e.qZA(),e.TgZ(7,"span",26),e.SDv(8,27),e.qZA(),e.TgZ(9,"span",28),e.SDv(10,29),e.qZA(),e.TgZ(11,"span",30),e.SDv(12,31),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().ngIf,_=e.oxw(2);e.xp6(1),e.Q6J("config",_.configs[0])("formItem",e.lcZ(2,9,_.getForm(t)))("submitting",e.lcZ(3,11,_.submitting$))("isModalView",_.options.isModalView)("isTemplateMode",_.options.isTemplateMode)("isDebitPayment",_.options.isDebitPayment)("paymentMode",_.options.paymentMode)("templateModeType",_.options.templateModeType),e.xp6(3),e.Q6J("isOpen",_.isEditPaymentConfirmationDialogOpen)}}function I_(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"bb-adaptive-form",32),e.NdJ("selectConfig",function(i){return e.CHM(t),e.oxw(3).onSelectConfig(i)})("discard",function(){return e.CHM(t),e.oxw(3).discardPayment()})("submitted",function(i){return e.CHM(t),e.oxw(3).onSubmit(i)})("selectPaymentOption",function(i){return e.CHM(t),e.oxw(3).onPaymentOptionSelect(i)})("clear",function(){return e.CHM(t),e.oxw(3).onClear()})("applyPaymentTemplate",function(i){return e.CHM(t),e.oxw(3).onApplyTemplate(i)}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e.ALo(5,"async"),e.ALo(6,"async"),e.ALo(7,"async"),e.ALo(8,"async"),e.qZA()}if(2&n){const t=e.oxw().ngIf,_=e.oxw(2);e.Q6J("formItem",e.lcZ(1,16,_.getForm(t)))("paymentState",t)("paymentTypes",_.configs)("baseFields",e.lcZ(2,18,_.baseFields$))("fetchOptions$",_.fetchOptions$)("fetchingOptions",e.lcZ(3,20,_.fetchingPaymentOptions$))("paymentOptions$",_.paymentOptions$)("paymentOptionsError",e.lcZ(4,22,_.paymentOptionsError$))("selectedPaymentConfig",e.lcZ(5,24,_.selectedPaymentConfig$))("selectedPaymentOption",e.lcZ(6,26,_.selectedPaymentOption$))("fetchPaymentOptionsListener",e.lcZ(7,28,_.fetchPaymentOptionsListener$))("shouldApplyTemplate",_.shouldApplyTemplate)("checkClosedPaymentsAccess",!!_.options.checkClosedPaymentsAccess)("submitting",e.lcZ(8,30,_.submitting$))("isModalView",_.options.isModalView)("isDebitPayment",_.options.isDebitPayment)}}function T_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,O_,13,13,"ng-container",2),e.YNc(2,I_,9,32,"ng-template",null,21,e.W1O),e.BQk()),2&n){const t=e.MAs(3),_=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1===_.configs.length)("ngIfElse",t)}}function v_(n,a){if(1&n&&(e.YNc(0,T_,4,2,"ng-container",6),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.paymentState$))}}function h_(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",3),e._uU(2),e.qZA(),e.TgZ(3,"div",4),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",(null==t.data?null:t.data.alias)||(null==t.data?null:t.data.name)," "),e.xp6(2),e.hij(" ",null==t.data?null:t.data.accountNumber," ")}}function P_(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",3),e._uU(2),e.qZA(),e.TgZ(3,"div",4)(4,"span",5),e._uU(5),e.qZA()()()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",(null==t.data?null:t.data.alias)||(null==t.data?null:t.data.name)," "),e.xp6(3),e.hij(" ",null!=t.data&&null!=t.data.creditorBank&&t.data.creditorBank.bankBranchCode?(null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.bankBranchCode)+" / "+t.accountNumber:t.accountNumber," ")}}function D_(n,a){1&n&&(e.TgZ(0,"div",6),e._UZ(1,"bb-icon-ui",7),e._uU(2," \xa0 "),e.TgZ(3,"span"),e.SDv(4,8),e.qZA()())}function R_(n,a){if(1&n&&(e.TgZ(0,"div",9)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(null==t.data?null:t.data.amountOptionLabel)}}function U_(n,a){1&n&&(e.ynx(0),e.SDv(1,13),e.BQk())}function N_(n,a){1&n&&(e.ynx(0),e.SDv(1,14),e.BQk())}function L_(n,a){if(1&n&&(e.TgZ(0,"div",8)(1,"div",9),e._UZ(2,"bb-payord-dynamic-label",10),e.qZA(),e.TgZ(3,"div",11),e.YNc(4,U_,2,0,"ng-container",12),e.YNc(5,N_,2,0,"ng-container",12),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(1),e.Q6J("ngSwitch",null==t.data?null:t.data.accountType),e.xp6(1),e.Q6J("ngSwitchCase","SAVINGS"),e.xp6(1),e.Q6J("ngSwitchCase","CHECKING")}}function x_(n,a){1&n&&(e.ynx(0),e.SDv(1,17),e.BQk())}function K_(n,a){1&n&&(e.ynx(0),e.SDv(1,18),e.BQk())}function F_(n,a){if(1&n&&(e.TgZ(0,"div",8)(1,"div",9),e._UZ(2,"bb-payord-dynamic-label",15),e.qZA(),e.TgZ(3,"div",16),e.YNc(4,x_,2,0,"ng-container",12),e.YNc(5,K_,2,0,"ng-container",12),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(1),e.Q6J("ngSwitch",null==t.data?null:t.data.entryClass),e.xp6(1),e.Q6J("ngSwitchCase","PPD"),e.xp6(1),e.Q6J("ngSwitchCase","CCD")}}function w_(n,a){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,L_,6,4,"div",7),e.YNc(2,F_,6,4,"div",7),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.data?null:t.data.accountType)&&("SAVINGS"===(null==t.data?null:t.data.accountType)||"CHECKING"===(null==t.data?null:t.data.accountType))),e.xp6(1),e.Q6J("ngIf",null==t.data?null:t.data.entryClass)}}function k_(n,a){if(1&n&&(e.TgZ(0,"div",6)(1,"div",8)(2,"div",19),e._UZ(3,"bb-payord-dynamic-label",20),e.qZA(),e.TgZ(4,"div",21),e._uU(5),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.data?null:t.data.recipientId," ")}}function W_(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",9),e.SDv(2,22),e.qZA(),e.TgZ(3,"div",23),e._UZ(4,"bb-full-address",24),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("address",null==t.data?null:t.data.postalAddress)}}function Z_(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e.SDv(4,4),e.qZA(),e.YNc(5,w_,3,2,"div",5),e.YNc(6,k_,6,2,"div",5),e.YNc(7,W_,5,1,"div",0),e.qZA()(),e.BQk()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",(null==t.data?null:t.data.entryClass)||(null==t.data?null:t.data.accountType)),e.xp6(1),e.Q6J("ngIf",null==t.data?null:t.data.recipientId),e.xp6(1),e.Q6J("ngIf",(null==t.data||null==t.data.postalAddress?null:t.data.postalAddress.addressLine1)||(null==t.data||null==t.data.postalAddress?null:t.data.postalAddress.addressLine2)||(null==t.data||null==t.data.postalAddress?null:t.data.postalAddress.streetName))}}function J_(n,a){if(1&n&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.bic," ")}}function $_(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"bb-payord-dynamic-label",12),e.qZA(),e.YNc(3,J_,2,1,"div",13),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(1),e.Q6J("ngIf",null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.bic)}}function H_(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"bb-payord-dynamic-label",15),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.bankName," ")}}function G_(n,a){if(1&n&&(e.TgZ(0,"div",7)(1,"div",8),e.YNc(2,$_,4,2,"div",9),e.YNc(3,H_,5,2,"div",9),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.bic),e.xp6(1),e.Q6J("ngIf",null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.bankName)}}function Q_(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",11),e.SDv(2,17),e.qZA(),e.TgZ(3,"div",16),e._UZ(4,"bb-full-address",18),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("address",null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.postalAddress)}}function Y_(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e.SDv(3,5),e.qZA(),e.YNc(4,G_,4,2,"div",6),e.YNc(5,Q_,5,1,"div",1),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",(null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.bankName)||(null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.bic)),e.xp6(1),e.Q6J("ngIf",(null==t.data||null==t.data.creditorBank||null==t.data.creditorBank.postalAddress?null:t.data.creditorBank.postalAddress.addressLine1)||(null==t.data||null==t.data.creditorBank||null==t.data.creditorBank.postalAddress?null:t.data.creditorBank.postalAddress.addressLine2)||(null==t.data||null==t.data.creditorBank||null==t.data.creditorBank.postalAddress?null:t.data.creditorBank.postalAddress.streetName))}}function q_(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"bb-payord-dynamic-label",20),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bankBranchCode," ")}}function z_(n,a){if(1&n&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bic," ")}}function j_(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"bb-payord-dynamic-label",22),e.qZA(),e.YNc(3,z_,2,1,"div",23),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(1),e.Q6J("ngIf",null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bic)}}function V_(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"bb-payord-dynamic-label",25),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bankName," ")}}function X_(n,a){if(1&n&&(e.TgZ(0,"div",7)(1,"div",8),e.YNc(2,q_,5,2,"div",9),e.YNc(3,j_,4,2,"div",9),e.YNc(4,V_,5,2,"div",9),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bankBranchCode),e.xp6(1),e.Q6J("ngIf",null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bic),e.xp6(1),e.Q6J("ngIf",null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bankName)}}function ea(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",11),e.SDv(2,26),e.qZA(),e.TgZ(3,"div",16),e._UZ(4,"bb-full-address",18),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("address",null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.postalAddress)}}function ta(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e.SDv(3,19),e.qZA(),e.YNc(4,X_,5,3,"div",6),e.YNc(5,ea,5,1,"div",1),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",(null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bankName)||(null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bankBranchCode)||(null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bic)),e.xp6(1),e.Q6J("ngIf",(null==t.data||null==t.data.correspondentBank||null==t.data.correspondentBank.postalAddress?null:t.data.correspondentBank.postalAddress.addressLine1)||(null==t.data||null==t.data.correspondentBank||null==t.data.correspondentBank.postalAddress?null:t.data.correspondentBank.postalAddress.addressLine2)||(null==t.data||null==t.data.correspondentBank||null==t.data.correspondentBank.postalAddress?null:t.data.correspondentBank.postalAddress.streetName))}}function na(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"bb-payord-dynamic-label",29),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bankBranchCode," ")}}function _a(n,a){if(1&n&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bic," ")}}function aa(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"bb-payord-dynamic-label",30),e.qZA(),e.YNc(3,_a,2,1,"div",23),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(1),e.Q6J("ngIf",null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bic)}}function ia(n,a){if(1&n&&(e.TgZ(0,"div",11),e._UZ(1,"bb-payord-dynamic-label",31),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("config",t.paymentConfig)}}function oa(n,a){if(1&n&&(e.TgZ(0,"div",7)(1,"div",8),e.YNc(2,na,5,2,"div",9),e.YNc(3,aa,4,2,"div",9),e.TgZ(4,"div",10),e.YNc(5,ia,2,1,"div",28),e.TgZ(6,"div",16),e._uU(7),e.qZA()()()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bankBranchCode),e.xp6(1),e.Q6J("ngIf",null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bic),e.xp6(2),e.Q6J("ngIf",null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bankName),e.xp6(2),e.hij(" ",null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bankName," ")}}function la(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",11),e.SDv(2,32),e.qZA(),e.TgZ(3,"div",16),e._UZ(4,"bb-full-address",18),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("address",null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.postalAddress)}}function ra(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e.SDv(3,27),e.qZA(),e.YNc(4,oa,8,4,"div",6),e.YNc(5,la,5,1,"div",1),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",(null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bankName)||(null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bankBranchCode)||(null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bic)),e.xp6(1),e.Q6J("ngIf",(null==t.data||null==t.data.intermediaryBank||null==t.data.intermediaryBank.postalAddress?null:t.data.intermediaryBank.postalAddress.addressLine1)||(null==t.data||null==t.data.intermediaryBank||null==t.data.intermediaryBank.postalAddress?null:t.data.intermediaryBank.postalAddress.addressLine2)||(null==t.data||null==t.data.intermediaryBank||null==t.data.intermediaryBank.postalAddress?null:t.data.intermediaryBank.postalAddress.streetName))}}function sa(n,a){1&n&&e._UZ(0,"hr")}function ca(n,a){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"bb-icon-ui",3),e.TgZ(2,"div",4)(3,"div",5),e._UZ(4,"bb-payord-dynamic-label",6),e.qZA(),e.TgZ(5,"div",7),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"div",8)(9,"span",9),e._uU(10),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",e.xi3(7,3,null==t.data?null:t.data.startDate,"mediumDate")," "),e.xp6(4),e.Oqu(null==t.data?null:t.data.scheduleInfo)}}function da(n,a){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"bb-icon-ui",10),e.TgZ(2,"div",4)(3,"div",5),e._UZ(4,"bb-payord-dynamic-label",11),e.qZA(),e.TgZ(5,"div",12),e.SDv(6,13),e.qZA()()()),2&n){const t=a.ngIf,_=e.oxw();e.xp6(4),e.Q6J("config",_.paymentConfig),e.xp6(2),e.pQV(t),e.QtT(6)}}function ua(n,a){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"bb-icon-ui",3),e.TgZ(2,"div",4)(3,"div",14),e._UZ(4,"bb-payord-dynamic-label",15),e.qZA(),e.TgZ(5,"div",16),e._uU(6),e.TgZ(7,"span"),e.SDv(8,17),e.qZA()()()()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.data?null:t.data.repeat," ")}}function ma(n,a){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"bb-icon-ui",3),e.TgZ(2,"div",4)(3,"div",18),e._UZ(4,"bb-payord-dynamic-label",19),e.qZA(),e.TgZ(5,"div",20),e._uU(6),e.ALo(7,"date"),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",e.xi3(7,2,null==t.data?null:t.data.endDate,"mediumDate")," ")}}function Ea(n,a){if(1&n&&(e.ynx(0),e.YNc(1,ua,9,2,"div",0),e.YNc(2,ma,8,5,"div",0),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","after"===(null==t.data?null:t.data.endType)&&(null==t.data?null:t.data.repeat)),e.xp6(1),e.Q6J("ngIf","on"===(null==t.data?null:t.data.endType)&&(null==t.data?null:t.data.endDate))}}function pa(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ea,3,2,"ng-container",1),e.qZA()),2&n){const t=a.ngIf;e.xp6(1),e.Q6J("ngIf","ONCE"!==t)}}function Sa(n,a){1&n&&e.GkF(0)}function Aa(n,a){1&n&&(e.TgZ(0,"div",19),e._UZ(1,"bb-loading-indicator-ui",20),e.qZA())}function ga(n,a){if(1&n&&(e.TgZ(0,"bb-alert-ui",32),e.NdJ("close",function(){return!1}),e.TgZ(1,"span",33),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3);e.Q6J("title",t.errorTitle),e.xp6(2),e.Oqu(t.errorText)}}function Ca(n,a){1&n&&(e.TgZ(0,"div",34)(1,"div",35),e._UZ(2,"bb-icon-ui",36),e.qZA(),e.TgZ(3,"div",37),e.SDv(4,38),e.qZA()())}function Ba(n,a){if(1&n&&(e.TgZ(0,"div",46)(1,"div",47),e._UZ(2,"bb-payord-dynamic-label",48),e.qZA(),e.TgZ(3,"div",49),e._uU(4),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.payment||null==t.payment.remittanceInfo?null:t.payment.remittanceInfo.paymentReference," ")}}function fa(n,a){if(1&n&&(e.TgZ(0,"div",46)(1,"div",50),e._UZ(2,"bb-payord-dynamic-label",51),e.qZA(),e.TgZ(3,"div",52),e._uU(4),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.payment||null==t.payment.counterparty?null:t.payment.counterparty.remittanceInformation," ")}}function ba(n,a){if(1&n&&(e.TgZ(0,"div",46)(1,"div",50),e._UZ(2,"bb-payord-dynamic-label",53),e.qZA(),e.TgZ(3,"div",52),e._uU(4),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",(null==t.payment||null==t.payment.counterparty?null:t.payment.counterparty.messageToBank)||(null==t.payment?null:t.payment.messageToBank)," ")}}function ya(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ba,5,2,"div",39),e.TgZ(2,"div",40),e._UZ(3,"bb-icon-ui",41),e.TgZ(4,"div",42)(5,"div",43),e._UZ(6,"bb-payord-dynamic-label",44),e.qZA(),e.TgZ(7,"div",45),e._uU(8),e.qZA()()(),e.YNc(9,fa,5,2,"div",39),e.YNc(10,ba,5,2,"div",39),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.payment||null==t.payment.remittanceInfo?null:t.payment.remittanceInfo.paymentReference),e.xp6(5),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.payment||null==t.payment.remittanceInfo?null:t.payment.remittanceInfo.description," "),e.xp6(1),e.Q6J("ngIf",null==t.payment?null:t.payment.counterparty.remittanceInformation),e.xp6(1),e.Q6J("ngIf",(null==t.payment?null:t.payment.messageToBank)||(null==t.payment||null==t.payment.counterparty?null:t.payment.counterparty.messageToBank))}}function Ma(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",54),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(2),e.Oqu(t.executionInBankTimezoneMessage)}}function Oa(n,a){if(1&n&&(e.ynx(0),e.YNc(1,ga,3,2,"bb-alert-ui",21),e.YNc(2,Ca,5,0,"div",22),e.TgZ(3,"div",23)(4,"div",24)(5,"div",25),e._UZ(6,"div",26),e.TgZ(7,"div",27),e._UZ(8,"bb-payment-initiator-details",28),e.qZA()()(),e.TgZ(9,"div",24)(10,"div",25),e._UZ(11,"div",29),e.TgZ(12,"div",27),e._UZ(13,"bb-creditor-account",28),e.qZA()()()(),e.TgZ(14,"div",30),e._UZ(15,"bb-payment-remittance-details",31),e.qZA(),e._UZ(16,"bb-payment-creditor-details",28)(17,"bb-payment-counterparty-details",28)(18,"bb-payment-schedule-details",28),e.YNc(19,ya,11,5,"div",11),e.Hsn(20),e.YNc(21,Ma,3,1,"ng-container",11),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.isErrorResponse),e.xp6(1),e.Q6J("ngIf",null==t.payment?null:t.payment.isIntraLegalEntity),e.xp6(6),e.Q6J("data",null==t.payment?null:t.payment.initiator)("paymentConfig",t.paymentConfig),e.xp6(5),e.Q6J("data",null==t.payment?null:t.payment.counterparty)("paymentConfig",t.paymentConfig),e.xp6(2),e.Q6J("data",null==t.payment?null:t.payment.remittanceInfo)("transferFee",null==t.payment?null:t.payment.transferFee)("chargeBearer",null==t.payment?null:t.payment.chargeBearer)("forexDetails",null==t.methods?null:t.methods.getForexDetails(t.payment))("paymentConfig",t.paymentConfig),e.xp6(1),e.Q6J("data",null==t.payment?null:t.payment.counterparty)("paymentConfig",t.paymentConfig),e.xp6(1),e.Q6J("data",null==t.payment?null:t.payment.counterparty)("paymentConfig",t.paymentConfig),e.xp6(1),e.Q6J("data",null==t.payment?null:t.payment.schedule)("paymentConfig",t.paymentConfig),e.xp6(1),e.Q6J("ngIf",(null==t.payment||null==t.payment.remittanceInfo?null:t.payment.remittanceInfo.description)||(null==t.payment||null==t.payment.remittanceInfo?null:t.payment.remittanceInfo.paymentReference)||(null==t.payment||null==t.payment.counterparty?null:t.payment.counterparty.messageToBank)||(null==t.payment||null==t.payment.counterparty?null:t.payment.counterparty.remittanceInformation)),e.xp6(2),e.Q6J("ngIf",!!t.executionInBankTimezoneMessage)}}function Ia(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return null==i.methods?null:i.methods.submit()}),e.SDv(1,56),e.ALo(2,"async"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(2,1,null==t.methods?null:t.methods.isSubmitting$()))}}function Ta(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",62),e.NdJ("bbKeyboardClick",function(){e.CHM(t);const i=e.oxw(3);return null==i.methods?null:i.methods.submit(!0)}),e.SDv(1,63),e.ALo(2,"async"),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",e.lcZ(2,1,null==t.methods?null:t.methods.isSubmitting$()))}}function va(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",57)(1,"bb-load-button-ui",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return null==i.methods?null:i.methods.submit()}),e.SDv(2,59),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"bb-dropdown-menu-ui",60),e.YNc(5,Ta,3,3,"ng-template",61),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("isLoading",e.lcZ(3,1,null==t.methods?null:t.methods.isSubmitting$()))}}function ha(n,a){if(1&n){const t=e.EpF();e.YNc(0,Aa,2,0,"div",7),e.ALo(1,"async"),e.TgZ(2,"fieldset",8)(3,"legend",9),e.SDv(4,10),e.qZA(),e.YNc(5,Oa,22,19,"ng-container",11),e.qZA(),e.TgZ(6,"div",12),e.YNc(7,Ia,3,3,"button",13),e.YNc(8,va,6,3,"div",14),e.TgZ(9,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return null==i.methods?null:i.methods.edit()}),e.SDv(10,16),e.ALo(11,"async"),e.qZA(),e.TgZ(12,"button",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return null==i.methods?null:i.methods.toggleDiscardDialog()}),e.SDv(13,18),e.ALo(14,"async"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,6,t.isLoading$)),e.xp6(5),e.Q6J("ngIf",t.payment),e.xp6(2),e.Q6J("ngIf",!(null!=t.methods&&t.methods.isApprovalEnabled())),e.xp6(1),e.Q6J("ngIf",null==t.methods?null:t.methods.isApprovalEnabled()),e.xp6(1),e.Q6J("disabled",e.lcZ(11,8,null==t.methods?null:t.methods.isSubmitting$())),e.xp6(3),e.Q6J("disabled",e.lcZ(14,10,null==t.methods?null:t.methods.isSubmitting$()))}}function Pa(n,a){if(1&n&&(e.TgZ(0,"span",54),e.SDv(1,75),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.pQV(null==t.payment||null==t.payment.remittanceInfo?null:t.payment.remittanceInfo.amountGroup.currency)(null==t.payment||null==t.payment.remittanceInfo?null:t.payment.remittanceInfo.amountGroup.amount)(null==t.payment?null:t.payment.counterparty.name),e.QtT(1)}}function Da(n,a){if(1&n&&(e.TgZ(0,"span",54),e.SDv(1,76),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.pQV(null==t.payment?null:t.payment.counterparty.name),e.QtT(1)}}function Ra(n,a){if(1&n&&(e.TgZ(0,"div",73),e.YNc(1,Pa,2,3,"span",74),e.YNc(2,Da,2,1,"span",74),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.isScheduledTransfer),e.xp6(1),e.Q6J("ngIf",t.isScheduledTransfer)}}function Ua(n,a){if(1&n&&(e.TgZ(0,"span",77),e.SDv(1,78),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.pQV(null==t.payment?null:t.payment.counterparty.name),e.QtT(1)}}function Na(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-icon-ui",84),e.TgZ(2,"span"),e.SDv(3,85),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(3),e.pQV(null==t.payment||null==t.payment.counterparty?null:t.payment.counterparty.name),e.QtT(3)}}function La(n,a){if(1&n&&(e._UZ(0,"bb-icon-ui",86),e.TgZ(1,"span"),e.SDv(2,87),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.pQV(null==t.payment||null==t.payment.counterparty?null:t.payment.counterparty.name),e.QtT(2)}}function xa(n,a){if(1&n&&(e.TgZ(0,"div",79)(1,"div",80)(2,"div",81),e.YNc(3,Na,4,1,"ng-container",82),e.ALo(4,"async"),e.YNc(5,La,3,1,"ng-template",null,83,e.W1O),e.qZA()()()),2&n){const t=e.MAs(6),_=e.oxw(2);let i;e.xp6(3),e.Q6J("ngIf",!(null==(i=e.lcZ(4,2,null==_.methods?null:_.methods.getSaveContactResponse$))||!i.id))("ngIfElse",t)}}function Ka(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",88),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return null==i.methods?null:i.methods.reset()}),e.SDv(1,89),e.qZA()}}function Fa(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",88),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return null==i.methods?null:i.methods.navigateToAfterSuccessPage()}),e.SDv(1,90),e.qZA()}}function wa(n,a){if(1&n&&(e.TgZ(0,"div",64)(1,"picture"),e._UZ(2,"source",65)(3,"img",66),e.qZA(),e._UZ(4,"div")(5,"bb-header-ui",67),e.YNc(6,Ra,3,2,"div",68),e.YNc(7,Ua,2,1,"ng-template",null,69,e.W1O),e.qZA(),e.YNc(9,xa,7,4,"div",70),e.TgZ(10,"div",71)(11,"div",46),e.YNc(12,Ka,2,0,"button",72),e.YNc(13,Fa,2,0,"button",72),e.qZA()()),2&n){const t=e.MAs(8),_=e.oxw();e.xp6(2),e.s9C("srcset",_.successImgNoMotion,e.LSH),e.xp6(1),e.s9C("srcset",_.successImg+"?"+_.timestamp,e.LSH),e.xp6(3),e.Q6J("ngIf",!(null!=_.payment&&_.payment.paymentOrderId))("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",null==_.payment||null==_.payment.counterparty?null:_.payment.counterparty.saveNewContact),e.xp6(3),e.Q6J("ngIf",!(null!=_.payment&&_.payment.paymentOrderId)),e.xp6(1),e.Q6J("ngIf",null==_.payment?null:_.payment.paymentOrderId)}}function ka(n,a){1&n&&(e.ynx(0),e.SDv(1,91),e.BQk())}function Wa(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",92)(1,"button",93),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return null==i.methods?null:i.methods.reset()}),e.SDv(2,94),e.qZA(),e.TgZ(3,"button",95),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return null==i.methods?null:i.methods.toggleDiscardDialog()}),e.SDv(4,96),e.qZA()()}}const Za=["*"];function Ja(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.message)}}function $a(n,a){if(1&n&&(e.ynx(0),e.SDv(1,6),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.pQV(t.status),e.QtT(1)}}function Ha(n,a){if(1&n&&(e.ynx(0),e.SDv(1,7),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.pQV(t.status),e.QtT(1)}}function Ga(n,a){if(1&n&&(e.YNc(0,$a,2,1,"ng-container",3),e.YNc(1,Ha,2,1,"ng-template",null,5,e.W1O)),2&n){const t=e.MAs(2),_=e.oxw();e.Q6J("ngIf",_.isDebitPayment)("ngIfElse",t)}}function Qa(n,a){1&n&&(e.ynx(0),e.SDv(1,17),e.BQk())}function Ya(n,a){1&n&&(e.ynx(0),e.SDv(1,18),e.BQk())}function qa(n,a){if(1&n&&(e.TgZ(0,"div",12)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",14),e.qZA(),e.TgZ(3,"div",15),e.YNc(4,Qa,2,0,"ng-container",16),e.YNc(5,Ya,2,0,"ng-container",16),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(1),e.Q6J("ngSwitch",null==t.details?null:t.details.accountType),e.xp6(1),e.Q6J("ngSwitchCase","SAVINGS"),e.xp6(1),e.Q6J("ngSwitchCase","CHECKING")}}function za(n,a){1&n&&(e.ynx(0),e.SDv(1,21),e.BQk())}function ja(n,a){1&n&&(e.ynx(0),e.SDv(1,22),e.BQk())}function Va(n,a){if(1&n&&(e.TgZ(0,"div",12)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",19),e.qZA(),e.TgZ(3,"div",20),e.YNc(4,za,2,0,"ng-container",16),e.YNc(5,ja,2,0,"ng-container",16),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(1),e.Q6J("ngSwitch",null==t.details?null:t.details.entryClass),e.xp6(1),e.Q6J("ngSwitchCase","PPD"),e.xp6(1),e.Q6J("ngSwitchCase","CCD")}}function Xa(n,a){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,qa,6,4,"div",11),e.YNc(2,Va,6,4,"div",11),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.details?null:t.details.accountType)&&("SAVINGS"===(null==t.details?null:t.details.accountType)||"CHECKING"===(null==t.details?null:t.details.accountType))),e.xp6(1),e.Q6J("ngIf",null==t.details?null:t.details.entryClass)}}const be=function(n){return{"bb-block bb-block--md":n}};function ei(n,a){if(1&n&&(e.TgZ(0,"div",23)(1,"div",12)(2,"div",24),e._UZ(3,"bb-payord-dynamic-label",25),e.qZA(),e.TgZ(4,"div",26),e._uU(5),e.qZA()()()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(3,be,t.hasPostalAddress(null==t.details?null:t.details.postalAddress))),e.xp6(3),e.Q6J("config",t.config),e.xp6(2),e.hij(" ",null==t.details?null:t.details.recipientId," ")}}function ti(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",13),e._uU(2),e.qZA(),e.TgZ(3,"div",27),e._UZ(4,"bb-full-address",28),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",null==t.beneficiaryDetailsTitles?null:t.beneficiaryDetailsTitles.addressTitle," "),e.xp6(2),e.Q6J("address",null==t.details?null:t.details.postalAddress)}}function ni(n,a){if(1&n&&(e.TgZ(0,"div",4)(1,"div",5)(2,"div",6),e._uU(3),e.qZA(),e.YNc(4,Xa,3,2,"div",7),e.YNc(5,ei,6,5,"div",8),e.YNc(6,ti,5,2,"div",9),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.hij(" ",null==t.beneficiaryDetailsTitles?null:t.beneficiaryDetailsTitles.beneficiaryTitle," "),e.xp6(1),e.Q6J("ngIf",(null==t.details?null:t.details.entryClass)||(null==t.details?null:t.details.accountType)),e.xp6(1),e.Q6J("ngIf",null==t.details?null:t.details.recipientId),e.xp6(1),e.Q6J("ngIf",t.hasPostalAddress(null==t.details?null:t.details.postalAddress))}}function _i(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",36),e.qZA(),e.TgZ(3,"div",37),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.ekj("col-12",!(null!=t.details&&null!=t.details.creditorBank&&t.details.creditorBank.bic)),e.xp6(2),e.Q6J("config",t.config),e.xp6(2),e.hij(" ",null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.bankName," ")}}function ai(n,a){if(1&n&&(e.TgZ(0,"div",40),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.bic," ")}}function ii(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",38),e.qZA(),e.YNc(3,ai,2,1,"div",39),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(1),e.Q6J("ngIf",null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.bic)}}function oi(n,a){if(1&n&&(e.TgZ(0,"div",31)(1,"div",32),e.YNc(2,_i,5,4,"div",33),e.YNc(3,ii,4,2,"div",34),e.qZA()()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(3,be,t.hasPostalAddress(null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.postalAddress))),e.xp6(2),e.Q6J("ngIf",null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.bankName),e.xp6(1),e.Q6J("ngIf",null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.bic)}}function li(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",13),e.SDv(2,41),e.qZA(),e.TgZ(3,"div",42),e._UZ(4,"bb-full-address",28),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("address",null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.postalAddress)}}function ri(n,a){if(1&n&&(e.TgZ(0,"div",29)(1,"div",5)(2,"div",6),e._uU(3),e.qZA(),e.YNc(4,oi,4,5,"div",30),e.YNc(5,li,5,1,"div",9),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.hij(" ",null==t.beneficiaryDetailsTitles?null:t.beneficiaryDetailsTitles.bankTitle," "),e.xp6(1),e.Q6J("ngIf",(null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.bankName)||(null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.bic)),e.xp6(1),e.Q6J("ngIf",t.hasPostalAddress(null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.postalAddress))}}function si(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",45),e.qZA(),e.TgZ(3,"div",46),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(2),e.hij(" ",null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bankName," ")}}function ci(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",47),e.qZA(),e.TgZ(3,"div",48),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(2),e.hij(" ",null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bankBranchCode," ")}}function di(n,a){if(1&n&&(e.TgZ(0,"div",51),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bic," ")}}function ui(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",49),e.qZA(),e.YNc(3,di,2,1,"div",50),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(1),e.Q6J("ngIf",null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bic)}}function mi(n,a){if(1&n&&(e.TgZ(0,"div",31)(1,"div",32),e.YNc(2,si,5,2,"div",34),e.YNc(3,ci,5,2,"div",34),e.YNc(4,ui,4,2,"div",34),e.qZA()()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,be,t.hasPostalAddress(null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.postalAddress))),e.xp6(2),e.Q6J("ngIf",null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bankName),e.xp6(1),e.Q6J("ngIf",null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bankBranchCode),e.xp6(1),e.Q6J("ngIf",null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bic)}}function Ei(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",13),e.SDv(2,52),e.qZA(),e.TgZ(3,"div",53),e._UZ(4,"bb-full-address",28),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("address",null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.postalAddress)}}function pi(n,a){if(1&n&&(e.TgZ(0,"div",43)(1,"div",5)(2,"div",6),e.SDv(3,44),e.qZA(),e.YNc(4,mi,5,6,"div",30),e.YNc(5,Ei,5,1,"div",9),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",(null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bankName)||(null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bankBranchCode)||(null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bic)),e.xp6(1),e.Q6J("ngIf",t.hasPostalAddress(null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.postalAddress))}}function Si(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",56),e.qZA(),e.TgZ(3,"div",57),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(2),e.hij(" ",null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bankName," ")}}function Ai(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",58),e.qZA(),e.TgZ(3,"div",59),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(2),e.hij(" ",null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bankBranchCode," ")}}function gi(n,a){if(1&n&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bic," ")}}function Ci(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",60),e.qZA(),e.YNc(3,gi,2,1,"div",61),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(1),e.Q6J("ngIf",null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bic)}}function Bi(n,a){if(1&n&&(e.TgZ(0,"div",31)(1,"div",32),e.YNc(2,Si,5,2,"div",34),e.YNc(3,Ai,5,2,"div",34),e.YNc(4,Ci,4,2,"div",34),e.qZA()()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,be,t.hasPostalAddress(null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.postalAddress))),e.xp6(2),e.Q6J("ngIf",null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bankName),e.xp6(1),e.Q6J("ngIf",null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bankBranchCode),e.xp6(1),e.Q6J("ngIf",null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bic)}}function fi(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",13),e.SDv(2,63),e.qZA(),e.TgZ(3,"div",64),e._UZ(4,"bb-full-address",28),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("address",null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.postalAddress)}}function bi(n,a){if(1&n&&(e.TgZ(0,"div",54)(1,"div",5)(2,"div",6),e.SDv(3,55),e.qZA(),e.YNc(4,Bi,5,6,"div",30),e.YNc(5,fi,5,1,"div",9),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",(null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bankName)||(null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bankBranchCode)||(null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bic)),e.xp6(1),e.Q6J("ngIf",t.hasPostalAddress(null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.postalAddress))}}function yi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"header",5),e._UZ(1,"bb-icon-ui",6),e.TgZ(2,"span",7),e._uU(3," Limits breach "),e.qZA(),e.TgZ(4,"div",8)(5,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().print()}),e.TgZ(6,"span",10),e._uU(7," Print breach limit report "),e.qZA(),e._UZ(8,"bb-icon-ui",11),e.qZA(),e.TgZ(9,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClose()}),e.TgZ(10,"span",12),e._uU(11," Close breach limit report dialog "),e.qZA(),e._UZ(12,"bb-icon-ui",13),e.qZA()()()}}function Mi(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("(",t.breachReportCurrency,")")}}function Oi(n,a){1&n&&(e.TgZ(0,"span",36),e.SDv(1,37),e.qZA())}function Ii(n,a){if(1&n&&(e.ynx(0),e.SDv(1,41),e.ALo(2,"date"),e.BQk()),2&n){const t=e.oxw(3).$implicit;e.xp6(2),e.pQV(e.xi3(2,1,t.timeframe.endTime,"mediumDate")),e.QtT(1)}}function Ti(n,a){if(1&n&&(e.ynx(0),e.SDv(1,42),e.ALo(2,"date"),e.BQk()),2&n){const t=e.oxw(3).$implicit;e.xp6(2),e.pQV(e.xi3(2,1,t.timeframe.endTime,"mediumDate")),e.QtT(1)}}function vi(n,a){if(1&n&&(e.ynx(0),e.SDv(1,43),e.ALo(2,"date"),e.ALo(3,"date"),e.BQk()),2&n){const t=e.oxw(3).$implicit;e.xp6(3),e.pQV(e.xi3(2,2,t.timeframe.startTime,"mediumDate"))(e.xi3(3,5,t.timeframe.endTime,"mediumDate")),e.QtT(1)}}function hi(n,a){if(1&n&&(e.ynx(0),e.SDv(1,44),e.ALo(2,"date"),e.ALo(3,"date"),e.BQk()),2&n){const t=e.oxw(3).$implicit;e.xp6(3),e.pQV(e.xi3(2,2,t.timeframe.startTime,"mediumDate"))(e.xi3(3,5,t.timeframe.endTime,"mediumDate")),e.QtT(1)}}function Pi(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",39),e.YNc(2,Ii,3,4,"ng-container",40),e.YNc(3,Ti,3,4,"ng-container",40),e.YNc(4,vi,4,8,"ng-container",40),e.YNc(5,hi,4,8,"ng-container",40),e.qZA(),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngSwitch",t.timeframe.period),e.xp6(1),e.Q6J("ngSwitchCase","WEEKLY"),e.xp6(1),e.Q6J("ngSwitchCase","MONTHLY"),e.xp6(1),e.Q6J("ngSwitchCase","QUARTERLY"),e.xp6(1),e.Q6J("ngSwitchCase","YEARLY")}}function Di(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"span",36),e.SDv(2,38),e.ALo(3,"titlecase"),e.qZA(),e.YNc(4,Pi,6,5,"ng-container",22),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.pQV(t.timeframe.period)(e.lcZ(3,3,t.timeframe.period)),e.QtT(2),e.xp6(1),e.Q6J("ngIf","DAILY"!==t.timeframe.period)}}function Ri(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.hij("(",t.breachReportCurrency,")")}}function Ui(n,a){1&n&&(e.ynx(0),e._uU(1," \u2014 "),e.BQk())}function Ni(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-amount-ui",33),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("amount",t.currentConsumption)}}function Li(n,a){if(1&n&&(e.TgZ(0,"tr",27)(1,"td",28),e.YNc(2,Oi,2,0,"span",29),e.YNc(3,Di,5,5,"ng-container",22),e.qZA(),e.TgZ(4,"td",30)(5,"span",31),e.ynx(6),e.SDv(7,32),e.BQk(),e.YNc(8,Ri,2,1,"ng-container",22),e._uU(9,"\xa0 "),e.qZA(),e._UZ(10,"bb-amount-ui",33),e.qZA(),e.TgZ(11,"td",34)(12,"span",31),e.SDv(13,35),e.qZA(),e.YNc(14,Ui,2,0,"ng-container",22),e.YNc(15,Ni,2,1,"ng-container",22),e.qZA()()),2&n){const t=a.$implicit,_=e.oxw(2);e.xp6(2),e.Q6J("ngIf","TRANSACTIONAL"===t.breachedLimitType),e.xp6(1),e.Q6J("ngIf","TRANSACTIONAL"!==t.breachedLimitType),e.xp6(5),e.Q6J("ngIf",_.breachReportCurrency),e.xp6(2),e.Q6J("amount",t.currentThreshold),e.xp6(4),e.Q6J("ngIf","TRANSACTIONAL"===t.breachedLimitType),e.xp6(1),e.Q6J("ngIf","TRANSACTIONAL"!==t.breachedLimitType)}}function xi(n,a){if(1&n&&(e.TgZ(0,"div",45)(1,"div",46)(2,"div",47)(3,"div",48)(4,"div",49),e.SDv(5,50),e.qZA(),e.TgZ(6,"div")(7,"div",51),e._uU(8),e.qZA(),e.TgZ(9,"div",52),e._uU(10),e.qZA()()(),e.TgZ(11,"div",48)(12,"div",49),e.SDv(13,53),e.qZA(),e.TgZ(14,"div")(15,"div",54),e._uU(16),e.qZA(),e.TgZ(17,"div",55),e._uU(18),e.qZA()()(),e.TgZ(19,"div",48)(20,"div",49),e.SDv(21,56),e.qZA(),e.TgZ(22,"div"),e._uU(23),e.ALo(24,"date"),e.qZA()(),e.TgZ(25,"div",57)(26,"div",49),e.SDv(27,58),e.qZA(),e.TgZ(28,"div",36),e._UZ(29,"bb-amount-ui",59),e.qZA()()()()()),2&n){const t=e.oxw(2);e.xp6(8),e.hij(" ",(null==t.paymentDetails.initiator?null:t.paymentDetails.initiator.alias)||(null==t.paymentDetails.initiator?null:t.paymentDetails.initiator.name)," "),e.xp6(2),e.hij(" ",(null==t.paymentDetails.initiator?null:t.paymentDetails.initiator.accountNumber)||(null==t.paymentDetails.initiator?null:t.paymentDetails.initiator.IBAN)," "),e.xp6(6),e.hij(" ",(null==t.paymentDetails.counterparty?null:t.paymentDetails.counterparty.alias)||(null==t.paymentDetails.counterparty?null:t.paymentDetails.counterparty.name)," "),e.xp6(2),e.hij(" ",(null==t.paymentDetails.counterparty?null:t.paymentDetails.counterparty.accountNumber)||(null==t.paymentDetails.counterparty?null:t.paymentDetails.counterparty.IBAN)," "),e.xp6(5),e.hij(" ",e.xi3(24,8,null==t.paymentDetails.schedule?null:t.paymentDetails.schedule.startDate,"mediumDate")," "),e.xp6(6),e.Q6J("amount",t.paymentDetails.remittanceInfo.amountGroup.amount)("currency",t.paymentDetails.remittanceInfo.amountGroup.currency)("mapCurrency",!1)}}function Ki(n,a){if(1&n&&(e.TgZ(0,"div",14),e.SDv(1,15),e.qZA(),e.TgZ(2,"div",16)(3,"table",17)(4,"thead",18)(5,"tr"),e._UZ(6,"th",19),e.TgZ(7,"th",20),e.ynx(8),e.SDv(9,21),e.BQk(),e.YNc(10,Mi,2,1,"ng-container",22),e.qZA(),e.TgZ(11,"th",23),e.SDv(12,24),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,Li,16,6,"tr",25),e.qZA()()(),e.YNc(15,xi,30,11,"div",26)),2&n){const t=e.oxw();e.xp6(10),e.Q6J("ngIf",t.breachReportCurrency),e.xp6(4),e.Q6J("ngForOf",t.sortedBreaches),e.xp6(1),e.Q6J("ngIf",t.paymentDetails)}}function Fi(n,a){1&n&&(e.TgZ(0,"div",4),e._UZ(1,"bb-icon-ui",5)(2,"bb-header-ui",6),e.qZA()),2&n&&(e.xp6(2),e.uIk("data-role","payment-template-header"))}function wi(n,a){1&n&&(e.TgZ(0,"span",21),e.SDv(1,22),e.qZA())}function ki(n,a){if(1&n&&(e.ynx(0),e.YNc(1,wi,2,0,"span",20),e.BQk()),2&n){const t=a.ngIf,_=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.errors&&t.errors.required&&_.isSubmitted)}}function Wi(n,a){if(1&n&&(e.TgZ(0,"div",7),e.SDv(1,8),e.qZA(),e.TgZ(2,"form",9)(3,"label",10)(4,"span",11),e.SDv(5,12),e.qZA()(),e.TgZ(6,"span",13),e.SDv(7,14),e.qZA(),e.TgZ(8,"div",15),e._UZ(9,"bb-input-text-ui",16,17),e.TgZ(11,"bb-input-validation-message-ui",18),e.YNc(12,ki,2,1,"ng-container",19),e.qZA()()()),2&n){const t=e.MAs(10),_=e.oxw();let i;e.xp6(2),e.Q6J("formGroup",_.paymentTemplateForm),e.xp6(1),e.Q6J("for",t.id),e.xp6(6),e.Q6J("aria-labelledby","name")("maxLength",50)("showCharCounter",!0),e.xp6(2),e.Q6J("showErrors",!(null==_.paymentTemplateForm||null==(i=_.paymentTemplateForm.get("templateName"))||!i.invalid)),e.xp6(1),e.Q6J("ngIf",null==_.paymentTemplateForm?null:_.paymentTemplateForm.get("templateName"))}}function Zi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"bb-load-button-ui",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSubmit()}),e.ynx(2),e.SDv(3,25),e.BQk(),e.qZA(),e.TgZ(4,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClose()}),e.ynx(5),e.SDv(6,27),e.BQk(),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("isLoading",t.isSavingTemplate)}}function Ji(n,a){1&n&&e.GkF(0)}function $i(n,a){if(1&n&&e.GkF(0,7),2&n){const t=e.oxw(),i=t.additionalDetailsContext;e.Q6J("componentType",t.additionsDetails)("context",i)}}function Hi(n,a){if(1&n&&(e.TgZ(0,"bb-adapted-review-container",5),e.YNc(1,$i,1,2,"ng-container",6),e.qZA()),2&n){const t=a.$implicit,_=a.paymentConfig,i=a.status,o=a.methods,l=a.additionsDetails,s=e.oxw();e.Q6J("payment",t)("paymentConfig",_)("status",i)("methods",o)("breachError",s.breachError)("executionInBankTimezoneMessage",s.getExecutionInBankTimezoneMessage()),e.xp6(1),e.Q6J("ngIf",l)}}function Gi(n,a){if(1&n&&e._UZ(0,"bb-header-ui",25),2&n){const t=e.oxw(2);e.Q6J("heading",t.header)}}function Qi(n,a){if(1&n&&e._UZ(0,"bb-duplicate-payment-warning",28),2&n){const t=e.oxw().ngIf,_=e.oxw().paymentConfig,i=e.oxw();e.Q6J("paymentId",null==t[0]||null==t[0].context?null:t[0].context.paymentId)("paymentConfig",_)("isDebitPayment",i.widgetOptions.isDebitPayment)}}function Yi(n,a){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,Qi,1,3,"bb-duplicate-payment-warning",27),e.qZA()),2&n){const t=a.ngIf,_=e.oxw().status;e.xp6(1),e.Q6J("ngIf",0!==t.length&&"SUCCESS"!==_)}}function qi(n,a){if(1&n&&e._UZ(0,"bb-status-card",50),2&n){const t=e.oxw(3).methods,_=e.oxw();e.Q6J("status",t.getPaymentStatusType())("isDebitPayment",_.widgetOptions.isDebitPayment)}}function zi(n,a){1&n&&(e.ynx(0),e.SDv(1,56),e.BQk())}function ji(n,a){1&n&&(e.ynx(0),e.SDv(1,57),e.BQk())}function Vi(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e.YNc(2,zi,2,0,"ng-container",12),e.YNc(3,ji,2,0,"ng-container",12),e.qZA(),e._uU(4,"\xa0 "),e.BQk()),2&n){const t=e.oxw(8);e.xp6(2),e.Q6J("ngIf",!t.widgetOptions.isDebitPayment),e.xp6(1),e.Q6J("ngIf",t.widgetOptions.isDebitPayment)}}function Xi(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"bb-alert-ui",54),e.NdJ("close",function(){return!1}),e.TgZ(2,"div",55),e.YNc(3,Vi,5,2,"ng-container",12),e.TgZ(4,"span"),e._uU(5),e.qZA()()(),e.BQk()),2&n){const t=e.oxw().$implicit,_=e.oxw(6);let i;e.xp6(3),e.Q6J("ngIf",_.isErrorTitleDisplayed),e.xp6(2),e.Oqu(null==(i=t)?null:i.message)}}function eo(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Xi,6,2,"ng-container",13),e.BQk()),2&n){const t=a.$implicit;e.oxw(2);const _=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.message)("ngIfElse",_)}}function to(n,a){if(1&n&&(e.ynx(0),e.YNc(1,eo,2,2,"ng-container",53),e.BQk()),2&n){const t=e.oxw(5);e.xp6(1),e.Q6J("ngForOf",t.errors)}}function no(n,a){1&n&&(e.ynx(0),e.SDv(1,60),e.BQk())}function _o(n,a){1&n&&(e.ynx(0),e.SDv(1,61),e.BQk())}function ao(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e.YNc(2,no,2,0,"ng-container",12),e.YNc(3,_o,2,0,"ng-container",12),e.qZA(),e.BQk()),2&n){const t=e.oxw(7);e.xp6(2),e.Q6J("ngIf",!t.widgetOptions.isDebitPayment),e.xp6(1),e.Q6J("ngIf",t.widgetOptions.isDebitPayment)}}function io(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"bb-alert-ui",58)(2,"div",59),e.YNc(3,ao,4,2,"ng-container",12),e.TgZ(4,"span"),e._uU(5),e.qZA()()(),e.BQk()),2&n){const t=e.oxw(6);e.xp6(3),e.Q6J("ngIf",t.isErrorTitleDisplayed),e.xp6(2),e.Oqu(t.genericError)}}function oo(n,a){if(1&n&&e.YNc(0,io,6,2,"ng-container",13),2&n){e.oxw();const t=e.MAs(5),_=e.oxw(4);e.Q6J("ngIf",_.genericError)("ngIfElse",t)}}function lo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",67)(1,"div",68),e.SDv(2,69),e.qZA(),e.TgZ(3,"button",70),e.NdJ("click",function(){return e.CHM(t),e.oxw(5).methods.showBreachModal()}),e.SDv(4,71),e.qZA()()}}function ro(n,a){1&n&&(e.TgZ(0,"div",72)(1,"div",73),e.SDv(2,74),e.qZA(),e.TgZ(3,"div",75),e.SDv(4,76),e.qZA()())}function so(n,a){1&n&&(e.TgZ(0,"div",72)(1,"div",73),e.SDv(2,77),e.qZA(),e.TgZ(3,"div",75),e.SDv(4,78),e.qZA()())}function co(n,a){1&n&&(e.TgZ(0,"div")(1,"div",73),e.SDv(2,79),e.qZA()())}function uo(n,a){1&n&&(e.ynx(0),e.TgZ(1,"div",73),e.SDv(2,80),e.qZA(),e.BQk())}function mo(n,a){if(1&n&&(e.TgZ(0,"bb-alert-ui",62),e.NdJ("close",function(){return!1}),e.YNc(1,lo,5,0,"div",63),e.YNc(2,ro,5,0,"div",64),e.YNc(3,so,5,0,"div",64),e.YNc(4,co,3,0,"div",65),e.YNc(5,uo,3,0,"ng-container",66),e.qZA()),2&n){const t=e.oxw(4).status;e.Q6J("ngSwitch",t),e.xp6(1),e.Q6J("ngSwitchCase","LIMIT_BREACH"),e.xp6(1),e.Q6J("ngSwitchCase","USER_DECLINED"),e.xp6(1),e.Q6J("ngSwitchCase","COED"),e.xp6(1),e.Q6J("ngSwitchCase","REJECTED")}}function Eo(n,a){if(1&n&&(e.ynx(0),e.YNc(1,to,2,1,"ng-container",13),e.YNc(2,oo,1,2,"ng-template",null,51,e.W1O),e.YNc(4,mo,6,5,"ng-template",null,52,e.W1O),e.BQk()),2&n){const t=e.MAs(3),_=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==_.errors?null:_.errors.length)("ngIfElse",t)}}function po(n,a){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,qi,1,2,"bb-status-card",49),e.YNc(2,Eo,6,2,"ng-container",12),e.qZA()),2&n){const t=e.oxw(2).status;e.xp6(1),e.Q6J("ngIf","SUCCESS"===t),e.xp6(1),e.Q6J("ngIf",!!t&&"SUCCESS"!==t)}}function So(n,a){1&n&&(e.TgZ(0,"div",83),e._UZ(1,"bb-icon-ui",84)(2,"div",85),e.TgZ(3,"div",86),e.SDv(4,87),e.qZA()())}function Ao(n,a){1&n&&(e.TgZ(0,"div",83),e._UZ(1,"bb-icon-ui",88)(2,"div",85),e.TgZ(3,"div",89),e.SDv(4,90),e.qZA()())}function go(n,a){if(1&n&&(e.TgZ(0,"div",81),e.YNc(1,So,5,0,"div",82),e.YNc(2,Ao,5,0,"div",82),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",null==t?null:t.isIntraLegalEntity),e.xp6(1),e.Q6J("ngIf",null==t||null==t.remittanceInfo?null:t.remittanceInfo.urgent)}}function Co(n,a){1&n&&e.GkF(0)}function Bo(n,a){1&n&&e.GkF(0)}function fo(n,a){1&n&&e.GkF(0)}function bo(n,a){1&n&&e.GkF(0)}function yo(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payord-dynamic-label",91),e.BQk()),2&n){const t=e.oxw(3).paymentConfig;e.xp6(1),e.Q6J("config",t)}}function Mo(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payord-dynamic-label",92),e.BQk()),2&n){const t=e.oxw(3).paymentConfig;e.xp6(1),e.Q6J("config",t)}}function Oo(n,a){if(1&n&&(e.YNc(0,yo,2,1,"ng-container",12),e.YNc(1,Mo,2,1,"ng-container",12)),2&n){const t=e.oxw(3);e.Q6J("ngIf",t.widgetOptions.isDebitPayment),e.xp6(1),e.Q6J("ngIf",!t.widgetOptions.isDebitPayment)}}function Io(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payord-dynamic-label",93),e.BQk()),2&n){const t=e.oxw(3).paymentConfig;e.xp6(1),e.Q6J("config",t)}}function To(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payord-dynamic-label",94),e.BQk()),2&n){const t=e.oxw(3).paymentConfig;e.xp6(1),e.Q6J("config",t)}}function vo(n,a){if(1&n&&(e.YNc(0,Io,2,1,"ng-container",12),e.YNc(1,To,2,1,"ng-container",12)),2&n){const t=e.oxw(3);e.Q6J("ngIf",t.widgetOptions.isDebitPayment),e.xp6(1),e.Q6J("ngIf",!t.widgetOptions.isDebitPayment)}}function ho(n,a){if(1&n&&(e.TgZ(0,"div",48)(1,"div",96),e._UZ(2,"bb-payord-dynamic-label",97),e.qZA(),e.TgZ(3,"div",98),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3),_=t.paymentConfig,i=t.$implicit;e.xp6(2),e.Q6J("config",_),e.xp6(2),e.hij(" ",null==i||null==i.counterparty?null:i.counterparty.mandateIdentifier," ")}}function Po(n,a){if(1&n&&(e.TgZ(0,"div",48)(1,"div",99),e._UZ(2,"bb-payord-dynamic-label",100),e.qZA(),e.TgZ(3,"div",101),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3),_=t.paymentConfig,i=t.$implicit;e.xp6(2),e.Q6J("config",_),e.xp6(2),e.hij(" ",null==i||null==i.remittanceInfo?null:i.remittanceInfo.paymentReference," ")}}function Do(n,a){if(1&n&&(e.TgZ(0,"div",48)(1,"div",102),e._UZ(2,"bb-payord-dynamic-label",103),e.qZA(),e.TgZ(3,"div",104),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3),_=t.paymentConfig,i=t.$implicit;e.xp6(2),e.Q6J("config",_),e.xp6(2),e.hij(" ",null==i||null==i.remittanceInfo?null:i.remittanceInfo.description," ")}}function Ro(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",109),2&n){const t=e.oxw(4).paymentConfig;e.Q6J("config",t)}}function Uo(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",110),2&n){const t=e.oxw(4).paymentConfig;e.Q6J("config",t)}}function No(n,a){if(1&n&&(e.TgZ(0,"div",48)(1,"div",105),e.YNc(2,Ro,1,1,"bb-payord-dynamic-label",106),e.YNc(3,Uo,1,1,"ng-template",null,107,e.W1O),e.qZA(),e.TgZ(5,"div",108),e._uU(6),e.qZA()()),2&n){const t=e.MAs(4),_=e.oxw(3).$implicit;e.xp6(2),e.Q6J("ngIf",_.isDebitPayment)("ngIfElse",t),e.xp6(4),e.hij(" ",null==_||null==_.counterparty?null:_.counterparty.remittanceInformation," ")}}function Lo(n,a){if(1&n&&e._UZ(0,"bb-purpose-of-payment",111),2&n){const t=e.oxw(3),i=t.$implicit;e.Q6J("paymentConfig",t.paymentConfig)("purposeOfPayment",null==i||null==i.remittanceInfo?null:i.remittanceInfo.purposeOfPayment)("avialablePurposesOfPayment",null==i||null==i.inputFormFromSettings?null:i.inputFormFromSettings.purposesOfPayment)}}function xo(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",115),2&n){const t=e.oxw(4).paymentConfig;e.Q6J("config",t)}}function Ko(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",116),2&n){const t=e.oxw(4).paymentConfig;e.Q6J("config",t)}}function Fo(n,a){if(1&n&&(e.TgZ(0,"div",48)(1,"div",105),e.YNc(2,xo,1,1,"bb-payord-dynamic-label",112),e.YNc(3,Ko,1,1,"bb-payord-dynamic-label",113),e.qZA(),e.TgZ(4,"div",114),e._uU(5),e.qZA()()),2&n){const t=e.oxw(3).$implicit;e.xp6(2),e.Q6J("ngIf",!t.isDebitPayment),e.xp6(1),e.Q6J("ngIf",t.isDebitPayment),e.xp6(2),e.hij(" ",(null==t||null==t.counterparty?null:t.counterparty.messageToBank)||(null==t?null:t.messageToBank)," ")}}function wo(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"hr"),e.YNc(2,ho,5,2,"div",29),e.YNc(3,Po,5,2,"div",29),e.YNc(4,Do,5,2,"div",29),e.YNc(5,No,7,3,"div",29),e.YNc(6,Lo,1,3,"bb-purpose-of-payment",95),e.YNc(7,Fo,6,3,"div",29),e._UZ(8,"hr"),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngIf",null==t||null==t.counterparty?null:t.counterparty.mandateIdentifier),e.xp6(1),e.Q6J("ngIf",null==t||null==t.remittanceInfo?null:t.remittanceInfo.paymentReference),e.xp6(1),e.Q6J("ngIf",null==t||null==t.remittanceInfo?null:t.remittanceInfo.description),e.xp6(1),e.Q6J("ngIf",null==t?null:t.counterparty.remittanceInformation),e.xp6(1),e.Q6J("ngIf",null==t||null==t.remittanceInfo?null:t.remittanceInfo.purposeOfPayment),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.messageToBank)||(null==t||null==t.counterparty?null:t.counterparty.messageToBank))}}function ko(n,a){if(1&n&&e.GkF(0,7),2&n){const t=e.oxw(2),i=t.additionalDetailsContext;e.Q6J("componentType",t.additionsDetails)("context",i)}}function Wo(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",117),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.ngIf;e.xp6(2),e.Oqu(t)}}const Zo=function(n){return{"flex-column-reverse flex-md-row-reverse":n}};function Jo(n,a){if(1&n&&(e.ynx(0),e.YNc(1,po,3,2,"div",29),e.YNc(2,go,3,2,"div",30),e.TgZ(3,"div",31)(4,"div",32),e.YNc(5,Co,1,0,"ng-container",33),e.qZA(),e.TgZ(6,"div",34),e._uU(7,"\xa0"),e.qZA(),e.TgZ(8,"div",32),e.YNc(9,Bo,1,0,"ng-container",33),e.qZA()(),e.TgZ(10,"div",35)(11,"div",36)(12,"div",37),e.YNc(13,fo,1,0,"ng-container",33),e.qZA(),e._UZ(14,"bb-debitor-details-card",38),e.qZA(),e.TgZ(15,"div",39),e._UZ(16,"bb-icon-ui",40),e.qZA(),e.TgZ(17,"div",41),e._uU(18,"\xa0"),e.qZA(),e.TgZ(19,"div",36)(20,"div",37),e.YNc(21,bo,1,0,"ng-container",33),e.qZA(),e._UZ(22,"bb-creditor-details-card",42),e.qZA()(),e.YNc(23,Oo,2,2,"ng-template",null,43,e.W1O),e.YNc(25,vo,2,2,"ng-template",null,44,e.W1O),e._UZ(27,"bb-payord-amount-details",45)(28,"bb-counterparty-details",46),e.YNc(29,wo,9,6,"div",12),e._UZ(30,"bb-payord-schedule-details",47),e.YNc(31,ko,1,2,"ng-container",6),e.YNc(32,Wo,3,1,"ng-container",12),e.BQk()),2&n){const t=e.MAs(24),_=e.MAs(26),i=e.oxw(),o=i.status,l=i.$implicit,s=i.paymentConfig,u=i.additionsDetails,c=e.oxw();e.xp6(1),e.Q6J("ngIf",o),e.xp6(1),e.Q6J("ngIf",(null==l?null:l.isIntraLegalEntity)||(null==l||null==l.remittanceInfo?null:l.remittanceInfo.urgent)),e.xp6(3),e.Q6J("ngTemplateOutlet",t),e.xp6(4),e.Q6J("ngTemplateOutlet",_),e.xp6(1),e.Q6J("ngClass",e.VKq(32,Zo,c.widgetOptions.isDebitPayment)),e.xp6(3),e.Q6J("ngTemplateOutlet",c.widgetOptions.isDebitPayment?_:t),e.xp6(1),e.Q6J("balance",null==l?null:l.initiator.balance)("currency",null==l?null:l.initiator.currency)("name",(null==l?null:l.initiator.alias)||(null==l?null:l.initiator.name))("accountNumber",(null==l?null:l.initiator.accountNumber)||(null==l?null:l.initiator.IBAN)),e.xp6(7),e.Q6J("ngTemplateOutlet",c.widgetOptions.isDebitPayment?t:_),e.xp6(1),e.Q6J("name",(null==l||null==l.counterparty?null:l.counterparty.alias)||(null==l?null:l.counterparty.name))("country",null==l||null==l.counterparty||null==l.counterparty.postalAddress?null:l.counterparty.postalAddress.country)("bankBranchCode",null==l||null==l.counterparty?null:l.counterparty.bankBranchCode)("IBAN",null==l||null==l.counterparty?null:l.counterparty.IBAN)("accountNumber",null==l||null==l.counterparty?null:l.counterparty.accountNumber)("schemeName",null==l||null==l.counterparty?null:l.counterparty.schemeName),e.xp6(5),e.Q6J("config",s)("amount",null==l?null:l.remittanceInfo.amountGroup.amount)("transactionCurrency",null==l?null:l.remittanceInfo.amountGroup.currency)("originatorCurrency",null==l?null:l.initiator.currency)("transferFee",null==l?null:l.transferFee)("chargeBearer",null==l?null:l.chargeBearer)("exchangeRate",null==l?null:l.exchangeRate),e.xp6(1),e.Q6J("details",null==l?null:l.counterparty)("config",s)("isDebitPayment",null==l?null:l.isDebitPayment),e.xp6(1),e.Q6J("ngIf",(null==l?null:l.messageToBank)||(null==l||null==l.remittanceInfo?null:l.remittanceInfo.description)||(null==l||null==l.remittanceInfo?null:l.remittanceInfo.paymentReference)||(null==l?null:l.counterparty.messageToBank)||(null==l?null:l.counterparty.remittanceInformation)||(null==l||null==l.remittanceInfo?null:l.remittanceInfo.purposeOfPayment)||(null==l||null==l.counterparty?null:l.counterparty.mandateIdentifier)),e.xp6(1),e.Q6J("paymentConfig",s)("data",null==l?null:l.schedule),e.xp6(1),e.Q6J("ngIf",u),e.xp6(1),e.Q6J("ngIf",c.getExecutionInBankTimezoneMessage())}}function $o(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",125),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).methods.submit()}),e.SDv(1,126),e.qZA()}if(2&n){const t=e.oxw(2).isSubmitting;e.Q6J("disabled",t)}}function Ho(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",132),e.NdJ("bbKeyboardClick",function(){return e.CHM(t),e.oxw(3).methods.submit(!0)}),e.SDv(1,133),e.qZA()}if(2&n){const t=e.oxw(3).isSubmitting;e.Q6J("disabled",t)}}function Go(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",127)(1,"bb-load-button-ui",128),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).methods.submit()}),e.SDv(2,129),e.qZA(),e.TgZ(3,"bb-dropdown-menu-ui",130),e.YNc(4,Ho,2,1,"ng-template",131),e.qZA()()}if(2&n){const t=e.oxw(2).isSubmitting;e.xp6(1),e.Q6J("isLoading",t)}}function Qo(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",118),e.YNc(2,$o,2,1,"button",119),e.YNc(3,Go,5,1,"div",120),e.TgZ(4,"button",121),e.NdJ("click",function(){return e.CHM(t),e.oxw().methods.edit()}),e.SDv(5,122),e.qZA(),e.TgZ(6,"button",123),e.NdJ("click",function(){return e.CHM(t),e.oxw().methods.toggleDiscardDialog()}),e.SDv(7,124),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(),_=t.methods,i=t.isSubmitting,o=e.oxw();e.xp6(1),e.ekj("bb-button-bar--reverse",!(null!=o.widgetOptions&&o.widgetOptions.isModalView)),e.xp6(1),e.Q6J("ngIf",!_.isApprovalEnabled()),e.xp6(1),e.Q6J("ngIf",_.isApprovalEnabled()),e.xp6(1),e.Q6J("disabled",i),e.xp6(2),e.Q6J("disabled",i)}}function Yo(n,a){1&n&&(e.TgZ(0,"div",134),e._UZ(1,"bb-loading-indicator-ui",135),e.qZA()),2&n&&e.Udp("opacity",.6)}function qo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",138),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).methods.doneEditing()}),e.SDv(1,139),e.qZA()}}function zo(n,a){if(1&n&&(e.TgZ(0,"button",140),e._UZ(1,"bb-icon-ui",141),e.TgZ(2,"span"),e.SDv(3,142),e.qZA()()),2&n){const t=e.oxw(3).methods;let _;e.Q6J("bbExportPdf",null==(_=t.getPaymentResponse())?null:_.id)}}function jo(n,a){1&n&&e.GkF(0)}function Vo(n,a){1&n&&e.GkF(0)}const mt=function(){return{color:"secondary"}},Xo=function(){return{color:"link"}};function el(n,a){if(1&n&&(e.ynx(0),e.YNc(1,jo,1,0,"ng-container",1),e.TgZ(2,"div",143),e.YNc(3,Vo,1,0,"ng-container",1),e.qZA(),e.BQk()),2&n){e.oxw(3);const t=e.MAs(14),_=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(4,mt)),e.xp6(2),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(5,Xo))}}function tl(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",118),e.YNc(2,qo,2,0,"button",136),e.YNc(3,zo,4,1,"button",137),e.YNc(4,el,4,6,"ng-container",12),e.qZA(),e.BQk()),2&n){const t=e.oxw(2),_=t.status,i=t.methods,o=e.oxw();e.xp6(2),e.Q6J("ngIf",_),e.xp6(1),e.Q6J("ngIf",i.isExportPDFBtnVisible()),e.xp6(1),e.Q6J("ngIf",(null==o.widgetOptions?null:o.widgetOptions.paymentMode)!==o.paymentMode.EDIT_PAYMENT)}}function nl(n,a){if(1&n&&e.YNc(0,tl,5,3,"ng-container",13),2&n){e.oxw();const t=e.MAs(12),_=e.oxw();e.Q6J("ngIf",null==_.widgetOptions?null:_.widgetOptions.isModalView)("ngIfElse",t)}}function _l(n,a){1&n&&e.GkF(0)}function al(n,a){1&n&&e.GkF(0)}const il=function(){return{color:"primary"}};function ol(n,a){if(1&n&&(e.TgZ(0,"div",144),e.YNc(1,_l,1,0,"ng-container",1),e.YNc(2,al,1,0,"ng-container",1),e.qZA()),2&n){e.oxw();const t=e.MAs(14),_=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(4,il)),e.xp6(1),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(5,mt))}}function ll(n,a){1&n&&(e.ynx(0),e.SDv(1,147),e.BQk())}function rl(n,a){1&n&&(e.ynx(0),e.SDv(1,148),e.BQk())}function sl(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",146),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).methods.reset()}),e.ALo(1,"async"),e.YNc(2,ll,2,0,"ng-container",12),e.YNc(3,rl,2,0,"ng-container",12),e.qZA()}if(2&n){const t=e.oxw().color,_=e.oxw().methods,i=e.oxw();e.Q6J("color",t)("disabled",e.lcZ(1,4,_.isSavingTemplate$())),e.xp6(2),e.Q6J("ngIf",!i.widgetOptions.isDebitPayment),e.xp6(1),e.Q6J("ngIf",i.widgetOptions.isDebitPayment)}}function cl(n,a){if(1&n&&e.YNc(0,sl,4,6,"button",145),2&n){const t=e.oxw(),i=t.methods;e.Q6J("ngIf",t.status&&i.isNewPaymentEnabled())}}function dl(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",150),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).methods.openTemplateModal()}),e.SDv(1,151),e.qZA()}if(2&n){const t=e.oxw().color,_=e.oxw().methods;e.Q6J("color",t)("disabled",_.isTemplateSaved())}}function ul(n,a){if(1&n&&(e.YNc(0,dl,2,2,"button",149),e.ALo(1,"async")),2&n){const t=e.oxw(),_=t.status,i=t.methods,o=e.oxw();e.Q6J("ngIf","SUCCESS"===_&&i.isPaymentTemplateEnabled()&&e.lcZ(1,1,o.createTemplatePermission$))}}function ml(n,a){if(1&n&&(e.TgZ(0,"div",152)(1,"h2",153),e.SDv(2,154),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.pQV((null==t.widgetOptions?null:t.widgetOptions.paymentMode)===t.paymentMode.EDIT_PAYMENT),e.QtT(2)}}function El(n,a){if(1&n&&(e.ynx(0),e.SDv(1,155),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.pQV((null==t.widgetOptions?null:t.widgetOptions.paymentMode)===t.paymentMode.EDIT_PAYMENT),e.QtT(1)}}function pl(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",118)(1,"button",156),e.NdJ("click",function(){return e.CHM(t),e.oxw().methods.discard()}),e.SDv(2,157),e.qZA(),e.TgZ(3,"button",158),e.NdJ("click",function(){return e.CHM(t),e.oxw().methods.toggleDiscardDialog()}),e.SDv(4,159),e.qZA()()}}function Sl(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",8),e.YNc(1,Gi,1,1,"bb-header-ui",9),e._UZ(2,"div",null,10),e.YNc(4,Yi,2,1,"div",11),e.ALo(5,"async"),e.YNc(6,Jo,33,34,"ng-container",12),e.qZA(),e.YNc(7,Qo,8,6,"ng-container",13),e.YNc(8,Yo,2,2,"div",14),e.YNc(9,nl,1,2,"ng-template",null,15,e.W1O),e.YNc(11,ol,3,6,"ng-template",null,16,e.W1O),e.YNc(13,cl,1,1,"ng-template",null,17,e.W1O),e.YNc(15,ul,2,3,"ng-template",null,18,e.W1O),e.TgZ(17,"bb-modal-ui",19),e.NdJ("cancel",function(){return e.CHM(t).methods.toggleDiscardDialog()})("confirm",function(){return e.CHM(t).methods.discard()}),e.TgZ(18,"bb-modal-header-ui"),e.YNc(19,ml,3,1,"ng-template",20),e.qZA(),e.TgZ(20,"bb-modal-body-ui"),e.YNc(21,El,2,1,"ng-template",21),e.qZA(),e.TgZ(22,"bb-modal-footer-ui",null,22),e.YNc(24,pl,5,0,"ng-template",23),e.qZA()(),e.TgZ(25,"bb-breach-limit-details",24),e.NdJ("close",function(){return e.CHM(t),e.oxw().hideBreachModal()}),e.qZA()}if(2&n){const t=a.$implicit,_=a.status,i=a.methods,o=a.isSubmitting,l=a.breachError,s=e.MAs(10),u=e.oxw();e.xp6(1),e.Q6J("ngIf",u.header),e.xp6(3),e.Q6J("ngIf",e.lcZ(5,10,u.validationWarnings$)),e.xp6(2),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf","SUCCESS"!==_)("ngIfElse",s),e.xp6(1),e.Q6J("ngIf",o),e.xp6(9),e.Q6J("isOpen",i.showDiscardDialog()),e.xp6(8),e.Q6J("paymentDetails",u.paymentItem)("error",l)("isOpen",u.showBreachDetails)}}const Al=function(n,a,t,_,i,o,l,s){return{$implicit:n,status:a,isSubmitting:t,methods:_,paymentConfig:i,breachError:o,additionsDetails:l,additionalDetailsContext:s}};var X=(()=>{return(n=X||(X={})).MIN_TRANSFER="PL01",n.MAX_TRANSFER="PL02",n.DAILY="PL03",n.MONTHLY="PL04",X;var n})(),R=(()=>{return(n=R||(R={})).MIN_TRANSFER="PL11",n.MAX_INCOMING_TRANSFER="PL12",n.MAX_OUTGOING_TRANSFER="PL13",n.MAX_INCOMING_DAILY_TRANSFER="PL14",n.MAX_OUTGOING_DAILY_TRANSFER="PL15",n.MAX_COMBINED_DAILY_TRANSFER="PL16",n.MAX_INCOMING_MONTHLY_TRANSFER="PL17",n.MAX_OUTGOING_MONTHLY_TRANSFER="PL18",n.MAX_COMBINED_MONTHLY_TRANSFER="PL19",R;var n})(),ee=(()=>{return(n=ee||(ee={})).FORM="form",n.REVIEW="review",ee;var n})();const gl={name:r.x2z.counterparty,fields:[{name:r.fUi.beneficiaryGroupHeader,type:r.fUi.beneficiaryGroupHeader,options:{label:"To",hasDynamicTitle:!0}},{name:r.IW3.name,type:r.fUi.beneficiarySelector,options:{label:"Beneficiary's name",placeholder:"Select a beneficiary",saveNewContactLabel:"Save as a new contact",isWizardMode:!0,retainBankCountry:!0,cssClasses:["col-12"],dependants:[r.IW3.country,r.IW3.bankBranchCode,r.IW3.accountNumber],validationMessages:[{message:"Beneficiary is same as selected Debit account",name:"sameDebitCreditAccountsSelected"}]}},{name:r.IW3.country,type:r.fUi.sanctionedCountrySelector,options:{validators:[D.kI.required],label:"Country",placeholder:"- select a country -",cssClasses:["d-inline-block","col-md-6","align-top"],mapToField:`${r.x2z.counterparty}.${r.IW3.creditorBank}.${r.IW3.postalAddress}`}},{name:r.IW3.accountNumber,type:r.fUi.text,options:{validators:[D.kI.required,D.kI.minLength(6)],maxLength:36,label:"Account number or IBAN",validationMessages:[{name:"minlength",message:"Account number should have minimum 6 characters"},{message:"Invalid IBAN",name:"invalidIbanCountry"}],cssClasses:["d-inline-block","col-md-6"]}},{name:r.IW3.bankBranchCode,type:r.fUi.text,options:{label:"Sort code",maxLength:20,cssClasses:["d-inline-block","col-md-6","align-top"],mapToField:`${r.x2z.counterparty}.${r.IW3.creditorBank}`}}]},Cl=[r.sR3,{name:r.x2z.remittanceInfo,title:"Payment details",fields:[{type:r.fUi.sanctionedCurrencyAmount,name:r.IHR.amountCurrencyGroup,options:{cssClasses:["col-12"],label:"Amount",validationMessages:[{message:"Enter amount",name:"invalidAmount"},{message:"Selected country does not allow payments in this currency",name:"invalidCurrency"}]}}]},gl],Le=new e.OlP("BB_PAYORD_PAYMENT_ERROR_MESSAGES_TOKEN"),Bl=[{provide:Le,useValue:{errorData:[{key:"arrangements.api.invalid.iban",message:"Entered IBAN is invalid"}]}}],Et=new e.OlP("BB_PAYORD_OMNI_PAYMENT_CONFIG_TOKEN"),fl=[{provide:Et,useValue:{businessConfig:{functionName:"Payment Templates",resourceName:"Payments"}}}];let ie=(()=>{class n{constructor(){this.configsSub$=new O.X([]),this.optionsSub$=new O.X({}),this.baseFieldsSub$=new O.X([]),this.fetchPaymentOptionsListenerSub$=new O.X(void 0),this.hooksSub$=new O.X({}),this.reviewTemplateSub$=new O.X(void 0),this.configs$=this.configsSub$.asObservable(),this.options$=this.optionsSub$.asObservable(),this.baseFields$=this.baseFieldsSub$.asObservable(),this.fetchPaymentOptionsListener$=this.fetchPaymentOptionsListenerSub$.asObservable(),this.reviewTemplate$=this.reviewTemplateSub$.asObservable()}get hooks(){return this.hooksSub$.value}get options(){return this.optionsSub$.value}get configs(){return this.configsSub$.value}setHooks(t={}){this.hooksSub$.next(t)}setConfigs(t){this.configsSub$.next(t)}setOptions(t){this.optionsSub$.next(t)}setBaseFields(t=Cl){this.baseFieldsSub$.next(t)}setFetchPaymentOptionsListener(t){this.fetchPaymentOptionsListenerSub$.next(t)}setReviewTemplate(t){this.reviewTemplateSub$.next(t)}getHeader(t,_){var i,o,l;const c={paymentMode:null===(i=this.options)||void 0===i?void 0:i.paymentMode,state:t,paymentType:_||(1===this.configs.length?this.configs[0].paymentType:""),isDebit:this.options.isDebitPayment};return null===(l=(o=this.options).header)||void 0===l?void 0:l.call(o,c)}getProductKindNames(t){if(1===this.configs.length)return this.extractProductKinds(this.configs[0],t);const _=this.configs.map(o=>this.extractProductKinds(o,t));return _.every(o=>0!==o.length)?this.removeDuplicates(_):[]}removeDuplicates(t){return Array.from(new Set([].concat(...t)))}extractProductKinds(t,_){var i,o,l;return(null!==(l=null===(o=null===(i=t.options)||void 0===i?void 0:i.productKindsByAccountType)||void 0===o?void 0:o.get(_))&&void 0!==l?l:[]).map(u=>u.name)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n{constructor(t,_,i){this.router=t,this.route=_,this.paymentConfigSetupService=i,this.routingExtras={queryParamsHandling:"merge",relativeTo:this.route,skipLocationChange:!!this.paymentConfigSetupService.options.isModalView}}form(){return this.router.navigate([ee.FORM],this.routingExtras)}review(){return this.router.navigate([ee.REVIEW],this.routingExtras)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(se.F0),e.LFG(se.gz),e.LFG(ie))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const ye=new e.OlP("bb-initiate-payment-journey-communicator"),Ml={pageSize:50,isModalView:!0,pollInterval:1e3,defaultCountry:"US",enableApprovals:!0,defaultScheme:r.g1M.BBAN,isTemplateMode:!1,isDebitPayment:!1,isErrorTitleDisplayed:!0,enableNewPaymentButton:!1,checkClosedPaymentsAccess:!1,enableSavePaymentAsTemplate:!0,isOneOffToRecurrentAllowed:!1,isRecurrentToOneOffAllowed:!1,enablePaymentTemplateSelector:!0,accessContextScope:r.zlV.SA,successEventName:"bb.success.create.payment",header:function yl({paymentType:n,paymentMode:a,state:t,isDebit:_}){const i=_?" Debit":"";let o=`${function bl(n){switch((0,r.Ake)(n)){case"SEPA_CREDIT_TRANSFER":case"SEPA_CT":case"SEPA":return "SEPA";case"ACH_DEBIT":case"ACH_CREDIT":case"US_ACH_CREDIT":case"CUSTOM_ACH_CREDIT":return "ACH";case"US_DOMESTIC_WIRE":return "Wire";case"INTERNAL_TRANSFER":case"INTERNAL_TRANSFER_BUSINESS":case"INTRABANK_TRANSFER":return "Internal";case"INTERNATIONAL_TRANSFER":return "International Wire";case"P2P_TRANSFER":return "P2P"}return ""}(n)}${i}`;return o=(null==a?void 0:a.includes("EDIT"))?"Edit " + o + "":"New " + o + "",(null==a?void 0:a.includes("TEMPLATE"))?o="" + o + " Template":_||(o="" + o + " Payment"),t===r.WN5.REVIEW?o="" + o + " - Review":t===r.WN5.SUBMITTED&&(o="" + o + " - Submitted"),o},paymentExecutionInBankTimeZoneMessage:"Transfer dates are based on your bank\u2019s timezone"},pt=new e.OlP("INITIATE_PAYMENT_CONFIG"),St="Payments";function gt(n){return{id:n.id,name:n.displayName||n.bankAlias||n.name||"",alias:(n.userPreferences||{}).alias||n.bankAlias,balance:n.bookedBalance||n.availableBalance,bookedBalance:n.bookedBalance,availableBalance:n.availableBalance,creditLimit:n.creditLimit,currency:n.currency||"",bankBranchCode:n.bankBranchCode||"",BIC:n.BIC,IBAN:n.IBAN||n.number,BBAN:n.BBAN,externalTransferAllowed:n.externalTransferAllowed,urgentTransferAllowed:n.urgentTransferAllowed,additions:n.additions,productKindName:n.productKindName,isArrangement:!0,defaultRecord:n}}function Tl({bankBranchCode:n,bic:a,bankName:t,postalAddress:_={}}){return{bankCode:n,BIC:a,bankName:t,bankAddressLine1:_.addressLine1,bankAddressLine2:_.addressLine2,bankStreetName:_.streetName,bankPostCode:_.postCode,bankTown:_.town,bankCountrySubDivision:_.countrySubDivision,bankCountry:_.country}}const Ct={from:0,size:20,intendedAction:r.SyI.CREATE};let me=(()=>{class n{constructor(t,_,i,o,l,s,u,c){this.paymentOrderData=t,this.paymentTemplateData=_,this.contactsData=i,this.productSummaryData=o,this.accessgroupData=l,this.notificationService=s,this.settings=u,this.paymentOrdersA2ADataHttpService=c,this.paymentResponseSubject$$=new h.x,this.contactsGetParams$$=new O.X({from:0,size:r._hS}),this.creditAccountsParams$$=new O.X({from:0,creditAccount:!0,size:100}),this.debitAccountsParams$$=new O.X({from:0,debitAccount:!0,size:100}),this.paymentTemplateParams$$=new O.X(Ct),this.creditAccountsParameters$=this.creditAccountsParams$$.pipe((0,B.U)(this.buildArrangementsContextParameters.bind(this))),this.dataItemParams$=new h.x,this.loading$=new O.X(!0),this.arrangementUserPermissions$=this.dataItemParams$.pipe((0,Se.w)(d=>this.getArrangementUserPermission(d))),this.createPermission$=this.settings?this.getUserPermission():ce.E,this.paymentResponse=this.paymentResponseSubject$$.asObservable(),this.debitAccounts=this.debitAccountsParams$$.pipe((0,B.U)(this.buildArrangementsContextParameters.bind(this)),(0,ve.z)(d=>this.fetchArrangementList(d)),(0,H.d)(1),(0,he.R)((d,m)=>{const{merge:S,from:A}=this.debitAccountsParams$$.value;return this.mergeArrangementList(d,m,A>0&&!!S)})),this.contacts=this.contactsGetParams$$.pipe((0,ve.z)(d=>{var{isLoadMore:m}=d,S=Ze(d,["isLoadMore"]);return this.contactsData.getContacts(S,"response").pipe((0,B.U)(A=>function Il(n,a=!1){const t=(0,r.DDE)(n);return{items:t.reduce((i,o)=>(i.push(...function Ol(n){return n.accounts.map(a=>Object.assign(Object.assign({name:n.name},n.accounts.length>1?{accountName:a.name}:null),{addressLine1:n.addressLine1,addressLine2:n.addressLine2,streetName:n.streetName,town:n.town,postCode:n.postCode,countrySubDivision:n.countrySubDivision,country:n.country,accounts:[Object.assign(Object.assign({},a),{accountNumber:a.accountNumber||a.IBAN||"",email:a.email||n.emailId,phoneNumber:a.phoneNumber||n.phoneNumber})],id:n.id}))}(o)),i),[]),itemsCount:t.length,count:parseInt(n.headers.get("x-total-count"),10),isLoadMore:a}}(A,m)),(0,P.K)(A=>(0,U.of)(A)))}),(0,H.d)(1)),this.creditAccounts=this.creditAccountsParameters$.pipe((0,ve.z)(d=>this.fetchArrangementList(d)),(0,H.d)(1),(0,he.R)((d,m)=>{const{merge:S,from:A}=this.creditAccountsParams$$.value;return this.mergeArrangementList(d,m,A>0&&!!S)}),(0,P.K)(d=>(0,U.of)(d))),this.connectedAccounts$=this.paymentOrdersA2ADataHttpService.getAll("response").pipe((0,B.U)(r.DDE),(0,B.U)(d=>d.accounts&&d.accounts.filter(m=>"Active"===m.status)),(0,H.d)(1)),this.paymentTemplates$=this.paymentTemplateParams$$.pipe((0,Z.b)(()=>this.loading$.next(!0)),function an(n){return(0,tn.e)((a,t)=>{let _=!1,i=null,o=null;const l=()=>{if(null==o||o.unsubscribe(),o=null,_){_=!1;const s=i;i=null,t.next(s)}};a.subscribe(new we.Q(t,s=>{null==o||o.unsubscribe(),_=!0,i=s,o=new we.Q(t,l,nn.Z),(0,_n.Xf)(n(s)).subscribe(o)},()=>{l(),t.complete()},void 0,()=>{i=o=null}))})}(d=>d&&(0,on.H)(1e3)),(0,Se.w)(d=>this.loadPaymentTemplates(Object.assign(Object.assign({},d),{paymentType:this.paymentType}))),(0,he.R)((d,m)=>this.mergeResults(d,m)),(0,Z.b)(()=>this.loading$.next(!1))),this.templatesList$=d=>this.paymentTemplateData.getPaymentTemplates(Object.assign(Object.assign({},Ct),{paymentType:d}),"response").pipe((0,B.U)(m=>m.body))}buildArrangementsContextParameters(t){var _;return Object.assign({resourceName:this.resourceName||St,businessFunction:null!==(_=this.arrangementBusFunctions)&&void 0!==_?_:this.businessFunction,privilege:this.privilege||"create"},t)}fetchArrangementList(t){return this.productSummaryData.getArrangementsByBusinessFunction(t,"response").pipe((0,B.U)(({headers:_,body:i})=>{const o=_.get("x-total-count")||"0",l=i||[];return{count:parseInt(o,10)||l.length,items:l.map(gt)}}))}getUserPermission(){return this.accessgroupData.getCheckUserPermission(Object.assign(Object.assign({},this.settings.businessConfig),{privileges:"create"}),"response").pipe((0,H.d)(1))}getArrangementUserPermission(t){return this.accessgroupData.getArrangementUserPermissionCheck({id:t,resource:r.StK.resourceName,function:this.businessFunction,privilege:r.StK.privilege}).pipe((0,P.K)(_=>(0,U.of)(_)))}loadDataItemPermissions(t){this.dataItemParams$.next(t)}ngOnDestroy(){this.paymentResponseSubject$$.complete(),this.contactsGetParams$$.complete(),this.creditAccountsParams$$.complete()}loadMoreContacts(t=0,_){this.contactsGetParams$$.next(Object.assign({from:t,isLoadMore:!0,size:r._hS},_))}loadMoreCreditAccounts(t=0,_){this.creditAccountsParams$$.next(Object.assign(Object.assign(Object.assign({from:t,creditAccount:!0},(null==_?void 0:_.query)&&{searchTerm:_.query}),{isLoadMore:!0,size:100}),_))}fetchCreditAccounts(t="",_){this.contactsGetParams$$.next(Object.assign(Object.assign(Object.assign({},t&&{query:t}),{from:0}),_)),this.creditAccountsParams$$.next(Object.assign(Object.assign(Object.assign({},t&&{searchTerm:t}),{from:0,creditAccount:!0}),_))}loadMoreDebitAccounts(t){this.debitAccountsParams$$.next(Object.assign(Object.assign({},this.debitAccountsParams$$.value),t))}validatePayment(t){return this.paymentOrderData.postValidate({paymentOrdersValidatePost:t},"response").pipe((0,B.U)(r.DDE))}postPaymentTemplate(t){return this.paymentTemplateData.postPaymentTemplates({paymentTemplatesPostRequest:t}).pipe((0,Z.b)(()=>this.loadMore(0)))}editPaymentTemplate(t,_){return this.paymentTemplateData.putPaymentTemplateById({paymentTemplateId:t,paymentTemplatesPutRequest:_})}getCurrencyExchangeRate(t,_){return this.paymentOrderData.getRate({currencyFrom:t,currencyTo:_},"response").pipe((0,B.U)(i=>i&&i.body),(0,P.K)(()=>(0,U.of)(null)))}getAccountByAccountId(t,_){return this.productSummaryData.getArrangementsByBusinessFunction({resourceName:this.resourceName||St,businessFunction:this.businessFunction,privilege:this.privilege||"create",searchTerm:_},"response").pipe((0,B.U)(r.DDE),(0,B.U)(i=>i.find(o=>o.id===t)),(0,B.U)(i=>{if(i)return gt(i);throw new Error("No account found...")}))}loadPaymentTemplates(t){return this.paymentTemplateData.getPaymentTemplates(t,"response").pipe((0,B.U)(_=>{const i=_.body||[];return{items:i,totalCount:parseInt(_.headers.get("x-total-count")||"0",10)||i.length,params:t}}))}mergeResults(t,_){return{totalCount:_.totalCount||_.items.length,items:0===_.params.from?_.items:[...t.items,..._.items],params:_.params}}mergeArrangementList(t,_,i){return{count:_.count||_.items.length,items:i?[...t.items,..._.items]:_.items}}loadMore(t){const _=this.paymentTemplateParams$$.value.from||0;this.paymentTemplateParams$$.next(Object.assign(Object.assign({},this.paymentTemplateParams$$.value),{from:_+t}))}search(t){this.paymentTemplateParams$$.next(Object.assign(Object.assign(Object.assign({},this.paymentTemplateParams$$.value),{from:0}),{query:t}))}showNotification(t,_){this.notificationService.showNotification(Object.assign({dismissible:!0,ttl:5e3,modifier:t?"success":"error",header:"",message:""},_))}getContacts(t){return this.contactsGetParams$$.next(Object.assign(Object.assign({},this.contactsGetParams$$.value),t)),this.contacts}getCreditAccounts(t){return this.creditAccountsParams$$.next(Object.assign(Object.assign(Object.assign({},this.creditAccountsParams$$.value),(null==t?void 0:t.query)&&{searchTerm:t.query}),t)),this.creditAccounts}getDebitAccounts(t){return this.debitAccountsParams$$.next(Object.assign(Object.assign({},this.debitAccountsParams$$.value),t)),this.debitAccounts.pipe((0,H.d)(1))}fetchBeneficiaries(t,_){const{from:i,size:o,query:l}=t;switch(_){case r.AZU.ACCOUNTS:this.loadMoreCreditAccounts(i,{size:o,query:l});break;case r.AZU.CONTACTS:this.loadMoreContacts(i,{size:o,query:l});break;default:this.fetchCreditAccounts(l,{size:o})}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Q.k4),e.LFG(He.Kl),e.LFG(Ce.Eq),e.LFG(Ge.IK),e.LFG(Qe.Ud),e.LFG(de.gq),e.LFG(Et,8),e.LFG(Ye.Px))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Bt=(()=>{class n{constructor(t,_,i,o,l){this.stateService=t,this.componentsFactory=_,this.paymentOrderHttpService=i,this.createPaymentSetup=o,this.initiatePaymentConfig=l}setup(t){this.applyConfig(),t&&this.applyData(t)}applyConfig(){const{paymentTypes:t,hooks:_,options:i,businessFunctions:o,baseFields:l,fetchPaymentOptionsListener:s,customFields:u}=this.initiatePaymentConfig;this.createPaymentSetup.setHooks(_),this.createPaymentSetup.setConfigs(t),this.createPaymentSetup.setOptions(Object.assign(Object.assign({},Ml),i||{})),this.createPaymentSetup.setBaseFields(l),this.createPaymentSetup.setFetchPaymentOptionsListener(s),this.paymentOrderHttpService.businessFunction=o.join(","),this.componentsFactory.registerCustomFields(u),this.componentsFactory.registerCustomFieldsForPaymentConfigs(t)}applyData(t){t.template?this.stateService.setPaymentTemplate(t.template):this.stateService.setEditPayment(t.payment),this.createPaymentSetup.setOptions(Object.assign(Object.assign({},this.createPaymentSetup.options),t.options||{}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(r.b2t),e.LFG(L.nA),e.LFG(me),e.LFG(ie),e.LFG(pt))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),hl=(()=>{class n{constructor(t,_){this.configService=t,this.communicator=_,_?_.init({setupData(i){t.setup(i)}}):t.setup()}ngOnDestroy(){var t;null===(t=this.communicator)||void 0===t||t.reset()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Bt),e.Y36(ye,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-initiate-payment-journey"]],features:[e._Bn([r.b2t,Bt,ie,xe])],decls:1,vars:0,template:function(t,_){1&t&&e._UZ(0,"router-outlet")},directives:[se.lC],encapsulation:2}),n})();function ft(n){let t,a=null==n?void 0:n.details.paymentType;return("SEPA_CT_CLOSED"===a||"SEPA_CT_ILE"===a)&&(a=a.replace("SEPA_CT","SEPA_CREDIT_TRANSFER")),a&&(t=a.endsWith("_ILE")?a.replace("_ILE",""):a.endsWith("_CLOSED")?a.replace("_CLOSED",""):a),t}function bt(n){return Object.assign(Object.assign({},n),{details:Object.assign(Object.assign({},n.details),{paymentType:ft(n)})})}function yt(n,a,t){const _=(0,r.iEs)(n,a),i=t.get([r.x2z.counterparty,r.IW3.creditorBank,n]);!_&&(null==i?void 0:i.value)&&i.reset()}const Mt=(n=r.g1M.BBAN)=>a=>a.pipe((0,B.U)(t=>Fe(t,n))),Fe=(n,a=r.g1M.BBAN)=>n.items.map(t=>({id:t.id,BIC:t.BIC,name:t.name,alias:t.alias,currency:t.currency,balance:t.bookedBalance,creditLimit:t.creditLimit,displayName:t.displayName,bookedBalance:t.bookedBalance,defaultRecord:t.defaultRecord,bankBranchCode:t.bankBranchCode,productKindName:t.productKindName,availableBalance:t.availableBalance,urgentTransferAllowed:t.urgentTransferAllowed,externalTransferAllowed:t.externalTransferAllowed,isArrangement:!0,accountType:a,additions:t.additions||{},schemeName:t.IBAN?r.g1M.IBAN:r.g1M.BBAN,number:t[a]||t.BBAN||t.IBAN||"",accountNumber:t[a]||t.BBAN||t.IBAN||""})),Ul=n=>({id:n.externalAccountId,name:n.accountNickName||n.bankName,accountNumber:n.accountNumber,productKindName:r.T8N.connectedAccounts,accountType:n.accountType}),Ot=(n,a=r.g1M.BBAN)=>({items:Fe(n,a),count:n.count});let Me=(()=>{class n{constructor(t,_,i){this.paymentOptionsData=t,this.sanctionedCountriesService=_,this.sanctionedCurrenciesService=i,this.paymentOptions$$=new O.X(void 0)}get paymentOptions$(){return this.paymentOptions$$.asObservable()}fetchPaymentOptions(t){return this.paymentOptionsData.postPaymentOptions({paymentOptionsRequest:t}).pipe((0,Z.b)(_=>{this.paymentOptions$$.next(_.options||[])}))}getPaymentOptionsRecordByPaymentType(t){return this.paymentOptionsData.getPaymentOptionsByPaymentType({paymentType:t}).pipe((0,B.U)(_=>_&&[_]||[]),(0,H.d)(1))}getSanctionedCurrencies(t){return this.sanctionedCurrenciesService.getSanctionedCurrencies({countryIso:t}).pipe((0,B.U)(_=>_||{}))}getSanctionedCountries(t){return this.sanctionedCountriesService.getSanctionedCountries({countryIso:t}).pipe((0,B.U)(_=>(null==_?void 0:_.countries)||[]))}resetPaymentOptions(){this.paymentOptions$$.next([])}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y._l),e.LFG(Y.I6),e.LFG(Y.LY))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),It=(()=>{class n{constructor(t,_,i){this.createPaymentSetup=t,this.paymentOptionsService=_,this.paymentOrderHttpService=i,this.destroyed$$=new h.x,this.fetchDebitItemPermissions$$=new h.x,this.fetchBeneficiaries$$=new h.x,this.paymentOptionsSub$$=new O.X([]),this.paymentOptionsErrorSub$$=new O.X(!1),this.exchangeRate$$=new h.x,this.getExchangeRate$$=new h.x,this.exchangeRateError$$=new h.x,this.frequencyFieldSub$$=new h.x,this.countries$=this.loadSanctionedCountries(),this.currencies$=this.loadSanctionedCurrencies(),this.fetchDebitAccounts$$=new h.x,this.fetchCreditAccounts$$=new h.x,this.connectedAccounts$$=this.paymentOrderHttpService.connectedAccounts$.pipe((0,B.U)(o=>null==o?void 0:o.map(Ul))),this.totalContacts=0,this.totalCreditAccounts=0,this.totalContactsItemsCount=0,this.checkClosedPaymentsAccess=!1,this.paymentOptions$=this.paymentOptionsSub$$.asObservable(),this.paymentOptionsError$=this.paymentOptionsErrorSub$$.asObservable(),this.frequencyField$=this.frequencyFieldSub$$.asObservable(),this.fetchDebitItemPermissions$$.pipe((0,T.R)(this.destroyed$$)).subscribe(o=>{this.paymentOrderHttpService.loadDataItemPermissions(o)}),this.fetchBeneficiaries$$.pipe((0,T.R)(this.destroyed$$)).subscribe(({params:o,type:l})=>{this.paymentOrderHttpService.fetchBeneficiaries(Object.assign(Object.assign({},o),{size:this.options.pageSize}),l)}),this.getExchangeRate$$.pipe((0,Ae.h)(({fromCurrency:o,toCurrency:l})=>{const s=o!==l;return s||this.exchangeRate$$.next(0),s}),(0,Se.w)(({fromCurrency:o,toCurrency:l})=>this.paymentOrderHttpService.getCurrencyExchangeRate(o,l)),(0,Z.b)(o=>{this.exchangeRateError$$.next(!o),this.exchangeRate$$.next((null==o?void 0:o.rate)||0)}),(0,T.R)(this.destroyed$$)).subscribe(),this.fetchDebitAccounts$$.pipe((0,T.R)(this.destroyed$$)).subscribe(o=>{this.paymentOrderHttpService.loadMoreDebitAccounts(Object.assign(Object.assign({},o),{merge:!0,size:this.options.pageSize,productKindNames:this.createPaymentSetup.getProductKindNames(r.Qmj.debit)}))}),this.fetchCreditAccounts$$.pipe((0,T.R)(this.destroyed$$)).subscribe(o=>{var{from:l}=o,s=Ze(o,["from"]);this.paymentOrderHttpService.loadMoreCreditAccounts(l,Object.assign(Object.assign({},s),{merge:!0,size:this.options.pageSize,productKindNames:this.createPaymentSetup.getProductKindNames(r.Qmj.credit)}))})}get options(){return this.createPaymentSetup.options}get configs(){return this.createPaymentSetup.configs}get debitAccounts$(){return this.getDebitAccounts().pipe(Mt(this.options.defaultScheme))}get debitAccountList$(){return this.getDebitAccounts({searchTerm:""}).pipe((0,B.U)(t=>Ot(t,this.options.defaultScheme)))}get creditAccountList$(){return this.getCreditAccounts().pipe((0,B.U)(t=>Ot(t,this.options.defaultScheme)))}get creditAccounts$(){return this.getCreditAccounts({searchTerm:""}).pipe((0,Z.b)(t=>{this.totalCreditAccounts=t instanceof Be.UA?0:t.count}),(0,B.U)(t=>t instanceof Be.UA?t:Fe(t,this.options.defaultScheme)))}ngOnDestroy(){this.destroyed$$.next()}getCreditAccounts(t){const _=Object.assign(Object.assign({},t),{size:this.options.pageSize,productKindNames:this.createPaymentSetup.getProductKindNames(r.Qmj.credit)});return this.paymentOrderHttpService.getCreditAccounts(_)}getDebitAccounts(t){const _=Object.assign(Object.assign({},t),{size:this.options.pageSize,productKindNames:this.createPaymentSetup.getProductKindNames(r.Qmj.debit)});return this.paymentOrderHttpService.getDebitAccounts(_)}loadSanctionedCountries(){var t;return this.paymentOptionsService.getSanctionedCountries(null===(t=this.options)||void 0===t?void 0:t.defaultCountry).pipe((0,H.d)(1),(0,P.K)(_=>(this.paymentOrderHttpService.showNotification(!1,{header:"Failed to load countries list. Please try again later."}),(0,U.of)([]))))}loadSanctionedCurrencies(){var t;return this.paymentOptionsService.getSanctionedCurrencies(null===(t=this.options)||void 0===t?void 0:t.defaultCountry).pipe((0,B.U)(_=>{const i={};if("labeled"in _){const{currencies:o,dividerIndex:l}=(0,r.qPk)(_);i.currencies=o,i.dividerIndex=l}return i}),(0,H.d)(1),(0,P.K)(_=>(this.paymentOrderHttpService.showNotification(!1,{header:"Failed to load currencies list. Please try again later."}),(0,U.of)(_))))}loadAccountByAccountId(t,_){return this.paymentOrderHttpService.getAccountByAccountId(t,_).pipe((0,B.U)(i=>({count:1,items:[i]})),Mt(this.options.defaultScheme),(0,B.U)(i=>i[0]),(0,P.K)(()=>(0,U.of)(void 0)))}getContacts(){return this.paymentOrderHttpService.getContacts({size:this.options.pageSize,query:""}).pipe((0,Z.b)(t=>{t instanceof Be.UA?this.totalContacts=0:(this.totalContacts=t.count,this.totalContactsItemsCount=t.itemsCount&&t.isLoadMore?this.totalContactsItemsCount+t.itemsCount:t.itemsCount||0)}),(0,B.U)(t=>t instanceof Be.UA?t:t.items))}loadCreditorDetails(t){const _=(0,r.h8O)(r.AZU.CONTACTS,t)?this.getContacts():(0,U.of)([]),i=(0,r.h8O)(r.AZU.ACCOUNTS,t)?this.creditAccounts$:(0,U.of)([]);return(0,ke.a)([i,_]).pipe((0,B.U)(([o,l])=>({accounts:o,contacts:l,totalCreditAccounts:this.totalCreditAccounts,totalContacts:this.totalContacts,totalContactsItemsCount:this.totalContactsItemsCount})))}setPaymentOptions(t){this.paymentOptionsSub$$.next(t)}setPaymentOptionsError(t){this.paymentOptionsErrorSub$$.next(t)}clearPaymentOptions(){this.paymentOptionsService.resetPaymentOptions(),this.setPaymentOptionsError(!1)}injectData(t,_){t.forEach(i=>{var o,l,s;if(i.options=i.options||{},i.options.isTemplateMode=this.options.isTemplateMode,i.options.templateModeType=this.options.templateModeType,i.options.isModalView=this.options.isModalView,i.options.checkClosedPaymentsAccess=null!==(o=this.options.checkClosedPaymentsAccess)&&void 0!==o?o:this.checkClosedPaymentsAccess,i.options.isWizardMode=(null===(l=this.configs)||void 0===l?void 0:l.length)>1,i.fields instanceof Array)this.injectData(i.fields,_);else switch(i.type){case r.fUi.debitAccountSelector:i.options.items$=this.debitAccountList$,i.options.fetchItems$=this.fetchDebitAccounts$$,i.options.loadAccountByAccountId=this.loadAccountByAccountId.bind(this),i.options.fetchArrangementPermissions$=this.fetchDebitItemPermissions$$,i.options.arrangementPermissions$=this.paymentOrderHttpService.arrangementUserPermissions$,i.options.checkClosedPaymentsAccess=this.options.checkClosedPaymentsAccess;break;case r.fUi.beneficiarySelector:i.options.items$=this.loadCreditorDetails(i.options),i.options.fetchItems$=this.fetchBeneficiaries$$;break;case r.fUi.internalAccountSelector:i.options.paymentTypeOptions=_,i.options.connectedItems$=this.connectedAccounts$$,i.options.items$=i.name===r.dCm.initiatorAccountGroup?this.debitAccounts$:this.creditAccounts$;break;case r.fUi.accountSelector:i.options.paymentTypeOptions=_,i.options.connectedItems$=this.connectedAccounts$$,i.name===r.IW3.counterPartyAccountGroup||this.options.isDebitPayment?(i.options.fetchItems$=this.fetchCreditAccounts$$,i.options.items$=this.creditAccountList$):(i.options.items$=this.debitAccountList$,i.options.fetchItems$=this.fetchDebitAccounts$$);break;case r.fUi.contactSelector:i.options.items$=this.getContacts(),i.options.fetchItems$=this.fetchBeneficiaries$$;break;case r.fUi.selectPaymentOption:i.options.items$=this.paymentOptions$;break;case r.fUi.sanctionedCountrySelector:case r.fUi.address:i.options.items$=this.countries$;break;case r.fUi.sanctionedCurrencyAmount:i.options.items$=this.currencies$,i.options.getExchangeRate$=this.getExchangeRate$$,i.options.exchangeRate$=this.exchangeRate$$,i.options.exchangeRateError$=this.exchangeRateError$$;break;case r.fUi.select:i.name===r.YMR.frequency&&(null===(s=this.options)||void 0===s?void 0:s.paymentMode)===r.x66.EDIT_PAYMENT&&this.frequencyFieldSub$$.next(i)}})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ie),e.LFG(Me),e.LFG(me))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();"Server error","Unknown error occured.","Payment data error";const Oe={templateSaveFailed:"Failed to save the template. Please try again.",templateSaveSuccess:n=>"Template \"" + n + "\" has been saved"},$={defaultPayment:{submitSuccess:"Payment submitted successfully",submitSuccessPendingApproval:"Payment is submitted successfully,   and pending further approval(s)",editSubmitSuccess:"Edited payment submitted successfully"},debitPayment:{submitSuccess:"Debit request submitted successfully",submitSuccessPendingApproval:"Debit request is submitted successfully, and pending further approval(s)",editSubmitSuccess:"Edited payment submitted successfully"},paymentSubmitSuccess:"Payment submitted successfully",editPaymentSubmitSuccess:"Edited payment submitted successfully",paymentSubmitSuccessPendingApproval:"Payment is submitted successfully,   and pending further approval(s)",newContactSubmitSuccess:"Contact saved successfully",newContactSubmitFailure:"Failed to save contact. Please try again later.",newContactSubmitSuccessPendingApproval:"Contact submitted successfully,   and pending further approval(s)",submitPaymentFailure:"Payment data error",debitSubmitSuccess:"Debit request submitted successfully",editdebitSubmitSuccess:"Edited payment submitted successfully",debitSubmitSuccessPendingApproval:"Debit request is submitted successfully, and pending further approval(s)",submitDebitFailure:"Debit request data error",submitPaymentFailureUnknownError:"Unknown error occurred.",submitPaymentFailureUnknownErrorHeader:"Server error",submitPaymentApprovalFailureCOED:{header:"Payment not submitted",message:"Payment is already edited by another user"}};let Ee=(()=>{class n{constructor(t){this.paymentOptionsService=t,this.selectedPaymentOptionSub$=new O.X(void 0),this.selectedPaymentConfigSub$=new O.X(void 0),this.selectedPaymentOption$=this.selectedPaymentOptionSub$.asObservable().pipe((0,Pe.x)()),this.selectedPaymentConfig$=this.selectedPaymentConfigSub$.asObservable().pipe((0,Pe.x)())}get selectedPaymentConfigValue(){return this.selectedPaymentConfigSub$.value}static getCriticalFieldValues(t){var _,i;const{initiator:o,counterparty:l,remittanceInfo:s}=t||{};return{debitAccountNumber:null==o?void 0:o.accountNumber,creditAccountNumber:null==l?void 0:l.accountNumber,amount:null==s?void 0:s.amountGroup,country:null===(i=null===(_=null==l?void 0:l.creditorBank)||void 0===_?void 0:_.postalAddress)||void 0===i?void 0:i.country}}selectPaymentConfig(t){this.selectedPaymentConfigSub$.next(t)}selectPaymentOption(t){this.selectedPaymentOptionSub$.next(t)}getPaymentOptionsRequest(t){let _;if(1===t.length){const i=t[0];if("INTERNATIONAL_TRANSFER"!==i.paymentType)return ce.E;_=this.paymentOptionsService.getPaymentOptionsRecordByPaymentType(i.paymentType).pipe((0,B.U)(o=>(0,r.tPp)(o,{[i.paymentType]:i.name})))}else _=this.paymentOptionsService.paymentOptions$.pipe((0,Ae.h)(i=>!!i),(0,B.U)(i=>(0,r.tPp)(i||[])));return _}resetRedundantFields(t,_){(function Dl(n,a){const t=(0,r.iEs)(r.x2z.counterparty,n),_=(0,r.iEs)(r.IW3.postalAddress,t),i=a.get([r.x2z.counterparty,r.IW3.postalAddress]);!_&&i&&(0,r.Fvy)(i.value)&&i.reset()})(t,_),function Rl(n,a){const t=(0,r.iEs)(r.x2z.counterparty,n),_=(0,r.iEs)(r.IW3.creditorBank,t),i=_?(0,r.iEs)(r.IW3.postalAddress,_):null,o=a.get([r.x2z.counterparty,r.IW3.creditorBank,r.IW3.postalAddress]);if(yt(r.IW3.bic,t,a),yt(r.IW3.bankName,t,a),!i&&o&&(0,r.Fvy)(o.value))for(const l in o.controls)"country"!==l&&o.controls[l].reset()}(t,_)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Me))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Nl=(()=>{class n{constructor(t,_,i,o,l,s,u,c,d,m,S){var A,g;this.paymentOrderHttpService=t,this.paymentOptionsService=_,this.createPaymentService=i,this.navigationService=o,this.stateService=l,this.cdRef=s,this.createPaymentSetup=u,this.fieldSetupService=c,this.formEl=d,this.communicator=m,this.paymentErrors=S,this.destroyed$=new h.x,this.paymentTemplate=null,this.shouldResetPaymentOptions=!1,this.formValue=null===(A=this.stateService.formInstance)||void 0===A?void 0:A.value,this.paymentTemplateSearch=new D.NI,this.fetchOptions$=new h.x,this.submitting$=new O.X(!1),this.paymentState$=this.stateService.paymentState$,this.paymentTemplates$=this.paymentOrderHttpService.paymentTemplates$,this.loadingTemplates$=this.paymentOrderHttpService.loading$,this.fetchingPaymentOptions$=new O.X(!1),this.paymentOptions$=this.fieldSetupService.paymentOptions$,this.paymentOptionsError$=this.fieldSetupService.paymentOptionsError$,this.selectedPaymentConfig$=this.createPaymentService.selectedPaymentConfig$,this.selectedPaymentOption$=this.createPaymentService.selectedPaymentOption$,this.fetchPaymentOptionsListener$=this.createPaymentSetup.fetchPaymentOptionsListener$,this.baseFields$=this.createPaymentSetup.baseFields$.pipe((0,B.U)(f=>(this.fieldSetupService.injectData(f),f))),this.options={},this.configs=[],this.templateNameControl=null===(g=this.stateService.formInstance)||void 0===g?void 0:g.get("templateName"),this.errors=[],this.isEditPaymentConfirmationDialogOpen=!1,this.enablePaymentTemplateSelector=!0,this.editPaymentHasNoChanges=!1,this.isErrorTitleDisplayed=!0,this.shouldApplyTemplate=!1,this.showApiError=!1,this.paymentMode=r.x66}ngOnInit(){(0,ke.a)([this.createPaymentSetup.configs$,this.createPaymentSetup.options$,this.stateService.paymentEditState$]).pipe((0,Pe.x)(),(0,T.R)(this.destroyed$)).subscribe(([t,_,i])=>{var o,l,s;this.options=_,this.editedPaymentDetails=i,this.isErrorTitleDisplayed=null!==(o=_.isErrorTitleDisplayed)&&void 0!==o?o:this.isErrorTitleDisplayed,this.enablePaymentTemplateSelector=null!==(l=_.enablePaymentTemplateSelector)&&void 0!==l?l:this.enablePaymentTemplateSelector,1===t.length&&(this.setArrangementBusFunctions(null===(s=t[0].options)||void 0===s?void 0:s.closedPaymentBusFns,t[0].businessFunction),this.onSelectConfig(t[0]));const{isOneOffToRecurrentAllowed:u,isRecurrentToOneOffAllowed:c}=_;this.configs=t.map(d=>{let m=_.isTemplateMode?(0,r.nO0)(d):d;return i&&(m=(0,r.s8M)(d,!!i.schedule,{isOneOffToRecurrentAllowed:u,isRecurrentToOneOffAllowed:c})),this.fieldSetupService.injectData(m.fields,m.options),m}),this.setupPaymentTypes(this.configs),this.header=this.createPaymentSetup.getHeader(r.WN5.FORM)}),this.listen(),this.stateService.currentState!==r.KyD.EDIT&&(this.fieldSetupService.clearPaymentOptions(),this.shouldResetPaymentOptions=!0),this.createPaymentService.getPaymentOptionsRequest(this.configs).pipe((0,Z.b)(t=>{!this.shouldResetPaymentOptions&&!(null==t?void 0:t.length)&&this.fieldSetupService.setPaymentOptionsError(!0),this.shouldResetPaymentOptions=!1,this.onPaymentTypeChange(t)},(0,P.K)(()=>(this.fieldSetupService.setPaymentOptionsError(!0),(0,U.of)([])))),(0,T.R)(this.destroyed$)).subscribe(),(0,r.cNf)(this.createPaymentSetup.hooks,r.w_v.onInit)}ngAfterViewInit(){this.stateService.paymentTemplateState$.pipe((0,T.R)(this.destroyed$)).subscribe(t=>{t&&this.onSelectPaymentTemplate(t)}),this.editedPaymentDetails&&(this.setEditFormValues(this.editedPaymentDetails),this.stateService.setEditPayment(void 0))}ngAfterContentInit(){this.renderView()}ngOnDestroy(){this.destroyed$.next(),(0,r.cNf)(this.createPaymentSetup.hooks,r.w_v.onDestroy)}setArrangementBusFunctions(t,_){if((null==t?void 0:t.length)&&_){const i=new Set([...t,_]);t=Array.from(i),this.paymentOrderHttpService.arrangementBusFunctions=t.toString()}}setEditFormValues(t){const _=this.stateService.formInstance,i=_.get(r.x2z.counterparty);(0,L._V)(i,r.IW3.schemeName,[],[],"BBAN"),(0,L._V)(_,"paymentOrderId",[],[],t.id),this.isPaymentCopyControl=(0,L._V)(_,r.X7M.isPaymentCopy),this.isPaymentCopyControl.patchValue(this.options.paymentMode===this.paymentMode.COPY_PAYMENT);const o=(0,r.unb)(_,t);this.stateService.initialEditFormValue=o.value,this.setForm(o)}setupPaymentTypes(t){this.paymentTypes=t.map(_=>_.paymentType).join(","),this.paymentOrderHttpService.paymentType=this.paymentTypes}renderView(){this.outletRef.clear(),this.outletRef.createEmbeddedView(this.contentRef)}setTemplateValues(t,_){this.setFormValues(bt(_),t),this.paymentTemplate=null,this.stateService.setPaymentTemplate(void 0)}prepareForTemplateApply(){const t=new D.cw({});this.formValue=null,this.fieldSetupService.setPaymentOptions([]),this.templateNameControl=(0,L._V)(t,"templateName"),this.stateService.saveForm(t)}getPaymentConfig(t){if(t)return this.configs.filter(_=>t===_.paymentType)[0]}setFormValues({details:t,name:_,id:i},o){var l;const s=o||this.stateService.formInstance,u=(0,r.gxK)(s,t,{name:_,id:i});this.templateSelectorName=_,null===(l=this.templateNameControl)||void 0===l||l.setValue(_),this.setForm(u),s.markAllAsTouched()}listen(){this.fetchOptions$.pipe((0,Ae.h)(t=>JSON.stringify(Ee.getCriticalFieldValues(this.formValue))!==JSON.stringify(Ee.getCriticalFieldValues(t.getRawValue()))),(0,Se.w)(t=>(this.formValue=t.getRawValue(),this.fetchPaymentOptions(t))),(0,T.R)(this.destroyed$)).subscribe()}setForm(t){this.stateService.setPaymentState(r.KyD.EDIT),this.stateService.saveForm(t),this.renderView(),this.cdRef.detectChanges()}onPaymentTypeChange(t=[]){t&&t.length&&this.fieldSetupService.setPaymentOptionsError(!1),this.fieldSetupService.setPaymentOptions(t),this.fetchingPaymentOptions$.next(!1)}validatePayment(t){this.paymentOrderHttpService.validatePayment((0,r.SwY)(t.getRawValue())).pipe((0,ln.q)(1),(0,P.K)(({error:_})=>(this.submitting$.next(!1),this.errors=_.errors,this.isLimitBreachError(this.errors)?(this.showApiError=!1,this.handleLimitBreachError(this.errors[0])):(this.genericError=_.message,this.showApiError=!0,this.scrollIntoAlertView()),ce.E))).subscribe(_=>{this.stateService.saveValidationWarnings(null==_?void 0:_.warnings);const i=t.get("isIntraLegalEntity")||(0,L._V)(t,"isIntraLegalEntity");this.templateNameControl=this.templateNameControl||(0,L._V)(t,"templateName"),i.setValue(null==_?void 0:_.isIntraLegalEntityPaymentOrder),this.templateNameControl.setValue(this.templateSelectorName),this.submitting$.next(!1),this.navigationService.review(),this.stateService.canApprove=null==_?void 0:_.canApprove})}handleLimitBreachError(t){var _,i,o,l,s,u;if(null==t?void 0:t.key){const c=(0,r.iEs)(r.IHR.amountCurrencyGroup,this.configs[0]),d=null===(i=null===(_=null==c?void 0:c.options)||void 0===_?void 0:_.validationMessages)||void 0===i?void 0:i.find(m=>m.name===t.key);if(null==d?void 0:d.message){d.message=d.message.replace("#amount#",null===(o=t.context)||void 0===o?void 0:o.limit);const m=null===(l=this.stateService.formInstance.get(r.x2z.remittanceInfo))||void 0===l?void 0:l.get(r.IHR.amountCurrencyGroup);null==m||m.setErrors({[t.key]:!0}),null===(s=null==m?void 0:m.get(r.IHR.amount))||void 0===s||s.setErrors({invalid:!0}),(0,r.$ZS)(null===(u=this.formEl)||void 0===u?void 0:u.nativeElement,"small.bb-input-validation-message")}}}scrollIntoAlertView(){var t;null===(t=this.alertContainer)||void 0===t||t.nativeElement.scrollIntoView(!1,{behavior:"smooth",block:"start"})}isLimitBreachError(t){if(!Array.isArray(t)||!t.length)return!1;const _=t[0].key;return this.doesKeyExistInObject(_,r.x6u)||this.doesKeyExistInObject(_,r.CjG)}doesKeyExistInObject(t,_){return Object.values(_).includes(t)}saveTemplate(t){this.options.paymentMode===r.x66.EDIT_TEMPLATE?this.editPaymentTemplate(t):this.createPaymentTemplate(t)}editPaymentTemplate(t){var _,i;const o=null===(_=t.get(r.ZDt.templateName))||void 0===_?void 0:_.value,l=null===(i=t.get(r.ZDt.paymentTemplateId))||void 0===i?void 0:i.value;l&&this.paymentOrderHttpService.editPaymentTemplate(l,(0,r.enM)(t.getRawValue())).pipe((0,T.R)(this.destroyed$)).subscribe(this.saveTemplateSuccessCallback.bind(this,o),this.saveTemplateErrorCallback.bind(this))}createPaymentTemplate(t){var _;const i=null===(_=t.get(r.ZDt.templateName))||void 0===_?void 0:_.value;this.paymentOrderHttpService.postPaymentTemplate((0,r.enM)(t.getRawValue())).pipe((0,T.R)(this.destroyed$)).subscribe(this.saveTemplateSuccessCallback.bind(this,i),this.saveTemplateErrorCallback.bind(this))}saveTemplateSuccessCallback(t){var _;this.paymentOrderHttpService.showNotification(!0,{header:Oe.templateSaveSuccess(t),headerContext:{name:t}}),this.submitting$.next(!1),this.options.isModalView?null===(_=this.communicator)||void 0===_||_.closeEvent():(this.stateService.resetForm(),this.renderView())}saveTemplateErrorCallback(t){const{error:_}=t;this.genericError=_.message||Oe.templateSaveFailed,this.showApiError=!0,this.scrollIntoAlertView(),this.submitting$.next(!1)}onHooksDone(t,_=!0){_?this.options.isTemplateMode?this.saveTemplate(t):this.validatePayment(t):this.submitting$.next(!1)}isEditFormNotChanged(t){return!(0,L.kR)(t.value,this.stateService.initialEditFormValue)}onSelectPaymentTemplate(t){const _=this.getPaymentConfig(ft(t));this.configs.length>1&&_?(this.prepareForTemplateApply(),this.paymentTemplate=bt(t),this.shouldApplyTemplate=!0,this.stateService.setPaymentState(r.KyD.EDIT),this.onSelectConfig(_),this.renderView()):this.setFormValues(t)}clearTemplateName(){this.templateSelectorName="",this.templateNameControl&&this.templateNameControl.setValue("")}onLoadingMoreTemplates(t){this.paymentOrderHttpService.loadMore(t)}search(t){this.paymentOrderHttpService.search(t)}onSelectConfig(t){this.createPaymentService.selectPaymentConfig(t)}onPaymentOptionSelect(t){this.createPaymentService.selectPaymentOption(t)}onApplyTemplate(t){this.shouldApplyTemplate=!1,this.paymentTemplate?this.setTemplateValues(t,this.paymentTemplate):this.stateService.paymentTemplateState$.pipe((0,T.R)(this.destroyed$)).subscribe(_=>{_&&this.setTemplateValues(t,_)})}fetchPaymentOptions(t){return this.fetchingPaymentOptions$.next(!0),this.paymentOptionsService.fetchPaymentOptions(((n,a="",t="")=>{const{creditorBank:_}=n.counterparty,i=_&&_.postalAddress&&_.postalAddress.country,o=_&&_.bankBranchCode,l=(0,r.JN_)(n);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a?{clientServiceAgreementID:a}:null),t?{clientJurisdiction:t}:null),{originatorAccount:{identification:n.initiator.id,schemeName:Y.sT.ID},counterpartyAccount:Object.assign(Object.assign({},o?{bankBranchCode:o}:null),{identification:(0,r.u2M)(l===Y.sT.ID?n.counterparty.id:n.counterparty.accountNumber),schemeName:l}),requestedExecutionDate:(new Date).toISOString().substring(0,10),instructedAmount:{amount:n.remittanceInfo.amountGroup.amount,currencyCode:n.remittanceInfo.amountGroup.currency}}),i?{counterpartyCountry:i}:null),{additions:n.additions})})(t.getRawValue()))}discardPayment(){var t;null===(t=this.communicator)||void 0===t||t.closeEvent()}discardEditPaymentChanges(){var t;null===(t=this.communicator)||void 0===t||t.closeEvent()}cancelEditPaymentConfirmationDialog(){this.isEditPaymentConfirmationDialogOpen=!1}onSubmit(t){var _;const i=this.createPaymentService.selectedPaymentConfigValue;i&&this.createPaymentService.resetRedundantFields(i,t),this.stateService.saveForm(t),this.submitting$.next(!0),(null===(_=this.createPaymentSetup.hooks)||void 0===_?void 0:_[r.w_v.onSave])?(0,r.cNf)(this.createPaymentSetup.hooks,r.w_v.onSave,this.onHooksDone.bind(this,t),t):this.onHooksDone(t)}onClear(){this.fieldSetupService.clearPaymentOptions(),this.stateService.setPaymentState(r.KyD.INITIAL),this.stateService.resetForm(),this.clearTemplateName(),this.formValue=null,this.searchValue="",this.showApiError=!1,this.renderView()}onEditCancel(t){var _;this.isEditFormNotChanged(t)?null===(_=this.communicator)||void 0===_||_.closeEvent():this.isEditPaymentConfirmationDialogOpen=!0}onEditSubmit(t){this.isEditFormNotChanged(t)?(this.editPaymentHasNoChanges=!0,this.scrollIntoAlertView()):(this.editPaymentHasNoChanges=!1,this.onSubmit(t))}getForm(t){return t===r.KyD.REVIEW&&(this.stateService.resetForm(),this.stateService.setPaymentState(r.KyD.INITIAL)),this.stateService.form$}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(me),e.Y36(Me),e.Y36(Ee),e.Y36(xe),e.Y36(r.b2t),e.Y36(e.sBO),e.Y36(ie),e.Y36(It),e.Y36(e.SBq),e.Y36(ye,8),e.Y36(Le,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-create-payment-form"]],viewQuery:function(t,_){if(1&t&&(e.Gf(r_,7,e.s_b),e.Gf(s_,7,e.Rgc),e.Gf(ut,5)),2&t){let i;e.iGM(i=e.CRH())&&(_.outletRef=i.first),e.iGM(i=e.CRH())&&(_.contentRef=i.first),e.iGM(i=e.CRH())&&(_.alertContainer=i.first)}},features:[e._Bn([It])],decls:14,vars:5,consts:function(){let a,t,_,i,o,l,s,u;return a="Please make changes to continue.",t=" Payment data error: ",_=" Payment data error: ",i="Server error: Unknown error occurred",o="Discard edited data?",l=" Are you sure you want to exit and discard all changes? Edited data will be lost. ",s="Discard",u="Not now",[["headingClasses","bb-block bb-block--lg","headingType","h2",3,"heading",4,"ngIf"],["alertContainer",""],[4,"ngIf","ngIfElse"],["noSpecificError",""],["unknownError",""],["title",a,"modifier","warning",4,"ngIf"],[4,"ngIf"],["outlet",""],["content",""],["headingClasses","bb-block bb-block--lg","headingType","h2",3,"heading"],[4,"ngFor","ngForOf"],["title","","modifier","error",4,"ngIf"],["title","","modifier","error"],[1,"bb-text-bold","bb-text-default","d-inline-flex"],t,[1,"bb-text-bold","bb-text-default"],_,["title",i,"modifier","error",4,"ngIf"],["title",i,"modifier","error"],["title",a,"modifier","warning"],[3,"paymentTemplateSearch","items","loading","templateName","searchValue","setValues","loadMoreTemplates","searchTemplates","clear"],["adaptiveFormTmpl",""],[3,"config","formItem","submitting","isModalView","isTemplateMode","isDebitPayment","paymentMode","templateModeType","clear","discard","submitted","editPaymentCancel","editPaymentSubmit"],["data-role","discard-payment-edit-confirmation-dialog","confirmButtonColor","danger",3,"isOpen","confirm","cancel"],["title",""],o,["body",""],l,["confirmActionName",""],s,["cancelActionName",""],u,[3,"formItem","paymentState","paymentTypes","baseFields","fetchOptions$","fetchingOptions","paymentOptions$","paymentOptionsError","selectedPaymentConfig","selectedPaymentOption","fetchPaymentOptionsListener","shouldApplyTemplate","checkClosedPaymentsAccess","submitting","isModalView","isDebitPayment","selectConfig","discard","submitted","selectPaymentOption","clear","applyPaymentTemplate"]]},template:function(t,_){if(1&t&&(e.YNc(0,c_,1,1,"bb-header-ui",0),e.TgZ(1,"div",null,1),e.YNc(3,p_,2,1,"ng-container",2),e.YNc(4,B_,1,2,"ng-template",null,3,e.W1O),e.YNc(6,b_,2,1,"ng-template",null,4,e.W1O),e.YNc(8,y_,1,0,"bb-alert-ui",5),e.qZA(),e.YNc(9,M_,3,7,"ng-container",6),e.GkF(10,null,7),e.YNc(12,v_,2,3,"ng-template",null,8,e.W1O)),2&t){const i=e.MAs(5);e.Q6J("ngIf",_.header),e.xp6(3),e.Q6J("ngIf",null==_.errors?null:_.errors.length)("ngIfElse",i),e.xp6(5),e.Q6J("ngIf",_.editPaymentHasNoChanges),e.xp6(1),e.Q6J("ngIf",_.enablePaymentTemplateSelector&&!(null!=_.options&&_.options.isTemplateMode)&&(null==_.options?null:_.options.paymentMode)!==_.paymentMode.EDIT_PAYMENT&&(null==_.options?null:_.options.paymentMode)!==_.paymentMode.COPY_PAYMENT)}},directives:[x.G,G.w,r.bJM,L.Bb,r.fDO,L.P0,E.O5,E.sg],pipes:[E.Ov],encapsulation:2}),n})();const Tt=new e.OlP("INITIATE_PAYMENT_EXTENSIONS_CONFIG");var _e=(()=>{return(n=_e||(_e={})).SUCCESS="success",n.ERROR="error",n.PENDING="pending",n.PENDING_EDITED="pending_edited",_e;var n})();let vt=(()=>{class n{constructor(t,_,i,o){this.contactsData=t,this.paymentOrderHttpService=_,this.paymentOrderService=i,this.paymentApiService=o}postPaymentOrder(t){return this.paymentOrderHttpService.postPaymentOrders({paymentOrdersPost:t})}putPaymentOrder(t,_){return this.paymentOrderHttpService.putPaymentOrderById({paymentOrderId:_,paymentOrderPut:t})}saveNewContact(t){return this.contactsData.postContacts({contactsPostRequestBody:t}).pipe((0,P.K)(()=>(0,U.of)(null)))}getPayment(t){return this.paymentApiService.getPaymentById(t)}getPaymentProgressStatus(t){return this.paymentOrderHttpService.getProgressStatusByPaymentOrderId({paymentOrderId:t})}createPermissions(){return this.paymentOrderService.createPermission$.pipe((0,B.U)(()=>!0),(0,P.K)(t=>(0,U.of)(!1)))}showNotification(t,_){this.paymentOrderService.showNotification(t,_)}postPaymentTemplate(t){return this.paymentOrderService.postPaymentTemplate(t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ce.Eq),e.LFG(Q.k4),e.LFG(me),e.LFG(Re))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),ht=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-initiator-details"]],inputs:{data:"data",paymentConfig:"paymentConfig"},decls:3,vars:2,consts:function(){let a;return a="From",[[1,"bb-text-bold","bb-block","bb-block--sm"],["name","debitorAccount","parentName","initiator","defaultLabel",a,3,"config"],[4,"ngIf"],["data-role","debit-account-name",1,"break-word","bb-text-bold","bb-block","bb-block--xs"],["data-role","debit-account-number",1,"bb-text-support","break-word","contextual-alternates-off"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-payord-dynamic-label",1),e.qZA(),e.YNc(2,h_,5,2,"div",2)),2&t&&(e.xp6(1),e.Q6J("config",_.paymentConfig),e.xp6(1),e.Q6J("ngIf",null==_.data?null:_.data.accountNumber))},directives:[N,E.O5],encapsulation:2}),n})(),Pt=(()=>{class n{constructor(t){this.maskPipe=t}get accountNumber(){var t;const _=null===(t=this.data)||void 0===t?void 0:t.accountNumber;return"IBAN"===this.data.schemeName?this.maskPipe.transform(_,r.a$):_}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ae.Iq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-creditor-account"]],inputs:{data:"data",paymentConfig:"paymentConfig"},decls:3,vars:2,consts:function(){let a;return a="To",[[1,"bb-text-bold","bb-block","bb-block--sm"],["name","creditorAccount","parentName","counterparty","defaultLabel",a,3,"config"],[4,"ngIf"],["data-role","beneficiary-account-name",1,"bb-text-bold","bb-block","bb-block--xs"],[1,"bb-text-support","break-word","contextual-alternates-off"],["data-role","beneficiary-account-number"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-payord-dynamic-label",1),e.qZA(),e.YNc(2,P_,6,2,"div",2)),2&t&&(e.xp6(1),e.Q6J("config",_.paymentConfig),e.xp6(1),e.Q6J("ngIf",_.accountNumber||(null==_.data||null==_.data.creditorBank?null:_.data.creditorBank.bankBranchCode)))},directives:[N,E.O5],encapsulation:2}),n})(),Dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-remittance-details"]],inputs:{data:"data",paymentConfig:"paymentConfig",forexDetails:"forexDetails",transferFee:"transferFee",chargeBearer:"chargeBearer"},decls:6,vars:6,consts:function(){let a,t;return a="Amount",t="Urgent Payment",[[1,"bb-text-bold","bb-block","bb-block--sm"],["name","amountGroup","defaultLabel",a,3,"config"],["data-role","transfer-amount",1,"bb-highlight","break-word"],[1,"bb-heading-1",3,"amount","currency","mapCurrency"],["data-role","payment-is-urgent","class","bb-stack",4,"ngIf"],["class","bb-stack bb-text-support",4,"ngIf"],["data-role","payment-is-urgent",1,"bb-stack"],["color","secondary","name","info","size","md"],t,[1,"bb-stack","bb-text-support"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-payord-dynamic-label",1),e.qZA(),e.TgZ(2,"div",2),e._UZ(3,"bb-amount-ui",3),e.qZA(),e.YNc(4,D_,5,0,"div",4),e.YNc(5,R_,3,1,"div",5)),2&t&&(e.xp6(1),e.Q6J("config",_.paymentConfig),e.xp6(2),e.Q6J("amount",null==_.data||null==_.data.amountGroup?null:_.data.amountGroup.amount)("currency",null==_.data||null==_.data.amountGroup?null:_.data.amountGroup.currency)("mapCurrency",!1),e.xp6(1),e.Q6J("ngIf",null==_.data?null:_.data.urgent),e.xp6(1),e.Q6J("ngIf",null==_.data?null:_.data.amountOptionLabel))},directives:[N,K.G4,v.o,E.O5],encapsulation:2}),n})(),Rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-creditor-details"]],inputs:{data:"data",paymentConfig:"paymentConfig"},decls:1,vars:1,consts:function(){let a,t,_,i,o,l,s,u,c;return a=" Beneficiary Details ",t="Account type",_=" Savings ",i=" Checking ",o="Standard entry class (SEC Type)",l=" Personal (PPD) ",s=" Business (CCD) ",u="Recipient ID",c="Beneficiary Address",[[4,"ngIf"],[1,"card","card-sm","card--highlight","card--shadowless","bb-block","bb-block--md"],[1,"card-body"],[1,"bb-text-bold","bb-block","bb-block--md"],a,["class","row bb-block bb-block--md",4,"ngIf"],[1,"row","bb-block","bb-block--md"],["class","col-md-6 bb-block bb-block--md",4,"ngIf"],[1,"col-md-6","bb-block","bb-block--md"],[1,"bb-text-bold"],["name","accountType","parentName","counterparty","defaultLabel",t,3,"config"],["data-role","beneficiary-account-type",3,"ngSwitch"],[4,"ngSwitchCase"],_,i,["name","entryClass","parentName","counterparty","defaultLabel",o,3,"config"],["data-role","beneficiary-standard-entry-class",3,"ngSwitch"],l,s,["data-role","payment-counterparty-recipient-id-label",1,"bb-text-bold","break-word"],["name","recipientId","parentName","counterparty","defaultLabel",u,3,"config"],["data-role","payment-counterparty-recipient-id"],c,[1,"break-word"],[3,"address"]]},template:function(t,_){1&t&&e.YNc(0,Z_,8,3,"ng-container",0),2&t&&e.Q6J("ngIf",(null==_.data?null:_.data.entryClass)||(null==_.data?null:_.data.accountType)||(null==_.data?null:_.data.recipientId)||(null==_.data||null==_.data.postalAddress?null:_.data.postalAddress.addressLine1)||(null==_.data||null==_.data.postalAddress?null:_.data.postalAddress.addressLine2)||(null==_.data||null==_.data.postalAddress?null:_.data.postalAddress.streetName))},directives:[N,r.poS,E.O5,E.RF,E.n9],encapsulation:2}),n})(),Ut=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-counterparty-details"]],inputs:{data:"data",paymentConfig:"paymentConfig"},decls:4,vars:4,consts:function(){let a,t,_,i,o,l,s,u,c,d,m,S,A,g;return a=" Beneficiary Bank Details ",t="SWIFT/BIC Code",_="Bank Name",i="Bank Address",o=" Correspondent Bank Details ",l="Routing Transit Number (ABA)",s="SWIFT/BIC Code",u="Bank Name",c="Bank address",d=" Intermediary Bank Details ",m="Routing Transit Number (ABA)",S="SWIFT/BIC Code",A="Bank Name",g="Bank Address",[["class","card card-sm card--highlight card--shadowless bb-block bb-block--md",4,"ngIf"],[4,"ngIf"],[1,"card","card-sm","card--highlight","card--shadowless","bb-block","bb-block--md"],[1,"card-body"],[1,"bb-text-bold","bb-block","bb-block--md"],a,["class","bb-block bb-block--md",4,"ngIf"],[1,"bb-block","bb-block--md"],[1,"row"],["class","col-6",4,"ngIf"],[1,"col-6"],[1,"bb-text-bold"],["name","bic","defaultLabel",t,3,"config"],["class","break-word","data-role","counterparty-bic-code",4,"ngIf"],["data-role","counterparty-bic-code",1,"break-word"],["name","bankName","parentName","creditorBank","defaultLabel",_,3,"config"],[1,"break-word"],i,[3,"address"],o,["name","bankBranchCode","parentName","correspondentBank","defaultLabel",l,3,"config"],[1,"bb-text-support"],["name","bic","parentName","correspondentBank","defaultLabel",s,3,"config"],["class","break-word","data-role","correspondent-bic-code",4,"ngIf"],["data-role","correspondent-bic-code",1,"break-word"],["name","bankName","parentName","correspondentBank","defaultLabel",u,3,"config"],c,d,["class","bb-text-bold",4,"ngIf"],["name","bankBranchCode","parentName","intermediaryBank","defaultLabel",m,3,"config"],["name","bic","parentName","intermediaryBank","defaultLabel",S,3,"config"],["name","bankName","parentName","intermediaryBank","defaultLabel",A,3,"config"],g]},template:function(t,_){1&t&&(e.YNc(0,Y_,6,2,"div",0),e.YNc(1,ta,6,2,"div",0),e.YNc(2,ra,6,2,"div",0),e.YNc(3,sa,1,0,"hr",1)),2&t&&(e.Q6J("ngIf",(null==_.data||null==_.data.creditorBank?null:_.data.creditorBank.bankName)||(null==_.data||null==_.data.creditorBank?null:_.data.creditorBank.bic)||(null==_.data||null==_.data.creditorBank||null==_.data.creditorBank.postalAddress?null:_.data.creditorBank.postalAddress.addressLine1)||(null==_.data||null==_.data.creditorBank||null==_.data.creditorBank.postalAddress?null:_.data.creditorBank.postalAddress.addressLine2)||(null==_.data||null==_.data.creditorBank||null==_.data.creditorBank.postalAddress?null:_.data.creditorBank.postalAddress.streetName)),e.xp6(1),e.Q6J("ngIf",(null==_.data||null==_.data.correspondentBank?null:_.data.correspondentBank.bankName)||(null==_.data||null==_.data.correspondentBank?null:_.data.correspondentBank.bic)||(null==_.data||null==_.data.correspondentBank?null:_.data.correspondentBank.bankBranchCode)||(null==_.data||null==_.data.correspondentBank||null==_.data.correspondentBank.postalAddress?null:_.data.correspondentBank.postalAddress.addressLine1)||(null==_.data||null==_.data.correspondentBank||null==_.data.correspondentBank.postalAddress?null:_.data.correspondentBank.postalAddress.addressLine2)||(null==_.data||null==_.data.correspondentBank||null==_.data.correspondentBank.postalAddress?null:_.data.correspondentBank.postalAddress.streetName)),e.xp6(1),e.Q6J("ngIf",(null==_.data||null==_.data.intermediaryBank?null:_.data.intermediaryBank.bankName)||(null==_.data||null==_.data.intermediaryBank?null:_.data.intermediaryBank.bic)||(null==_.data||null==_.data.intermediaryBank?null:_.data.intermediaryBank.bankBranchCode)||(null==_.data||null==_.data.intermediaryBank||null==_.data.intermediaryBank.postalAddress?null:_.data.intermediaryBank.postalAddress.addressLine1)||(null==_.data||null==_.data.intermediaryBank||null==_.data.intermediaryBank.postalAddress?null:_.data.intermediaryBank.postalAddress.addressLine2)||(null==_.data||null==_.data.intermediaryBank||null==_.data.intermediaryBank.postalAddress?null:_.data.intermediaryBank.postalAddress.streetName)),e.xp6(1),e.Q6J("ngIf",(null==_.data||null==_.data.creditorBank?null:_.data.creditorBank.bankName)||(null==_.data||null==_.data.creditorBank?null:_.data.creditorBank.bic)||(null==_.data||null==_.data.creditorBank||null==_.data.creditorBank.postalAddress?null:_.data.creditorBank.postalAddress.addressLine1)||(null==_.data||null==_.data.creditorBank||null==_.data.creditorBank.postalAddress?null:_.data.creditorBank.postalAddress.addressLine2)||(null==_.data||null==_.data.creditorBank||null==_.data.creditorBank.postalAddress?null:_.data.creditorBank.postalAddress.streetName)||(null==_.data||null==_.data.correspondentBank?null:_.data.correspondentBank.bankName)||(null==_.data||null==_.data.correspondentBank?null:_.data.correspondentBank.bic)||(null==_.data||null==_.data.correspondentBank?null:_.data.correspondentBank.bankBranchCode)||(null==_.data||null==_.data.correspondentBank||null==_.data.correspondentBank.postalAddress?null:_.data.correspondentBank.postalAddress.addressLine1)||(null==_.data||null==_.data.correspondentBank||null==_.data.correspondentBank.postalAddress?null:_.data.correspondentBank.postalAddress.addressLine2)||(null==_.data||null==_.data.correspondentBank||null==_.data.correspondentBank.postalAddress?null:_.data.correspondentBank.postalAddress.streetName)||(null==_.data||null==_.data.intermediaryBank?null:_.data.intermediaryBank.bankName)||(null==_.data||null==_.data.intermediaryBank?null:_.data.intermediaryBank.bic)||(null==_.data||null==_.data.intermediaryBank?null:_.data.intermediaryBank.bankBranchCode)||(null==_.data||null==_.data.intermediaryBank||null==_.data.intermediaryBank.postalAddress?null:_.data.intermediaryBank.postalAddress.addressLine1)||(null==_.data||null==_.data.intermediaryBank||null==_.data.intermediaryBank.postalAddress?null:_.data.intermediaryBank.postalAddress.addressLine2)||(null==_.data||null==_.data.intermediaryBank||null==_.data.intermediaryBank.postalAddress?null:_.data.intermediaryBank.postalAddress.streetName)))},directives:[N,r.poS,E.O5],encapsulation:2}),n})(),Nt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-schedule-details"]],inputs:{data:"data",paymentConfig:"paymentConfig"},decls:3,vars:3,consts:function(){let a,t,_,i,o,l,s;return a="Transfer Date",t="Frequency",_="{VAR_SELECT, select, other {Once} DAILY {Daily} WEEKLY {Weekly} BIWEEKLY {Bi-Weekly} MONTHLY {Monthly} QUARTERLY {Quarterly} YEARLY {Annually}}",_=e.Zx4(_,{VAR_SELECT:"\ufffd0\ufffd"}),i=" " + _ + " ",o="End After",l="occurrences",s="End Date",[["class","bb-block bb-block--md bb-stack bb-stack--align-top",4,"ngIf"],[4,"ngIf"],[1,"bb-block","bb-block--md","bb-stack","bb-stack--align-top"],["name","today",1,"bb-stack__item","bb-stack__item--spacing-sm"],[1,"bb-stack__item"],[1,"bb-text-bold","bb-block","bb-block--xs"],["name","startDate","parentName","schedule","defaultLabel",a,3,"config"],["data-role","execution-date"],[1,"row"],[1,"bb-text-support","bb-subtitle","col-md-6"],["name","cached",1,"bb-stack__item","bb-stack__item--spacing-sm"],["name","frequency","parentName","schedule","defaultLabel",t,3,"config"],["data-role","frequency-value"],i,["data-role","end-after-label",1,"bb-text-bold","bb-block","bb-block--xs"],["name","repeat","parentName","schedule","defaultLabel",o,3,"config"],["data-role","end-after"],l,["data-role","end-date-label",1,"bb-text-bold","bb-block","bb-block--xs"],["name","endDate","parentName","schedule","defaultLabel",s,3,"config"],["data-role","end-date"]]},template:function(t,_){1&t&&(e.YNc(0,ca,11,6,"div",0),e.YNc(1,da,7,2,"div",0),e.YNc(2,pa,2,1,"div",1)),2&t&&(e.Q6J("ngIf",null==_.data?null:_.data.startDate),e.xp6(1),e.Q6J("ngIf",(null==_.data||null==_.data.frequency?null:_.data.frequency.value)||(null==_.data?null:_.data.frequency)),e.xp6(1),e.Q6J("ngIf",(null==_.data||null==_.data.frequency?null:_.data.frequency.value)||(null==_.data?null:_.data.frequency)))},directives:[v.o,N,E.O5],pipes:[E.uU],encapsulation:2}),n})(),Lt=(()=>{class n{constructor(t){this.identityService=t,this.successImg="./assets/initiate-payment-journey-ang/succeed.svg",this.successImgNoMotion="./assets/initiate-payment-journey-ang/no-motion.svg",this.timestamp=(new Date).getTime()}ngOnInit(){var t,_;this.isLoading$=(0,rn.T)(null===(t=this.methods)||void 0===t?void 0:t.isSubmitting$(),null===(_=this.identityService)||void 0===_?void 0:_.requestSubject.pipe((0,B.U)(()=>!1)))}get errorText(){var t,_,i;const o=null===(_=null===(t=this.breachError)||void 0===t?void 0:t.reasonText)||void 0===_?void 0:_.split("|")[1];if(this.isUserDeclined)return "";switch(null===(i=this.breachError)||void 0===i?void 0:i.reasonCode){case X.DAILY:return "The amount exceeds the daily limit of " + o + "";case X.MONTHLY:return "The amount exceeds the monthly limit of " + o + "";case X.MAX_TRANSFER:return "This amount can't exceed " + o + "";case X.MIN_TRANSFER:return "This amount can't be lower than " + o + "";case R.MIN_TRANSFER:return "This amount can't be lower than " + o + ". Please enter a higher amount";case R.MAX_OUTGOING_TRANSFER:case R.MAX_INCOMING_TRANSFER:return "This amount can't be higher than " + o + ". Please enter a lower amount";case R.MAX_COMBINED_DAILY_TRANSFER:case R.MAX_OUTGOING_DAILY_TRANSFER:case R.MAX_INCOMING_DAILY_TRANSFER:return "The amount exceeds your daily limit of " + o + ". Please enter a lower amount or schedule this payment to a later date.";case R.MAX_COMBINED_MONTHLY_TRANSFER:case R.MAX_OUTGOING_MONTHLY_TRANSFER:case R.MAX_INCOMING_MONTHLY_TRANSFER:return "The amount exceeds your monthly limit of " + o + ". Please enter a lower amount or schedule this payment to a later date.";default:return "Failed to submit payment. Please try again later."}}get errorTitle(){var t;return Object.values(R).includes(null===(t=this.breachError)||void 0===t?void 0:t.reasonCode)?"Payment failed due to an exceeding limit for external transfer":this.breachError?"Payment Failed Due to an Exceeding Limit":this.isUserDeclined?"Your Transfer Has Been Cancelled.":""}get isScheduledTransfer(){var t;const _=(0,r.qwi)(),i=(0,r.qwi)(null===(t=this.payment)||void 0===t?void 0:t.schedule.startDate);return new Date(i)>new Date(_)}get isUserDeclined(){return this.status===ue.mN.USER_DECLINED}get isErrorResponse(){return this.status===ue.mN.USER_DECLINED||"ERROR"===this.status||!!this.breachError||this.status===ue.mN.REJECTED}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ue.ov,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-adapted-review-container"]],inputs:{payment:"payment",status:"status",paymentConfig:"paymentConfig",methods:"methods",breachError:"breachError",executionInBankTimezoneMessage:"executionInBankTimezoneMessage"},ngContentSelectors:Za,decls:11,vars:2,consts:function(){let a,t,_,i,o,l,s,u,c,d,m,S,A,g,f,F,w,k,W,y,I,le,pe,re;return a="Discard entered data?",t=" Review Your Transfer ",_=" Edit ",i=" Cancel ",o=" Intracompany payment ",l="Memo",s="Payment reference",u="Message to beneficiary",c="Message to beneficiary bank",d=" Confirm Transfer ",m=" Confirm Transfer ",S=" Submit and Approve ",A="Success!",g="Success!",f=" You\u2019ve just transferred " + "\ufffd0\ufffd" + " " + "\ufffd1\ufffd" + " to " + "\ufffd2\ufffd" + ". ",F=" You\u2019ve just scheduled transfer to " + "\ufffd0\ufffd" + ". ",w=" You\u2019ve just edited the scheduled transfer to " + "\ufffd0\ufffd" + ". ",k="" + "\ufffd0\ufffd" + " is saved to your contacts",W="Can\u2019t save " + "\ufffd0\ufffd" + " to your contacts. Please try again later.",y=" Make another transfer ",I=" View scheduled transfers ",le=" Are you sure to exit and discard all changes? Entered data will be lost. ",pe=" Discard ",re=" Cancel ",[[4,"ngTemplateOutlet"],["reviewTemplate",""],["successScreen",""],[3,"isOpen","cancel","confirm"],["title",a],["bbCustomModalBody",""],["bbCustomModalFooter",""],["data-role","adapted-review-loader","class","bb-loading-indicator-wrapper bb-loading-indicator-wrapper--overlay",4,"ngIf"],[1,"bb-fieldset","omni-payment-adapted-review"],[1,"bb-label","bb-block","bb-block--lg"],t,[4,"ngIf"],[1,"bb-button-bar","bb-button-bar--reverse"],["bbButton","","class","bb-button-bar__button","data-role","submit-button",3,"disabled","click",4,"ngIf"],["class","btn-group bb-button-bar__button","data-role","button-group",4,"ngIf"],["bbButton","","color","secondary","data-role","edit-button",1,"bb-button-bar__button",3,"disabled","click"],_,["bbButton","","color","link","data-role","cancel-button",1,"bb-button-bar__button","bb-button-bar__button--across",3,"disabled","click"],i,["data-role","adapted-review-loader",1,"bb-loading-indicator-wrapper","bb-loading-indicator-wrapper--overlay"],["loaderSize","lg"],["modifier","error",3,"title","close",4,"ngIf"],["class","bb-block bb-block--sm bb-inline-stack bb-text-support",4,"ngIf"],[1,"bb-item-log","bb-block","bb-block--lg"],[1,"bb-item-log__record","item-log__record--has-bullet"],[1,"bb-stack","bb-stack--align-top"],[1,"bb-item-log-record__bullet-icon","bb-item-log-record__bullet-icon--filled","bb-stack__item","bb-stack__item--spacing-md"],[1,"bb-item-log-record__details"],[3,"data","paymentConfig"],[1,"bb-item-log-record__bullet-icon","bb-stack__item","bb-stack__item--spacing-md"],[1,"bb-block","bb-block--lg"],[3,"data","transferFee","chargeBearer","forexDetails","paymentConfig"],["modifier","error",3,"title","close"],["data-role","failure-message"],[1,"bb-block","bb-block--sm","bb-inline-stack","bb-text-support"],[1,"bb-inline-stack__item"],["name","domain"],[1,"bb-inline-stack__item","bb-text-bold"],o,["class","bb-block bb-block--md",4,"ngIf"],[1,"bb-block","bb-block--md","bb-inline-stack","bb-stack--align-top"],["name","subject",1,"bb-stack__item","bb-stack__item--spacing-sm"],[1,"bb-stack__item"],["data-role","payment-description-label",1,"bb-text-bold"],["name","description","parentName","remittanceInfo","defaultLabel",l,3,"config"],["data-role","payment-description",1,"break-word"],[1,"bb-block","bb-block--md"],["data-role","payment-reference-label",1,"bb-text-bold"],["name","paymentReference","parentName","remittanceInfo","defaultLabel",s,3,"config"],["data-role","payment-reference",1,"break-word"],[1,"bb-text-bold"],["name","remittanceInformation","defaultLabel",u,3,"config"],[1,"break-word"],["name","messageToBank","defaultLabel",c,3,"config"],[1,"bb-text-support"],["bbButton","","data-role","submit-button",1,"bb-button-bar__button",3,"disabled","click"],d,["data-role","button-group",1,"btn-group","bb-button-bar__button"],["color","primary",3,"isLoading","click"],m,["btnColor","primary","icon","caret-down","data-role","dropdown-menu","container","body","position","top-right",1,"btn-group"],["bbDropdownMenuItem",""],["role","menuitem","type","button","data-role","bus-submit-and-approve-button",1,"dropdown-item",3,"disabled","bbKeyboardClick"],S,[1,"bb-text-align-center","bb-block--xl"],["media","(prefers-reduced-motion: reduce)",3,"srcset"],["alt",A,"data-role","transfer-success-anim",1,"img-fluid",3,"srcset"],["headingClasses","bb-text-semi-bold","headingType","h2","heading",g],["data-role","adapted-success-message",4,"ngIf","ngIfElse"],["editPaymentMessageTemplate",""],["class","bb-text-align-center bb-block bb-block--xl",4,"ngIf"],[1,"bb-text-align-center"],["bbButton","","color","primary",3,"click",4,"ngIf"],["data-role","adapted-success-message"],["class","bb-text-support",4,"ngIf"],f,F,["data-role","adapted-success-edit-message",1,"bb-text-support"],w,[1,"bb-text-align-center","bb-block","bb-block--xl"],[1,"bb-payment-account-details-card","bb-inline-stack"],[1,"bb-inline-stack"],[4,"ngIf","ngIfElse"],["saveContactFail",""],["name","success","color","success",1,"bb-stack__item","bb-stack__item--spacing-sm"],k,["name","error-outline","color","danger",1,"bb-stack__item","bb-stack__item--spacing-sm"],W,["bbButton","","color","primary",3,"click"],y,I,le,[1,"bb-button-bar"],["bbButton","","color","danger","data-role","discard-action-btn",1,"bb-button-bar__button",3,"click"],pe,["bbButton","","color","link","data-role","cancel-action-btn",1,"bb-button-bar__button",3,"click"],re]},template:function(t,_){if(1&t&&(e.F$t(),e.YNc(0,Sa,1,0,"ng-container",0),e.YNc(1,ha,15,12,"ng-template",null,1,e.W1O),e.YNc(3,wa,14,7,"ng-template",null,2,e.W1O),e.TgZ(5,"bb-modal-ui",3),e.NdJ("cancel",function(){return null==_.methods?null:_.methods.toggleDiscardDialog()})("confirm",function(){return null==_.methods?null:_.methods.reset()}),e._UZ(6,"bb-modal-header-ui",4),e.TgZ(7,"bb-modal-body-ui"),e.YNc(8,ka,2,0,"ng-template",5),e.qZA(),e.TgZ(9,"bb-modal-footer-ui"),e.YNc(10,Wa,5,0,"ng-template",6),e.qZA()()),2&t){const i=e.MAs(2),o=e.MAs(4);e.Q6J("ngTemplateOutlet","SUCCESS"===_.status?o:i),e.xp6(5),e.Q6J("isOpen",null==_.methods?null:_.methods.showDiscardDialog())}},directives:[q.Q,G.w,v.o,ht,Pt,Dt,Rt,Ut,Nt,N,ne.K,z.N9,x.G,b.zS,b.Rb,b.KF,b.YI,E.tP,E.O5,j.Hq,z.i4,V.w,b.Qd,b.yk],pipes:[E.Ov],encapsulation:2,changeDetection:0}),n})(),Ll=(()=>{class n{constructor(){this.status=_e.SUCCESS,this.message="",this.isDebitPayment=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-status-card"]],inputs:{status:"status",message:"message",isDebitPayment:"isDebitPayment"},decls:6,vars:5,consts:function(){let a,t,_,i;return a="{VAR_SELECT, select, error {Failed to submit debit request. Please try again later} pending {Debit request is\n        submitted successfully, and pending further approval(s)} pending_edited {Edited debit request submitted\n        successfully} other {Debit request submitted successfully}}",a=e.Zx4(a,{VAR_SELECT:"\ufffd0\ufffd"}),t=" " + a + " ",_="{VAR_SELECT, select, error {Failed to submit payment. Please try again later} pending {Payment is submitted\n          successfully, and pending further approval(s)} pending_edited {Edited payment submitted successfully} other {Payment submitted successfully}}",_=e.Zx4(_,{VAR_SELECT:"\ufffd0\ufffd"}),i=" " + _ + " ",[["data-role","payment-status-card__wrapper",1,"bb-payment-status-card",3,"ngClass"],["size","xxl",1,"bb-payment-status-card__icon",3,"color","name"],["data-role","payment-status-msg",1,"break-word","col-12","bb-text-align-center"],[4,"ngIf","ngIfElse"],["defaultPaymentStatusText",""],["paymentStatusForNonDebitPayment",""],t,i]},template:function(t,_){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-icon-ui",1),e.TgZ(2,"div",2),e.YNc(3,Ja,2,1,"ng-container",3),e.YNc(4,Ga,3,2,"ng-template",null,4,e.W1O),e.qZA()()),2&t){const i=e.MAs(5);e.Q6J("ngClass","error"===_.status?"bb-payment-status-card--danger":"bb-payment-status-card--success"),e.xp6(1),e.Q6J("color","error"===_.status?"danger":"success")("name","error"===_.status?"error-outline":"success"),e.xp6(2),e.Q6J("ngIf",_.message)("ngIfElse",i)}},directives:[v.o,E.mk,E.O5],encapsulation:2,changeDetection:0}),n})();const oe={beneficiaryTitle:" Beneficiary Details ",beneficiaryDebitTitle:"Client details",beneficiaryBankTitle:"Beneficiary Address",beneficiaryBankDebitTitle:"Client bank details",beneficiaryAddressTitle:" Beneficiary Bank Details ",beneficiaryAddressDebitTitle:"Client addresss"};let xl=(()=>{class n{set isDebitPayment(t){this._beneficiaryDetailsTitles=null!=t&&t?{beneficiaryTitle:oe.beneficiaryDebitTitle,bankTitle:oe.beneficiaryBankDebitTitle,addressTitle:oe.beneficiaryAddressDebitTitle}:{beneficiaryTitle:oe.beneficiaryTitle,bankTitle:oe.beneficiaryBankTitle,addressTitle:oe.beneficiaryAddressTitle}}get beneficiaryDetailsTitles(){return this._beneficiaryDetailsTitles}hasPostalAddress(t){return(0,r.Fvy)(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-counterparty-details"]],inputs:{config:"config",details:"details",isDebitPayment:"isDebitPayment"},decls:5,vars:4,consts:function(){let a,t,_,i,o,l,s,u,c,d,m,S,A,g,f,F,w,k,W,y;return a="Account type",t=" Savings ",_=" Checking ",i="Standard entry class (SEC Type)",o=" Personal (PPD) ",l=" Business (CCD) ",s="Recipient ID",u="Bank Name",c="SWIFT/BIC Code",d="Bank Address",m=" Correspondent Bank Details ",S="Bank Name",A="Routing Transit Number (ABA)",g="SWIFT/BIC code",f="Bank address",F=" Intermediary Bank Details ",w="Bank name",k="Routing transit number (ABA)",W="SWIFT/BIC code",y="Bank Address",[["class","card card-sm card--highlight card--shadowless bb-block bb-block--md",4,"ngIf"],["class","card card-sm card--highlight card--shadowless bb-block bb-block--md","data-role","beneficiary-bank-details",4,"ngIf"],["class","card card-sm card--highlight card--shadowless bb-block bb-block--md","data-role","correspondant-bank-details",4,"ngIf"],["class","card card-sm card--highlight card--shadowless bb-block bb-block--md","data-role","intermediary-bank-details",4,"ngIf"],[1,"card","card-sm","card--highlight","card--shadowless","bb-block","bb-block--md"],[1,"card-body"],[1,"bb-text-bold","bb-block","bb-block--md"],["class","row bb-block bb-block--md",4,"ngIf"],["class","row",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"row","bb-block","bb-block--md"],["class","col-md-6 bb-block bb-block--md",4,"ngIf"],[1,"col-md-6","bb-block","bb-block--md"],[1,"bb-text-bold"],["name","accountType","parentName","counterparty","defaultLabel",a,3,"config"],["data-role","beneficiary-account-type",3,"ngSwitch"],[4,"ngSwitchCase"],t,_,["name","entryClass","parentName","counterparty","defaultLabel",i,3,"config"],["data-role","beneficiary-standard-entry-class",3,"ngSwitch"],o,l,[1,"row",3,"ngClass"],["data-role","payment-counterparty-recipient-id-label",1,"bb-text-bold","break-word"],["name","recipientId","parentName","counterparty","defaultLabel",s,3,"config"],["data-role","payment-counterparty-recipient-id"],[1,"break-word"],[3,"address"],["data-role","beneficiary-bank-details",1,"card","card-sm","card--highlight","card--shadowless","bb-block","bb-block--md"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"row"],["class","col-6",3,"col-12",4,"ngIf"],["class","col-6",4,"ngIf"],[1,"col-6"],["name","bankName","parentName","creditorBank","defaultLabel",u,3,"config"],["data-role","beneficiary-bank-name",1,"break-word"],["name","bic","defaultLabel",c,3,"config"],["class","break-word","data-role","counterparty-bic-code",4,"ngIf"],["data-role","counterparty-bic-code",1,"break-word"],d,["data-role","beneficiary-bank-address",1,"break-word"],["data-role","correspondant-bank-details",1,"card","card-sm","card--highlight","card--shadowless","bb-block","bb-block--md"],m,["name","bankName","parentName","correspondentBank","defaultLabel",S,3,"config"],["data-role","correspondant-bank-name",1,"break-word"],["name","bankBranchCode","parentName","correspondentBank","defaultLabel",A,3,"config"],["data-role","correspondant-bank-code",1,"bb-text-support"],["name","bic","parentName","correspondentBank","defaultLabel",g,3,"config"],["class","break-word","data-role","correspondent-bic-code",4,"ngIf"],["data-role","correspondent-bic-code",1,"break-word"],f,["data-role","correspondant-bank-address",1,"break-word"],["data-role","intermediary-bank-details",1,"card","card-sm","card--highlight","card--shadowless","bb-block","bb-block--md"],F,["name","bankName","parentName","intermediaryBank","defaultLabel",w,3,"config"],["data-role","intermediary-bank-name",1,"break-word"],["name","bankBranchCode","parentName","intermediaryBank","defaultLabel",k,3,"config"],["data-role","intermediary-bank-code",1,"bb-text-support"],["name","bic","parentName","intermediaryBank","defaultLabel",W,3,"config"],["class","break-word","data-role","intermediaryBank-bic-code",4,"ngIf"],["data-role","intermediaryBank-bic-code",1,"break-word"],y,["data-role","intermediary-bank-address",1,"break-word"]]},template:function(t,_){1&t&&(e.YNc(0,ni,7,4,"div",0),e.TgZ(1,"div"),e.YNc(2,ri,6,3,"div",1),e.YNc(3,pi,6,2,"div",2),e.YNc(4,bi,6,2,"div",3),e.qZA()),2&t&&(e.Q6J("ngIf",(null==_.details?null:_.details.entryClass)||(null==_.details?null:_.details.accountType)||(null==_.details?null:_.details.recipientId)||_.hasPostalAddress(null==_.details?null:_.details.postalAddress)),e.xp6(2),e.Q6J("ngIf",(null==_.details||null==_.details.creditorBank?null:_.details.creditorBank.bankName)||(null==_.details||null==_.details.creditorBank?null:_.details.creditorBank.bic)||_.hasPostalAddress(null==_.details||null==_.details.creditorBank?null:_.details.creditorBank.postalAddress)),e.xp6(1),e.Q6J("ngIf",(null==_.details||null==_.details.correspondentBank?null:_.details.correspondentBank.bankName)||(null==_.details||null==_.details.correspondentBank?null:_.details.correspondentBank.bankBranchCode)||(null==_.details||null==_.details.correspondentBank?null:_.details.correspondentBank.bic)||_.hasPostalAddress(null==_.details||null==_.details.correspondentBank?null:_.details.correspondentBank.postalAddress)),e.xp6(1),e.Q6J("ngIf",(null==_.details||null==_.details.intermediaryBank?null:_.details.intermediaryBank.bankName)||(null==_.details||null==_.details.intermediaryBank?null:_.details.intermediaryBank.bankBranchCode)||(null==_.details||null==_.details.intermediaryBank?null:_.details.intermediaryBank.bic)||_.hasPostalAddress(null==_.details||null==_.details.intermediaryBank?null:_.details.intermediaryBank.postalAddress)))},directives:[N,r.poS,E.O5,E.RF,E.n9,E.mk],encapsulation:2}),n})(),Kl=(()=>{class n{constructor(){this.isOpen=!1,this.close=new e.vpe}get breachReportCurrency(){var t,_,i;return null===(i=null===(_=null===(t=this.error)||void 0===t?void 0:t.breachReport)||void 0===_?void 0:_[0])||void 0===i?void 0:i.currency}normalizeBreachReportPeriod(t){return t.timeframe?Object.assign(Object.assign({},t),{timeframe:Object.assign(Object.assign({},t.timeframe),{period:t.timeframe.period.toUpperCase()})}):t}flattenBreachReports(){return this.error&&this.error.breachReport?this.error.breachReport.map(t=>t.breachInfo).reduce((t,_)=>t.concat(..._.map(this.normalizeBreachReportPeriod)),[]):[]}compareByPeriod(t,_){var i,o;const l=null===(i=t.timeframe)||void 0===i?void 0:i.period,s=null===(o=_.timeframe)||void 0===o?void 0:o.period;return r.pHY[l]-r.pHY[s]}get sortedBreaches(){const t=this.flattenBreachReports();return[...t.filter((i,o)=>{const l=i.breachedLimitType===r.KI9.TRANSACTIONAL;return(l||i.breachType===r.d2T.THRESHOLD&&i.breachedLimitType===r.KI9.PERIODIC)&&t.splice(o,1),l}),...t.sort(this.compareByPeriod)]}onClose(){this.close.emit()}print(){window.print()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-breach-limit-details"]],inputs:{paymentDetails:"paymentDetails",error:"error",isOpen:"isOpen"},outputs:{close:"close"},decls:5,vars:1,consts:function(){let a,t,_,i,o,l,s,u,c,d,m,S,A,g,f,F,w,k,W;return a="Limits breach",t="Print breach limit report",_="Close breach limit report dialog",i=" Payment could not be submitted due to a limit breach. See details below: ",o="Limit",l=" Consumed ",s=" Limit ",u=" Consumed\xA0 ",c=" Per transaction ",d="{VAR_SELECT, select, DAILY {Daily} WEEKLY {Weekly} MONTHLY {Monthly} QUARTERLY {Quarterly} YEARLY {Yearly} other {{INTERPOLATION}}}",d=e.Zx4(d,{VAR_SELECT:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),m=" " + d + " ",S=" Till " + "\ufffd0\ufffd" + " ",A=" Till " + "\ufffd0\ufffd" + " ",g=" " + "\ufffd0\ufffd" + " - " + "\ufffd1\ufffd" + " ",f=" " + "\ufffd0\ufffd" + " - " + "\ufffd1\ufffd" + " ",F="From",w="To",k=" Execution date ",W="Amount",[[3,"isOpen","cancel","confirm"],["role","heading"],["bbCustomModalHeader",""],["role","main"],["bbCustomModalBody",""],["aria-labelledby","headerTitle",1,"bb-stack","bb-stack__item--fill"],["color","danger","name","error-outline",1,"bb-stack__item","bb-stack__item--spacing-sm"],["id","headerTitle","data-role","limit-breach-modal-title","aria-label",a,1,"bb-stack__item","highlight","text-large"],[1,"bb-stack__item","bb-stack__item--push-right"],["type","button",1,"bb-stack__item","btn","border-0","btn-circle",3,"click"],["aria-label",t,1,"sr-only",2,"min-width","10px","min-height","10px"],["name","print"],["aria-label",_,1,"sr-only",2,"min-width","10px","min-height","10px"],["name","clear"],["data-role","limit-breach-modal-message",1,"bb-block","bb-block--lg"],i,[1,"table-responsive"],[1,"table","table-hover"],[1,"bb-table__head--highlight"],["scope","col",1,"bb-table--text-start"],["scope","col","data-role","breach-currency",1,"bb-table--text-end"],o,[4,"ngIf"],["scope","col",1,"bb-table--text-end"],l,["data-role","limit-breach",4,"ngFor","ngForOf"],["class","card card-sm card--highlight card--shadowless",4,"ngIf"],["data-role","limit-breach"],["data-role","limit-type",1,"bb-table--text-start"],["class","highlight",4,"ngIf"],["data-role","limit-amount",1,"bb-table--text-end"],[1,"d-md-none","bb-text-bold"],s,[3,"amount"],["data-role","limit-consumed",1,"bb-table--text-end"],u,[1,"highlight"],c,m,["data-role","period",1,"text-muted",3,"ngSwitch"],[4,"ngSwitchCase"],S,A,g,f,[1,"card","card-sm","card--highlight","card--shadowless"],[1,"card-body"],[1,"row"],[1,"col-md-6","bb-block","bb-block--md"],[1,"bb-text-bold"],F,["data-role","debit-account-name",1,"break-word"],["data-role","debit-account-number",1,"bb-text-support","bb-subtitle"],w,["data-role","credit-account-name",1,"break-word"],["data-role","credit-account-number",1,"bb-text-support","bb-subtitle"],k,[1,"col-md-6"],W,["data-role","total-amount",1,"bb-amount--currency-space",3,"amount","currency","mapCurrency"]]},template:function(t,_){1&t&&(e.TgZ(0,"bb-modal-ui",0),e.NdJ("cancel",function(){return _.onClose()})("confirm",function(){return _.onClose()}),e.TgZ(1,"bb-modal-header-ui",1),e.YNc(2,yi,13,0,"ng-template",2),e.qZA(),e.TgZ(3,"bb-modal-body-ui",3),e.YNc(4,Ki,16,3,"ng-template",4),e.qZA()()),2&t&&e.Q6J("isOpen",_.isOpen)},directives:[b.zS,b.Rb,v.o,b.KF,K.G4,b.cA,b.Qd,E.O5,E.sg,E.RF,E.n9],pipes:[E.rS,E.uU],encapsulation:2,changeDetection:0}),n})(),xt=(()=>{class n{constructor(){this.modalOptions={backdrop:"static",keyboard:!1},this.isSavingTemplate=!1,this.closeModal=new e.vpe,this.openModal=new e.vpe,this.submitForm=new e.vpe,this.states=r.XK3,this.isSubmitted=!1}onOpen(){this.openModal.emit()}onClose(){this.closeModal.emit(),this.isSubmitted=!1}onSubmit(){this.submitForm.emit(),this.isSubmitted=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-save-as-template-form-modal"]],inputs:{modalState:"modalState",paymentTemplateForm:"paymentTemplateForm",isSavingTemplate:"isSavingTemplate"},outputs:{closeModal:"closeModal",openModal:"openModal",submitForm:"submitForm"},decls:8,vars:4,consts:function(){let a,t,_,i,o,l,s;return a="Save as a template",t=" Type a name to the template in order to re-use it and manage it when needed. ",_="Name of the template",i=" (required) ",o=" Template name is required ",l=" Save ",s=" Cancel ",[[3,"isOpen","modalOptions"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["bbCustomModalFooter",""],[1,"bb-stack"],["name","insert-drive-file",1,"bb-text-disabled","bb-stack__item","bb-stack__item--spacing-sm","bb-text-support","d-inline-block"],["headingType","h2","heading",a,1,"bb-stack__item"],["data-role","payment-template-modal-text",1,"bb-block","bb-block--lg"],t,[1,"form-group",3,"formGroup"],[1,"bb-label",3,"for"],["id","name"],_,[1,"bb-text-support"],i,[1,"bb-payment-template__form-container"],["formControlName","templateName","data-role","template-name-field",3,"aria-labelledby","maxLength","showCharCounter"],["TemplateName",""],["data-role","initiate-payment-template-name-input-error","role","alert",3,"showErrors"],[4,"ngIf"],["data-role","required-template-name-error",4,"ngIf"],["data-role","required-template-name-error"],o,[1,"bb-button-bar"],["color","primary","data-role","save-template-button",1,"bb-button-bar__button",3,"isLoading","click"],l,["bbButton","","color","link","data-role","cancel-template-button",1,"bb-button-bar__button",3,"click"],s]},template:function(t,_){1&t&&(e.TgZ(0,"bb-modal-ui",0),e.ALo(1,"async"),e.TgZ(2,"bb-modal-header-ui"),e.YNc(3,Fi,3,1,"ng-template",1),e.qZA(),e.TgZ(4,"bb-modal-body-ui"),e.YNc(5,Wi,13,7,"ng-template",2),e.qZA(),e.TgZ(6,"bb-modal-footer-ui"),e.YNc(7,Zi,7,1,"ng-template",3),e.qZA()()),2&t&&e.Q6J("isOpen",_.states.Preview===e.lcZ(1,2,_.modalState))("modalOptions",_.modalOptions)},directives:[b.zS,b.Rb,v.o,x.G,b.KF,Ue.m,Ne.d,b.YI,ne.K,b.cA,b.Qd,D._Y,D.JL,D.sg,D.JJ,D.u,E.O5,b.yk,j.Hq],pipes:[E.Ov],encapsulation:2,changeDetection:0}),n})(),Kt=(()=>{class n{constructor(t,_,i,o,l,s,u,c,d,m,S){this.formBuilder=t,this.stateService=_,this.navigationService=i,this.createPaymentService=o,this.reviewPaymentService=l,this.createPaymentSetup=s,this.communicator=u,this.transactionSigningHelper=c,this.paymentErrors=d,this.extensionsConfig=m,this.dateTimezoneTransformationService=S,this.showConfirmation=!1,this.gc$=new h.x,this.saveContactResponse$=new O.X(null),this.paymentOrderId="",this.approvalPending=!1,this.enablePaymentTemplate=!0,this.saveTemplate=!1,this.canApprove=!1,this.additionalDetailsContext$$=new O.X(void 0),this.showBreachDetails=!1,this.paymentMode=r.x66,this.isErrorTitleDisplayed=!0,this.reviewScreens=r.gwo,this.widgetOptions={},this.errors=[],this.submitting$=new O.X(!1),this.savingTemplate$=new O.X(!1),this.paymentStatus$=new O.X(void 0),this.selectedPaymentConfig$=this.createPaymentService.selectedPaymentConfig$,this.paymentTemplateModalState=new O.X(void 0),this.additionsDetails=this.extensionsConfig.reviewPaymentAdditionalDetails,this.additionalDetailsContext$=this.additionalDetailsContext$$.asObservable(),this.methods={edit:this.onEdit.bind(this),submit:this.submitPayment.bind(this),reset:this.resetPayment.bind(this),discard:this.discardPayment.bind(this),toggleDiscardDialog:this.toggleConfirmationDialog.bind(this),showDiscardDialog:this.showDiscardDialog.bind(this),isApprovalEnabled:this.isApprovalEnabled.bind(this),isPaymentTemplateEnabled:this.isPaymentTemplateEnabled.bind(this),isNewPaymentEnabled:this.isNewPaymentEnabled.bind(this),isSavingTemplate$:this.isSavingTemplate$.bind(this),getPaymentMessage:this.getPaymentMessage.bind(this),getPurposeDescription:this.getPurposeDescription.bind(this),isSubmitting$:this.isSubmitting$.bind(this),getLabelText:r.kv,getForexDetails:this.getForexDetails.bind(this),showBreachModal:this.showBreachModal.bind(this),isTemplateSaved:this.isTemplateSaved.bind(this),openTemplateModal:this.openTemplateModal.bind(this),doneEditing:this.doneEditing.bind(this),navigateToAfterSuccessPage:this.navigateToAfterSuccessPage.bind(this),getPaymentResponse:this.getPaymentResponse.bind(this),getSaveContactResponse$:this.saveContactResponse$,getPaymentStatusType:this.getPaymentStatusType.bind(this),isExportPDFBtnVisible:this.isExportPDFBtnVisible.bind(this)},this.createTemplatePermission$=this.reviewPaymentService.createPermissions(),this.validationWarnings$=this.stateService.validationWarnings$}onEdit(){this.stateService.setPaymentState(r.KyD.EDIT),this.navigationService.form()}ngOnInit(){this.stateService.setPaymentState(r.KyD.REVIEW),this.canApprove=this.stateService.canApprove,this.createPaymentSetup.reviewTemplate$.pipe((0,T.R)(this.gc$),(0,Ae.h)(t=>!!t)).subscribe(t=>this.reviewTemplate=t),this.createPaymentSetup.options$.pipe((0,sn.M)(this.stateService.form$),(0,T.R)(this.gc$)).subscribe(([t,_])=>{var i;this.isErrorTitleDisplayed=Boolean(t.isErrorTitleDisplayed),this.widgetOptions=t,this.header=this.createPaymentSetup.getHeader(r.WN5.REVIEW,null===(i=_.value)||void 0===i?void 0:i.paymentType)}),this.stateService.form$.pipe((0,T.R)(this.gc$),(0,Z.b)(t=>this.paymentForm=t),(0,B.U)(t=>(null==t?void 0:t.getRawValue())||{})).subscribe(t=>{t&&(0,r.Nu3)(t)?(this.paymentItem=t,this.additionalDetailsContext$$.next({additions:t.additions})):(this.stateService.setPaymentState(r.KyD.INITIAL),this.navigationService.form())}),this.paymentTemplateForm=this.buildPaymentTemplateForm()}isSavingTemplate$(){return this.savingTemplate$}getExecutionInBankTimezoneMessage(){return this.dateTimezoneTransformationService.configuredTimeZone?this.widgetOptions.paymentExecutionInBankTimeZoneMessage:void 0}onSubmit(t=!1){this.submitting$.next(!0),this.paymentItem.counterparty.saveNewContact&&this.saveNewContact(),this.postPaymentOrder(t)}saveNewContact(){this.reviewPaymentService.saveNewContact(Object.assign(Object.assign({},function vl(n){const{name:a,accountNumber:t,schemeName:_,creditorBank:i={},postalAddress:o={}}=n;let l;switch(_){case Q.B7.EMAIL:l={email:(0,r.u2M)(t)};break;case Q.B7.MOBILE:l={phoneNumber:(0,r.u2M)(t)};break;case Q.B7.IBAN:l={IBAN:(0,r.u2M)(t)};break;default:l={accountNumber:(0,r.u2M)(t)}}return{name:a,addressLine1:o.addressLine1,addressLine2:o.addressLine2,streetName:o.streetName,town:o.town,postCode:o.postCode,countrySubDivision:o.countrySubDivision,country:o.country,accounts:[Object.assign(Object.assign({},Tl(i)),l)]}}(this.paymentItem.counterparty)),{accessContextScope:this.widgetOptions.accessContextScope})).pipe((0,T.R)(this.gc$)).subscribe(t=>{const{id:_,status:i}=t||{};this.saveContactResponse$.next(t);const o=!!_;this.reviewPaymentService.showNotification(o,{header:o?i===Ce.q_.PENDINGAPPROVAL?$.newContactSubmitSuccessPendingApproval:$.newContactSubmitSuccess:$.newContactSubmitFailure})})}handlePaymentError(t){var _,i;let l;this.genericError=null===(_=null==t?void 0:t.error)||void 0===_?void 0:_.message,this.errors=null===(i=null==t?void 0:t.error)||void 0===i?void 0:i.errors,l="rejected_by_user"===(null==t?void 0:t.statusText)?r.mNU.USER_DECLINED:"ERROR",this.paymentStatus$.next(l),this.submitting$.next(!1)}putOrPostPaymentOrder(t){var _;const i=(null===(_=this.widgetOptions)||void 0===_?void 0:_.paymentMode)===r.x66.COPY_PAYMENT,o=this.paymentItem.paymentOrderId;return o&&!i?this.reviewPaymentService.putPaymentOrder(Object.assign(Object.assign({},t),{id:o}),o):this.reviewPaymentService.postPaymentOrder(t)}postPaymentOrder(t){const _=t?{approved:t}:null;this.putOrPostPaymentOrder((0,r.SwY)(Object.assign(Object.assign({},this.paymentItem),_))).pipe((0,T.R)(this.gc$),(0,Z.b)(i=>{if(this.hasLimitBreach(i))throw i}),(0,P.K)(i=>{var o;return null===(o=this.alertContainer)||void 0===o||o.nativeElement.scrollIntoView(!1),this.hasLimitBreach(i)?this.handleLimitBreachError(i):this.handlePaymentError(i),ce.E})).subscribe(i=>{var o;(null===(o=this.transactionSigningHelper)||void 0===o?void 0:o.isTransactionSigningResponse(i))?this.handleTransactionSigning(i):this.handlePaymentSubmit(i)})}handleLimitBreachError(t){this.paymentStatus$.next("LIMIT_BREACH"),this.breachError=t.error||t,this.submitting$.next(!1)}handlePaymentSubmit(t){var _,i,o,l;const s=null==t?void 0:t.status,u=s===r.Kbb.REJECTED,c=(null==t?void 0:t.id)&&!u?"SUCCESS":s||"ERROR";if(this.paymentOrderId=null!==(_=null==t?void 0:t.id)&&void 0!==_?_:"",this.approvalPending=s===r.qbd.ENTERED||s===r.mNU.PENDING_APPROVAL,(null==t?void 0:t.id)&&!u){const d=(null===(i=this.widgetOptions)||void 0===i?void 0:i.paymentMode)===r.x66.EDIT_PAYMENT,{submitSuccess:m,submitSuccessPendingApproval:S,editSubmitSuccess:A}=this.widgetOptions.isDebitPayment?$.debitPayment:$.defaultPayment;this.reviewPaymentService.showNotification(!0,{header:d?A:this.approvalPending?S:m}),null===(l=null===(o=this.communicator)||void 0===o?void 0:o.afterSuccess)||void 0===l||l.call(o),this.header=this.createPaymentSetup.getHeader(r.WN5.SUBMITTED)}this.paymentResponse=t,this.paymentStatus$.next(c),this.submitting$.next(!1)}handleTransactionSigning(t){if(!this.transactionSigningHelper)return;const _=t["payment-order-id"];_&&this.transactionSigningHelper.getTransactionInfo({data:t,asyncPollingOptions:{pollInterval:this.widgetOptions.pollInterval,maxRetries:3,pollUntilFn:this.isPaymentConfirmed,complete$:this.gc$},fetchFn:this.getPaymentProgressStatus.bind(this),onSuccess:this.onTransactionSigningSuccess.bind(this,_),onRejected:this.onTransactionSigningReject.bind(this,_),onDeclined:this.onTransactionSigningDecline.bind(this),onError:this.onTransactionSigningError.bind(this)})}onTransactionSigningSuccess(t){this.reviewPaymentService.getPayment(t).pipe((0,T.R)(this.gc$)).subscribe(this.handlePaymentSubmit.bind(this))}onTransactionSigningReject(t,_){this.handleRejectedPayment(t)}onTransactionSigningDecline({status:t}){const _=this.widgetOptions.isDebitPayment?$.submitDebitFailure:$.submitPaymentFailure;this.paymentStatus$.next(t),this.submitting$.next(!1),this.reviewPaymentService.showNotification(!1,{header:_})}onTransactionSigningError({status:t}){const i="COED"===t?$.submitPaymentApprovalFailureCOED:{header:this.widgetOptions.isDebitPayment?$.submitDebitFailure:$.submitPaymentFailure};this.submitting$.next(!1),this.paymentStatus$.next("COED"===t?"COED":"ERROR"),this.reviewPaymentService.showNotification(!1,Object.assign({},i))}handleRejectedPayment(t){this.reviewPaymentService.getPayment(t).pipe((0,T.R)(this.gc$)).subscribe(_=>{"LTBR"===(null==_?void 0:_.reasonCode)?(this.paymentStatus$.next("LIMIT_BREACH"),this.breachError={message:"",breachReport:_.breachReports}):this.hasLimitBreach(_)?this.handleLimitBreachError(_):this.paymentStatus$.next("ERROR"),this.submitting$.next(!1)})}getPaymentProgressStatus(t){return this.reviewPaymentService.getPaymentProgressStatus((null==t?void 0:t["payment-order-id"])||"").pipe((0,B.U)(_=>((null==_?void 0:_.progressStatus)===Q.p4.ProgressStatusEnum.REJECTED&&"COED"===_.reasonCode&&(_=Object.assign(Object.assign({},_),{progressStatus:_.reasonCode})),null==_?void 0:_.progressStatus)))}isPaymentConfirmed(t){return!!t&&t!==r.mNU.CONFIRMATION_PENDING&&t!==r.mNU.SENDING}onHooksDone(t,_=!0){_?this.onSubmit(t):this.submitting$.next(!1)}hasLimitBreach(t){var _;return!!(null==t?void 0:t.breachReport)||!!(null===(_=null==t?void 0:t.error)||void 0===_?void 0:_.breachReport)||this.isLimitBreachedByCode(t,X)||this.isLimitBreachedByCode(t,R)}isLimitBreachedByCode(t,_){return Object.values(_).includes(t.reasonCode)}showBreachModal(){this.showBreachDetails=!0}getPaymentResponse(){return this.paymentResponse}hideBreachModal(){this.showBreachDetails=!1}isTemplateSaved(){return this.saveTemplate}buildPaymentTemplateForm(){return this.formBuilder.group({templateName:["",[D.kI.required,r.Fdm]]})}openTemplateModal(){this.paymentTemplateModalState.next(r.XK3.Preview)}closeTemplateModal(){this.paymentTemplateModalState.next(r.XK3.Hidden),this.paymentTemplateForm.reset()}submitPaymentTemplate(t=""){if(this.paymentOrderId){const i=t||this.paymentTemplateForm.controls.templateName.value,o={paymentOrderId:this.paymentOrderId,name:i};if(this.paymentTemplateForm.invalid)return;this.savingTemplate$.next(!0),this.reviewPaymentService.postPaymentTemplate(o).pipe((0,T.R)(this.gc$),(0,P.K)(()=>(this.reviewPaymentService.showNotification(!1,{header:Oe.templateSaveFailed}),this.savingTemplate$.next(!1),ce.E))).subscribe(()=>{var l,s;this.saveTemplate=!0,this.savingTemplate$.next(!1),this.reviewPaymentService.showNotification(!0,{header:Oe.templateSaveSuccess(i),headerContext:{name:i}}),this.paymentTemplateForm.reset(),this.paymentTemplateModalState.next(r.XK3.Hidden),null===(s=null===(l=this.communicator)||void 0===l?void 0:l.afterSuccess)||void 0===s||s.call(l)})}}submitPayment(t=!1){const _=this.createPaymentSetup.hooks&&this.createPaymentSetup.hooks[r.w_v.onSubmit];this.submitting$.next(!0),_?(0,r.cNf)(this.createPaymentSetup.hooks,r.w_v.onSubmit,this.onHooksDone.bind(this,t),this.paymentForm):this.onSubmit(t)}getForexDetails(t){return(0,r.viC)(t)}isApprovalEnabled(){return!!this.widgetOptions.enableApprovals&&this.canApprove}isPaymentTemplateEnabled(){return!!this.widgetOptions.enableSavePaymentAsTemplate&&this.enablePaymentTemplate}isNewPaymentEnabled(){return!1!==this.widgetOptions.enableNewPaymentButton}discardPayment(){var t,_;(null===(t=this.widgetOptions)||void 0===t?void 0:t.isModalView)?null===(_=this.communicator)||void 0===_||_.closeEvent():this.resetPayment()}resetPayment(){this.showConfirmation=!1,this.widgetOptions.paymentMode=r.x66.CREATE_PAYMENT,this.stateService.resetForm(),this.stateService.setPaymentState(r.KyD.INITIAL),this.navigationService.form()}toggleConfirmationDialog(){this.showConfirmation=!this.showConfirmation}showDiscardDialog(){return this.showConfirmation}isApprovalPending(){return this.approvalPending}isSubmitting$(){return this.submitting$}getPaymentStatusType(){var t;return(null===(t=this.widgetOptions)||void 0===t?void 0:t.paymentMode)===r.x66.EDIT_PAYMENT?_e.PENDING_EDITED:this.isApprovalPending()?_e.PENDING:_e.SUCCESS}getPaymentMessage(){return this.paymentMessage}getPurposeDescription(t){var _,i;const o=null===(_=this.paymentItem.inputFormFromSettings)||void 0===_?void 0:_.purposesOfPayment;return(null==o?void 0:o.length)?null===(i=o.find(l=>l.code===t))||void 0===i?void 0:i.description:""}doneEditing(){var t;null===(t=this.communicator)||void 0===t||t.closeEvent()}navigateToAfterSuccessPage(){var t;null===(t=this.communicator)||void 0===t||t.closeEvent()}isExportPDFBtnVisible(){var t,_,i;return void 0!==this.paymentResponse&&("permissibleActions"in this.paymentResponse?null!==(_=null===(t=this.paymentResponse.permissibleActions)||void 0===t?void 0:t.export)&&void 0!==_&&_:"exportAllowed"in this.paymentResponse&&null!==(i=this.paymentResponse.exportAllowed)&&void 0!==i&&i)}ngOnDestroy(){this.gc$.next(),this.gc$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D.qu),e.Y36(r.b2t),e.Y36(xe),e.Y36(Ee),e.Y36(vt),e.Y36(ie),e.Y36(ye,8),e.Y36(ue.YA,8),e.Y36(Le,8),e.Y36(Tt),e.Y36(mn.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-review-payment"]],viewQuery:function(t,_){if(1&t&&e.Gf(ut,5),2&t){let i;e.iGM(i=e.CRH())&&(_.alertContainer=i.first)}},decls:12,vars:24,consts:function(){let a,t,_,i,o,l,s,u,c,d,m,S,A,g,f,F,w,k,W,y,I,le,pe,re,M,kt,Wt,Zt,Jt,$t,Ht,Gt,Qt,Yt,qt,Ie,zt,Te,jt,Vt,Xt;return a="Payment data error:",t="Debit data error:",_=" Payment data error: ",i="Debit data error:",o=" Payment cannot be submitted because your limits have been breached ",l=" See details ",s=" Payment not submitted ",u=" The transaction signing request was cancelled ",c=" Payment not submitted ",d=" Payment is already edited by another user ",m=" Server error: Payment is rejected. ",S=" Server error: Unknown error occurred. ",A=" Intracompany payment ",g=" Urgent payment ",f="Collect from",F="From",w="Transfer to",k="To",W="Mandate identifier",y="Payment reference",I="Description",le="Message to client",pe="Message to beneficiary",re="Message to beneficiary bank",M="Message to client bank",kt=" Edit ",Wt=" Discard ",Zt=" Submit ",Jt=" Submit ",$t=" Submit and Approve ",Ht=" Done ",Gt=" Export PDF ",Qt="New Payment",Yt="New debit request",qt=" Save as a template ",Ie="{VAR_SELECT, select, true {edited} other {entered}}",Ie=e.Zx4(Ie,{VAR_SELECT:"\ufffd0\ufffd"}),zt=" Discard " + Ie + " data? ",Te="{VAR_SELECT, select, true {Edited} other {Entered}}",Te=e.Zx4(Te,{VAR_SELECT:"\ufffd0\ufffd"}),jt=" Are you sure you want to exit and discard all changes? " + Te + " data will be lost. ",Vt=" Discard ",Xt=" Not now ",[[1,"position-relative"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["adaptedReviewTmpl",""],["defaultTmpl",""],[3,"paymentTemplateForm","isSavingTemplate","modalState","closeModal","openModal","submitForm"],[3,"payment","paymentConfig","status","methods","breachError","executionInBankTimezoneMessage"],["bbReviewPaymentAdditonalDetailsDirective","",3,"componentType","context",4,"ngIf"],["bbReviewPaymentAdditonalDetailsDirective","",3,"componentType","context"],[1,"bb-fieldset","bb-fieldset__no-outline"],["data-role","page-title","headingClasses","bb-block bb-block--lg","headingType","h2",3,"heading",4,"ngIf"],["alertContainer",""],["data-role","test",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["class","position-absolute w-100 h-100 top-0 fixed-top bg-white",3,"opacity",4,"ngIf"],["closureSwitch",""],["newPayment",""],["newPaymentButton",""],["saveTemplateButton",""],[3,"isOpen","cancel","confirm"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["modalFooterRef",""],["bbCustomModalFooter",""],[3,"paymentDetails","error","isOpen","close"],["data-role","page-title","headingClasses","bb-block bb-block--lg","headingType","h2",3,"heading"],["data-role","test"],["data-role","review-payment__duplicate-payment-warning",3,"paymentId","paymentConfig","isDebitPayment",4,"ngIf"],["data-role","review-payment__duplicate-payment-warning",3,"paymentId","paymentConfig","isDebitPayment"],["class","bb-block bb-block--md",4,"ngIf"],["class","bb-block bb-block--md bb-inline-stack bb-text-support",4,"ngIf"],[1,"bb-payment-account-details-card__container","d-none","d-md-flex"],[1,"bb-text-bold","w-md-50"],[4,"ngTemplateOutlet"],[1,"mr-3"],[1,"bb-payment-account-details-card__container","bb-block","bb-block--md","break-word",3,"ngClass"],[1,"w-md-50"],[1,"bb-text-bold","d-md-none"],["data-role","debitor-details-card",3,"balance","currency","name","accountNumber"],[1,"justify-content-center","align-items-center","d-md-flex","d-none"],["name","arrow-forward",1,"bb-account-transfer-icon"],[1,"d-md-none"],[3,"name","country","bankBranchCode","IBAN","accountNumber","schemeName"],["dynamicLabelInitiator",""],["dynamicLabelCounterparty",""],[3,"config","amount","transactionCurrency","originatorCurrency","transferFee","chargeBearer","exchangeRate"],[3,"details","config","isDebitPayment"],[3,"paymentConfig","data"],[1,"bb-block","bb-block--md"],[3,"status","isDebitPayment",4,"ngIf"],[3,"status","isDebitPayment"],["noSpecificError",""],["errorMessages",""],[4,"ngFor","ngForOf"],["title","","modifier","error",3,"close"],["data-role","failure-message",1,"bb-text-bold","bb-text-default","d-inline-flex"],a,t,["title","","modifier","error"],[1,"bb-text-bold","bb-text-default"],_,i,["title","","modifier","error",3,"ngSwitch","close"],["class","bb-stack bb-text-default",4,"ngSwitchCase"],["data-role","failure-message",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"bb-stack","bb-text-default"],["data-role","failure-message",1,"bb-stack__item","bb-text-bold"],o,["bbButton","","color","unstyled","buttonSize","sm","data-role","failure-see-details",1,"bb-stack__item","bb-stack__item--push-right","alert-link",3,"click"],l,["data-role","failure-message"],["data-role","payment-error-alert-title",1,"bb-text-bold","bb-text-default"],s,["data-role","payment-error-alert-description",1,"bb-text-default"],u,c,d,m,S,[1,"bb-block","bb-block--md","bb-inline-stack","bb-text-support"],["class","bb-inline-stack bb-inline-stack__item",4,"ngIf"],[1,"bb-inline-stack","bb-inline-stack__item"],["name","domain"],[1,"bb-inline-stack__item"],[1,"bb-inline-stack__item","bb-text-bold","bb-inline-stack__item--spacing-sm"],A,["name","priority-high"],["data-role","payment-is-urgent",1,"bb-inline-stack__item","bb-text-bold"],g,["name","counterparty","defaultLabel",f,"data-role","initiator-label",3,"config"],["name","initiator","defaultLabel",F,"data-role","initiator-label",3,"config"],["data-role","payee-label","name","initiator","defaultLabel",w,3,"config"],["data-role","payee-label","name","counterparty","defaultLabel",k,3,"config"],["data-role","purpose-of-payment",3,"paymentConfig","purposeOfPayment","avialablePurposesOfPayment",4,"ngIf"],["data-role","mandate-identifier-label",1,"bb-text-bold"],["name","mandateIdentifier","parentName","counterparty","defaultLabel",W,3,"config"],["data-role","mandate-identifier",1,"break-word"],["data-role","payment-reference-label",1,"bb-text-bold"],["name","paymentReference","parentName","remittanceInfo","defaultLabel",y,3,"config"],["data-role","payment-reference",1,"break-word"],["data-role","payment-description-label",1,"bb-text-bold"],["name","description","parentName","remittanceInfo","defaultLabel",I,3,"config"],["data-role","payment-description",1,"break-word"],[1,"bb-text-bold"],["name","remittanceInformation","defaultLabel",le,3,"config",4,"ngIf","ngIfElse"],["remittanceInformationLableForNonDebit",""],["data-role","description",1,"break-word"],["name","remittanceInformation","defaultLabel",le,3,"config"],["name","remittanceInformation","defaultLabel",pe,3,"config"],["data-role","purpose-of-payment",3,"paymentConfig","purposeOfPayment","avialablePurposesOfPayment"],["name","messageToBank","defaultLabel",re,3,"config",4,"ngIf"],["name","messageToBank","defaultLabel",M,3,"config",4,"ngIf"],["data-role","message-to-bank",1,"break-word"],["name","messageToBank","defaultLabel",re,3,"config"],["name","messageToBank","defaultLabel",M,3,"config"],[1,"bb-text-support"],[1,"bb-button-bar"],["bbButton","","class","bb-button-bar__button","data-role","submit-button",3,"disabled","click",4,"ngIf"],["class","btn-group bb-button-bar__button","data-role","button-group",4,"ngIf"],["bbButton","","color","secondary","data-role","edit-button",1,"bb-button-bar__button",3,"disabled","click"],kt,["bbButton","","color","link","data-role","cancel-button",1,"bb-button-bar__button","bb-button-bar__button--across",3,"disabled","click"],Wt,["bbButton","","data-role","submit-button",1,"bb-button-bar__button",3,"disabled","click"],Zt,["data-role","button-group",1,"btn-group","bb-button-bar__button"],["color","primary","data-role","submit-button",1,"bb-button-bar__button",3,"isLoading","click"],Jt,["btnColor","primary","icon","caret-down","data-role","dropdown-menu","position","top-right",1,"btn-group"],["bbDropdownMenuItem",""],["role","menuitem","type","button","data-role","bus-submit-and-approve-button",1,"dropdown-item",3,"disabled","bbKeyboardClick"],$t,[1,"position-absolute","w-100","h-100","top-0","fixed-top","bg-white"],["loaderSize","lg",1,"absolute-center"],["bbButton","","class","bb-button-bar__button","data-role","done-payment-edit-button",3,"click",4,"ngIf"],["bbButton","","color","secondary","class","bb-button-bar__button","data-role","export-payment-button",3,"bbExportPdf",4,"ngIf"],["bbButton","","data-role","done-payment-edit-button",1,"bb-button-bar__button",3,"click"],Ht,["bbButton","","color","secondary","data-role","export-payment-button",1,"bb-button-bar__button",3,"bbExportPdf"],["name","file-download",1,"mr-2"],Gt,[1,"bb-button-bar__button","bb-button-bar__button--across"],[1,"bb-button-bar","bb-button-bar--reverse"],["bbButton","","class","bb-button-bar__button","data-role","new-payment-button",3,"color","disabled","click",4,"ngIf"],["bbButton","","data-role","new-payment-button",1,"bb-button-bar__button",3,"color","disabled","click"],Qt,Yt,["bbButton","","class","bb-button-bar__button","data-role","save-as-template-button",3,"color","disabled","click",4,"ngIf"],["bbButton","","data-role","save-as-template-button",1,"bb-button-bar__button",3,"color","disabled","click"],qt,["data-role","modal-header"],[1,"modal-title"],zt,jt,["bbButton","","color","danger","data-role","discard-action-btn",1,"bb-button-bar__button",3,"click"],Vt,["bbButton","","color","link","data-role","cancel-action-btn",1,"bb-button-bar__button",3,"click"],Xt]},template:function(t,_){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ji,1,0,"ng-container",1),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e.ALo(5,"async"),e.qZA(),e.YNc(6,Hi,2,7,"ng-template",null,2,e.W1O),e.YNc(8,Sl,26,12,"ng-template",null,3,e.W1O),e.TgZ(10,"bb-save-as-template-form-modal",4),e.NdJ("closeModal",function(){return _.closeTemplateModal()})("openModal",function(){return _.openTemplateModal()})("submitForm",function(){return _.submitPaymentTemplate()}),e.ALo(11,"async"),e.qZA()),2&t){const i=e.MAs(7),o=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",_.reviewTemplate||(_.widgetOptions.reviewScreenType===_.reviewScreens.ADAPTED?i:o))("ngTemplateOutletContext",e.qlk(15,Al,_.paymentItem,e.lcZ(2,5,_.paymentStatus$),e.lcZ(3,7,_.submitting$),_.methods,e.lcZ(4,9,_.selectedPaymentConfig$),_.breachError,_.additionsDetails,e.lcZ(5,11,_.additionalDetailsContext$))),e.xp6(9),e.Q6J("paymentTemplateForm",_.paymentTemplateForm)("isSavingTemplate",e.lcZ(11,13,_.savingTemplate$))("modalState",_.paymentTemplateModalState)}},directives:function(){return[Lt,x.G,__,Ll,G.w,v.o,tt,at,N,Xe,xl,ot,rt,ne.K,z.N9,q.Q,b.zS,b.Rb,b.KF,b.YI,Kl,xt,E.tP,E.O5,Ft,E.sg,E.RF,E.n9,j.Hq,E.ED,E.mk,z.i4,V.w,r.lFr,b.cA,b.Qd,b.yk]},pipes:function(){return[E.Ov]},encapsulation:2}),n})(),Ft=(()=>{class n extends un{}return n.\u0275fac=function(){let a;return function(_){return(a||(a=e.n5z(n)))(_||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbReviewPaymentAdditonalDetailsDirective",""]],features:[e.qOj]}),n})();const Fl=[b.zk,v.Q,j.hJ,K.i7];let wl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,...Fl]]}),n})(),kl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,te,r.ILA]]}),n})(),Wl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,v.Q]]}),n})();const Zl=[te,ae.yI.forChild()],Jl=[ne.C,G.n,v.Q,x.O,de.PQ,j.hJ,K.i7,q.p,V.O,b.zk,r.ILA,z.CK],Hl=[Wl,nt,it,st,et,kl,wl,r.hYi,lt,te,(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[ae.Iq],imports:[[E.ez,D.UX,...Zl,...Jl],ne.C,G.n,v.Q,x.O,de.PQ,j.hJ,K.i7,q.p,V.O,b.zk,r.ILA,z.CK]}),n})()],Gl=[l_],Ql=[b.zk,z.CK,V.O,de.PQ,G.n,x.O,dt.J,ne.C,Ne.w,Ue.j,q.p,K.i7,r.ILA,v.Q,j.hJ];let Yl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[vt,Re],imports:[[E.ez,D.UX,...Hl,...Ql,...Gl],b.zk,z.CK,V.O,de.PQ,G.n,x.O,dt.J,ne.C,Ne.w,Ue.j,q.p,K.i7,r.ILA,v.Q,j.hJ]}),n})();const ql=[x.O];let zl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,L.Ot,...ql]]}),n})();const wt={path:"",component:hl,children:[{path:"",redirectTo:ee.FORM,pathMatch:"full"},{path:ee.FORM,component:Nl},{path:ee.REVIEW,component:Kt}]};let jl=(()=>{class n{static forRoot(t={}){var _,i;return{ngModule:n,providers:[(0,se.co)([null!==(_=t.route)&&void 0!==_?_:wt]),{provide:Tt,useValue:null!==(i=t.extensionSlots)&&void 0!==i?i:{}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Ee,Me,me,Bl,Q.k4,Ge.IK,Y._l,Y.I6,Y.LY,Ce.Eq,Ye.Px,Qe.Ud,He.Kl],imports:[[E.ez,se.Bz,Yl,zl,L.Ot]]}),n})()}}]);