(self.webpackChunkretail_usa=self.webpackChunkretail_usa||[]).push([[60],{9515:(V,L,r)=>{"use strict";r.r(L),r.d(L,{ManageUpcomingAndHistoricalPaymentsJourneyBundleModule:()=>tt});var S=r(6791),n=r(5e3),N=r(429),D=r(7605),y=(r(8511),r(9808)),f=r(9633),A=r(9287),u=r(7555),E=r(3533),P=r(5893),m=r(6331),C=r(7287),d=r(5622),O=r(1135),U=r(4707),T=r(7579),x=r(1884),an=r(9841),h=r(4004),Dn=r(9300),hn=r(6451),Rn=r(3900),K=r(9646),cn=r(8746),vn=r(4782),sn=r(8505),q=r(262),rn=r(2722),Gn=r(5698);function mn(t,_){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&_.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(t);i<o.length;i++)_.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(e[o[i]]=t[o[i]])}return e}var pn=r(5556),F=r(4951),nn=r(5460),R=r(5357),Z=r(3842);function Yn(t,_){if(1&t&&(n.TgZ(0,"h2"),n.SDv(1,8),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.pQV(e.isRecurring),n.QtT(1)}}function Jn(t,_){if(1&t&&(n.ynx(0),n.SDv(1,9),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.pQV(e.isRecurring),n.QtT(1)}}function Hn(t,_){if(1&t){const e=n.EpF();n.TgZ(0,"div",10)(1,"button",11),n.NdJ("click",function(){return n.CHM(e),n.oxw().onCancelPaymentClick()}),n.SDv(2,12),n.qZA(),n.TgZ(3,"button",13),n.NdJ("click",function(){return n.CHM(e),n.oxw().onKeepPaymentClick()}),n.SDv(4,14),n.qZA()()}}function wn(t,_){if(1&t&&(n.ynx(0),n._uU(1),n.ALo(2,"slice"),n.ALo(3,"paymentCardNumber"),n.BQk()),2&t){const e=_.ngIf,o=n.oxw(2);n.xp6(1),n.hij(" ",n.xi3(2,1,n.xi3(3,4,e,o.accountNumberFormat),-14)," ")}}function Kn(t,_){if(1&t&&(n.TgZ(0,"div",14),n.YNc(1,wn,4,7,"ng-container",10),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.originatorAccount||null==e.originatorAccount.identification?null:e.originatorAccount.identification.identification)}}function Fn(t,_){if(1&t&&n._uU(0),2&t){const e=n.oxw();n.hij(" ",null==e.originatorAccount||null==e.originatorAccount.identification?null:e.originatorAccount.identification.identification," ")}}function kn(t,_){if(1&t&&(n.ynx(0),n._uU(1),n.ALo(2,"slice"),n.ALo(3,"paymentCardNumber"),n.BQk()),2&t){const e=_.ngIf,o=n.oxw(2);n.xp6(1),n.hij(" ",n.xi3(2,1,n.xi3(3,4,e,o.accountNumberFormat),-14)," ")}}function Wn(t,_){if(1&t&&(n.TgZ(0,"div",14),n.YNc(1,kn,4,7,"ng-container",10),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.originatorAccount||null==e.originatorAccount.identification?null:e.originatorAccount.identification.identification)}}function Zn(t,_){if(1&t&&n._uU(0),2&t){const e=n.oxw();n.hij(" ",null==e.counterPartyAccount||null==e.counterPartyAccount.identification?null:e.counterPartyAccount.identification.identification," ")}}function $n(t,_){if(1&t&&(n.ynx(0),n.TgZ(1,"div",15),n.SDv(2,16),n.qZA(),n.TgZ(3,"div",17),n._uU(4),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(4),n.hij(" ",null==e.payment?null:e.payment.paymentSetupId," ")}}function zn(t,_){if(1&t&&(n.ynx(0),n.TgZ(1,"div",18),n.SDv(2,19),n.qZA(),n.TgZ(3,"div",20),n._uU(4),n.ALo(5,"date"),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(4),n.hij(" ",n.xi3(5,1,(null==e.payment||null==e.payment.schedule?null:e.payment.schedule.nextExecutionDate)||(null==e.payment?null:e.payment.requestedExecutionDate),"longDate")," ")}}function Qn(t,_){if(1&t&&(n.ynx(0),n.TgZ(1,"div",1),n.SDv(2,23),n.qZA(),n.TgZ(3,"div",24),n._uU(4),n.ALo(5,"date"),n.qZA(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(4),n.hij(" ",n.xi3(5,1,null==e.payment||null==e.payment.schedule?null:e.payment.schedule.endDate,"longDate")," ")}}function jn(t,_){if(1&t&&(n.ynx(0),n.TgZ(1,"div",1),n.SDv(2,25),n.qZA(),n.TgZ(3,"div",26),n.SDv(4,27),n.qZA(),n.BQk()),2&t){const e=_.ngIf;n.xp6(4),n.pQV(e),n.QtT(4)}}function Vn(t,_){if(1&t&&(n.ynx(0),n.TgZ(1,"div",1),n.SDv(2,28),n.qZA(),n.TgZ(3,"div",29),n._uU(4),n.qZA(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(4),n.hij(" ",null==e.payment||null==e.payment.schedule?null:e.payment.schedule.repeat," ")}}function qn(t,_){if(1&t&&(n.TgZ(0,"div",1),n.SDv(1,21),n.qZA(),n.TgZ(2,"div",22),n._uU(3),n.ALo(4,"date"),n.qZA(),n.YNc(5,Qn,6,4,"ng-container",10),n.YNc(6,jn,5,1,"ng-container",10),n.YNc(7,Vn,5,1,"ng-container",10)),2&t){const e=n.oxw();n.xp6(3),n.hij(" ",n.xi3(4,4,null==e.payment||null==e.payment.schedule?null:e.payment.schedule.startDate,"longDate")," "),n.xp6(2),n.Q6J("ngIf",null==e.payment||null==e.payment.schedule?null:e.payment.schedule.endDate),n.xp6(1),n.Q6J("ngIf",null==e.payment||null==e.payment.schedule?null:e.payment.schedule.transferFrequency),n.xp6(1),n.Q6J("ngIf",null==e.payment||null==e.payment.schedule?null:e.payment.schedule.repeat)}}function Xn(t,_){if(1&t&&(n.ynx(0),n.TgZ(1,"div",1),n.SDv(2,30),n.qZA(),n.TgZ(3,"div",31),n._uU(4),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(4),n.hij(" ",null==e.transactionInformation||null==e.transactionInformation.remittanceInformation?null:e.transactionInformation.remittanceInformation.content," ")}}function ne(t,_){if(1&t&&(n.ynx(0),n._UZ(1,"hr",11),n.TgZ(2,"div",1),n.SDv(3,32),n.qZA(),n.TgZ(4,"div",33),n._uU(5),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(5),n.hij(" ",e.paymentTypeInfo," ")}}function ee(t,_){if(1&t&&(n.TgZ(0,"div",15),n._uU(1),n.qZA()),2&t){const e=_.ngIf,o=n.oxw(2);n.xp6(1),n.hij(" ","DEBTOR"===(null==e?null:e.role)?null==o.payment||null==o.payment.originator?null:o.payment.originator.name:null==e?null:e.name," ")}}function te(t,_){if(1&t&&n._UZ(0,"bb-badge-ui",16),2&t){const e=n.oxw(2);n.s9C("color",null==e.statusText?null:e.statusText.color),n.s9C("text",null==e.statusText?null:e.statusText.text)}}function oe(t,_){if(1&t&&(n.ynx(0),n.TgZ(1,"div",17)(2,"span",18),n._uU(3),n.qZA(),n.TgZ(4,"span",19),n._UZ(5,"bb-icon-ui",20),n.qZA()(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(3),n.Oqu((null==e.statusText?null:e.statusText.longText)||(null==e.statusText?null:e.statusText.text)),n.xp6(1),n.Q6J("bbTooltip",e.tooltipMessage)}}function _e(t,_){if(1&t){const e=n.EpF();n.TgZ(0,"div",5)(1,"div",6),n._UZ(2,"bb-icon-ui",7),n.qZA(),n.YNc(3,ee,2,1,"div",8),n.TgZ(4,"div",9),n._UZ(5,"bb-amount-ui",10),n.qZA(),n.YNc(6,te,1,2,"bb-badge-ui",11),n.YNc(7,oe,6,2,"ng-container",12),n.qZA(),n.TgZ(8,"button",13),n.NdJ("click",function(){return n.CHM(e),n.oxw().onClose()}),n._UZ(9,"bb-icon-ui",14),n.qZA()}if(2&t){const e=n.oxw();n.xp6(2),n.s9C("color","RECURRING"===(null==e.payment?null:e.payment.paymentMode)?"secondary":"inactive"),n.Q6J("name","RECURRING"===(null==e.payment?null:e.payment.paymentMode)?"repeat":"call-made")("size","xl"),n.xp6(1),n.Q6J("ngIf",null==e.payment||null==e.payment.transferTransactionInformation?null:e.payment.transferTransactionInformation.counterparty),n.xp6(2),n.Q6J("currency",(null==e.payment||null==e.payment.transferTransactionInformation||null==e.payment.transferTransactionInformation.instructedAmount?null:e.payment.transferTransactionInformation.instructedAmount.currencyCode)||"")("amount",(null==e.payment||null==e.payment.transferTransactionInformation||null==e.payment.transferTransactionInformation.instructedAmount?null:e.payment.transferTransactionInformation.instructedAmount.amount)||"")("mapCurrency",!(null==e.config||null==e.config.uiComponentProps||!e.config.uiComponentProps.mapCurrency)),n.xp6(1),n.Q6J("ngIf",(null==e.statusText?null:e.statusText.text)&&(null==e.statusText?null:e.statusText.color)&&(null==e.statusText?null:e.statusText.shownOnDetailsView)),n.xp6(1),n.Q6J("ngIf",(null==e.statusText?null:e.statusText.text)&&!(null!=e.statusText&&e.statusText.color))}}function ie(t,_){if(1&t&&n._UZ(0,"bb-upcoming-payments-details-list",21),2&t){const e=n.oxw();n.Q6J("payment",e.payment)("config",e.config)}}function ae(t,_){if(1&t){const e=n.EpF();n.TgZ(0,"button",26),n.NdJ("click",function(){return n.CHM(e),n.oxw(3).onCancelPayment()}),n.SDv(1,27),n.qZA()}}function ce(t,_){if(1&t){const e=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){return n.CHM(e),n.oxw(3).onEditPayment()}),n.SDv(1,29),n.qZA()}}function se(t,_){if(1&t&&(n.TgZ(0,"div",23),n.YNc(1,ae,2,0,"button",24),n.YNc(2,ce,2,0,"button",25),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",e.showCancelButton),n.xp6(1),n.Q6J("ngIf",e.showEditButton)}}function re(t,_){if(1&t&&n.YNc(0,se,3,2,"div",22),2&t){const e=n.oxw();n.Q6J("ngIf","ACCEPTED"===(null==e.payment?null:e.payment.status))}}function le(t,_){if(1&t&&n._UZ(0,"bb-badge-ui",18),2&t){const e=n.oxw(2);n.s9C("color",null==e.statusText?null:e.statusText.color),n.s9C("text",null==e.statusText?null:e.statusText.text)}}function me(t,_){if(1&t&&(n.TgZ(0,"div",19)(1,"span",5),n.SDv(2,20),n.qZA(),n.TgZ(3,"span"),n._uU(4," \xa0- "),n.SDv(5,21),n.qZA()()),2&t){const e=n.oxw(2);n.xp6(5),n.pQV(e.schedule),n.QtT(5)}}function ue(t,_){if(1&t){const e=n.EpF();n.TgZ(0,"button",24),n.NdJ("click",function(i){return n.CHM(e),n.oxw(3).onEditClick(i)})("keydown.enter",function(i){return n.CHM(e),n.oxw(3).onEditClick(i)})("keydown.space",function(i){return n.CHM(e),n.oxw(3).onEditClick(i)}),n.SDv(1,25),n.qZA()}if(2&t){const e=n.oxw(3);n.uIk("data-role","upcoming-payment-item-edit-button-"+e.paymentTypeSuffix)}}function Ae(t,_){if(1&t){const e=n.EpF();n.TgZ(0,"button",26),n.NdJ("click",function(i){return n.CHM(e),n.oxw(3).onCancelClick(i)})("keydown.enter",function(i){return n.CHM(e),n.oxw(3).onCancelClick(i)})("keydown.space",function(i){return n.CHM(e),n.oxw(3).onCancelClick(i)}),n.SDv(1,27),n.qZA()}if(2&t){const e=n.oxw(3);n.uIk("data-role","upcoming-payment-item-cancel-button-"+e.paymentTypeSuffix)}}function pe(t,_){if(1&t&&(n.ynx(0),n.YNc(1,ue,2,1,"button",22),n.YNc(2,Ae,2,1,"button",23),n.BQk()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",e.showEditButton),n.xp6(1),n.Q6J("ngIf",e.showCancelButton)}}function Ee(t,_){if(1&t&&(n.ynx(0),n.TgZ(1,"div",28)(2,"span",29),n._uU(3),n.qZA(),n.TgZ(4,"span",30),n._UZ(5,"bb-icon-ui",31),n.qZA()(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(3),n.Oqu(null==e.statusText?null:e.statusText.text),n.xp6(1),n.Q6J("bbTooltip",e.tooltipMessage)}}function ge(t,_){if(1&t&&(n.ynx(0),n.TgZ(1,"div",3)(2,"div",4)(3,"span",5),n.SDv(4,6),n.qZA(),n.TgZ(5,"div",7),n._uU(6),n.qZA(),n.YNc(7,le,1,2,"bb-badge-ui",8),n.qZA(),n.TgZ(8,"div",9)(9,"span"),n.SDv(10,10),n.qZA(),n.TgZ(11,"div",11),n._UZ(12,"bb-ellipsis-ui",12),n.qZA(),n.YNc(13,me,6,1,"div",13),n.qZA()(),n.TgZ(14,"div",14)(15,"div",15)(16,"span",5),n.SDv(17,16),n.qZA(),n._UZ(18,"bb-amount-ui",17),n.qZA(),n.YNc(19,pe,3,2,"ng-container",2),n.YNc(20,Ee,6,2,"ng-container",2),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(6),n.hij(" ","DEBTOR"===(null==e.transactionInformation||null==e.transactionInformation.counterparty?null:e.transactionInformation.counterparty.role)?null==e.payment||null==e.payment.originator?null:e.payment.originator.name:null==e.transactionInformation||null==e.transactionInformation.counterparty?null:e.transactionInformation.counterparty.name," "),n.xp6(1),n.Q6J("ngIf",(null==e.statusText?null:e.statusText.text)&&(null==e.statusText?null:e.statusText.color)&&(null==e.statusText?null:e.statusText.showOnListView)),n.xp6(5),n.Q6J("text","DEBTOR"===(null==e.transactionInformation||null==e.transactionInformation.counterparty?null:e.transactionInformation.counterparty.role)?null==e.transactionInformation||null==e.transactionInformation.counterparty?null:e.transactionInformation.counterparty.name:null==e.payment||null==e.payment.originator?null:e.payment.originator.name),n.xp6(1),n.Q6J("ngIf","RECURRING"===(null==e.payment?null:e.payment.paymentMode)),n.xp6(5),n.Q6J("currency",(null==e.transactionInformation||null==e.transactionInformation.instructedAmount?null:e.transactionInformation.instructedAmount.currencyCode)||"")("amount",(null==e.transactionInformation||null==e.transactionInformation.instructedAmount?null:e.transactionInformation.instructedAmount.amount)||"")("mapCurrency",!(null==e.config.uiComponentProps||!e.config.uiComponentProps.mapCurrency)),n.xp6(1),n.Q6J("ngIf","ACCEPTED"===(null==e.payment?null:e.payment.status)),n.xp6(1),n.Q6J("ngIf",!e.showCancelButton&&!e.showEditButton&&"ACCEPTED"===(null==e.payment?null:e.payment.status))}}function Se(t,_){if(1&t){const e=n.EpF();n.TgZ(0,"li",6)(1,"div",7),n.NdJ("keydown.enter",function(){const a=n.CHM(e).$implicit;return n.oxw(2).onPaymentItemClick(a)})("click",function(){const a=n.CHM(e).$implicit;return n.oxw(2).onPaymentItemClick(a)}),n.TgZ(2,"bb-upcoming-payments-item",8),n.NdJ("cancelPayment",function(){const a=n.CHM(e).$implicit;return n.oxw(2).onCancelPayment(a)}),n.qZA()()()}if(2&t){const e=_.$implicit;n.xp6(2),n.Q6J("payment",e)}}function de(t,_){if(1&t&&(n.ynx(0),n.TgZ(1,"div",3)(2,"ul",4),n.YNc(3,Se,3,1,"li",5),n.qZA()(),n.BQk()),2&t){const e=n.oxw();n.xp6(3),n.Q6J("ngForOf",null==e.paymentsGroup?null:e.paymentsGroup.items)("ngForTrackBy",e.trackPaymentItem)}}function Me(t,_){if(1&t){const e=n.EpF();n.TgZ(0,"div",5)(1,"bb-upcoming-payments-item-group",6),n.NdJ("paymentItemClick",function(i){return n.CHM(e),n.oxw(2).onPaymentItemClick(i)})("cancelPayment",function(i){return n.CHM(e),n.oxw(2).onCancelPayment(i)}),n.qZA()()}if(2&t){const e=_.$implicit;n.xp6(1),n.Q6J("paymentsGroup",e)}}function ye(t,_){if(1&t){const e=n.EpF();n.TgZ(0,"div",7)(1,"bb-load-button-ui",8),n.NdJ("paramChange",function(i){return n.CHM(e),n.oxw(2).loadMoreParamChange(i)}),n.SDv(2,9),n.qZA()()}if(2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("isLoading",e.loading)("size",e.loadMoreSize)("from",e.loadMoreFrom)("totalCount",e.totalCount)}}function Ne(t,_){if(1&t&&(n.ynx(0),n.TgZ(1,"div",2),n.YNc(2,Me,2,1,"div",3),n.qZA(),n.YNc(3,ye,3,4,"div",4),n.BQk()),2&t){const e=n.oxw();n.xp6(2),n.Q6J("ngForOf",e.upcomingPayments)("ngForTrackBy",e.trackPaymentsGroup),n.xp6(1),n.Q6J("ngIf",e.hasMore||e.loading)}}function Ce(t,_){1&t&&(n.TgZ(0,"div",10),n._UZ(1,"bb-empty-state-ui",11),n.qZA())}function De(t,_){if(1&t){const e=n.EpF();n.TgZ(0,"bb-upcoming-payments-list",6),n.NdJ("paymentItemClick",function(i){return n.CHM(e),n.oxw(3).onPaymentItemClick(i)})("loadMoreParam",function(i){return n.CHM(e),n.oxw(3).onLoadMoreParam(i)}),n.ALo(1,"async"),n.qZA()}if(2&t){const e=n.oxw().ngIf,o=n.oxw(2);n.Q6J("upcomingPayments",null==e?null:e.items)("totalCount",(null==e?null:e.totalCount)||0)("loadMoreSize",o.pageSize||0)("loadMoreFrom",o.loadMoreFrom)("loading",!!n.lcZ(1,5,o.loading$))}}function he(t,_){1&t&&n._UZ(0,"bb-loading-indicator-ui",7)}function Re(t,_){if(1&t&&(n.ynx(0),n.YNc(1,De,2,7,"bb-upcoming-payments-list",4),n.ALo(2,"async"),n.YNc(3,he,1,0,"ng-template",null,5,n.W1O),n.BQk()),2&t){const e=n.MAs(4),o=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!n.lcZ(2,2,o.acting$))("ngIfElse",e)}}function ve(t,_){if(1&t&&(n.ynx(0),n.YNc(1,Re,5,4,"ng-container",1),n.ALo(2,"async"),n.BQk()),2&t){const e=n.oxw(),o=n.MAs(3);n.xp6(1),n.Q6J("ngIf",n.lcZ(2,2,e.payments$))("ngIfElse",o)}}function Ge(t,_){1&t&&n._UZ(0,"bb-loading-indicator-ui",8)}function Le(t,_){1&t&&(n.TgZ(0,"div",9),n._UZ(1,"bb-empty-state-ui",10),n.qZA())}function xe(t,_){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"bb-upcoming-payments-details",1),n.NdJ("close",function(){return n.CHM(e),n.oxw().onCloseDetails()})("cancelPayment",function(){const a=n.CHM(e).ngIf;return n.oxw().onCancelPayment(a)})("editPayment",function(){const a=n.CHM(e).ngIf;return n.oxw().onEditPayment(a)}),n.qZA(),n.BQk()}if(2&t){const e=_.ngIf,o=n.oxw();n.xp6(1),n.Q6J("isOpen",!!e)("payment",e)("config",o.configService)}}function Ye(t,_){if(1&t){const e=n.EpF();n.TgZ(0,"bb-upcoming-payments-list",7),n.NdJ("paymentItemClick",function(i){return n.CHM(e),n.oxw(3).onPaymentItemClick(i)})("loadMoreParam",function(i){return n.CHM(e),n.oxw(3).onLoadMoreParam(i)})("cancelPayment",function(i){return n.CHM(e),n.oxw(3).onCancelPayment(i)}),n.ALo(1,"async"),n.qZA()}if(2&t){const e=n.oxw().ngIf,o=n.oxw(2);n.Q6J("upcomingPayments",null==e?null:e.items)("totalCount",(null==e?null:e.totalCount)||0)("loadMoreSize",o.pageSize||0)("loadMoreFrom",o.loadMoreFrom)("loading",!!n.lcZ(1,5,o.loading$))}}function Je(t,_){1&t&&n._UZ(0,"bb-loading-indicator-ui",8)}function He(t,_){if(1&t){const e=n.EpF();n.TgZ(0,"bb-upcoming-payments-cancel-payment-confirmation",9),n.NdJ("cancelPayment",function(){const a=n.CHM(e).ngIf;return n.oxw(3).onConfirmCancelPayment(!0,a)})("keepPayment",function(){return n.CHM(e),n.oxw(3).onConfirmCancelPayment(!1)}),n.qZA()}if(2&t){const e=_.ngIf,o=n.oxw(3);n.Q6J("isOpen",!0)("isRecurring",o.isRecurringPayment(e))}}function we(t,_){if(1&t&&(n.ynx(0),n.YNc(1,Ye,2,7,"bb-upcoming-payments-list",4),n.ALo(2,"async"),n.YNc(3,Je,1,0,"ng-template",null,5,n.W1O),n.YNc(5,He,1,2,"bb-upcoming-payments-cancel-payment-confirmation",6),n.ALo(6,"async"),n.BQk()),2&t){const e=n.MAs(4),o=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!n.lcZ(2,3,o.acting$))("ngIfElse",e),n.xp6(4),n.Q6J("ngIf",n.lcZ(6,5,o.paymentItemToCancel$))}}function Ke(t,_){if(1&t&&(n.ynx(0),n.YNc(1,we,7,7,"ng-container",1),n.ALo(2,"async"),n.BQk()),2&t){const e=n.oxw(),o=n.MAs(3);n.xp6(1),n.Q6J("ngIf",n.lcZ(2,2,e.payments$))("ngIfElse",o)}}function Fe(t,_){1&t&&n._UZ(0,"bb-loading-indicator-ui",10)}function ke(t,_){1&t&&(n.TgZ(0,"div",11),n._UZ(1,"bb-empty-state-ui",12),n.qZA())}class ${}let en=(()=>{class t{constructor(){this.modelOptions={backdrop:"static",keyboard:!1},this.isOpen=!1,this.isRecurring=!1,this.keepPayment=new n.vpe,this.cancelPayment=new n.vpe}onKeepPaymentClick(){this.keepPayment.emit()}onCancelPaymentClick(){this.cancelPayment.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-upcoming-payments-cancel-payment-confirmation"]],inputs:{isOpen:"isOpen",isRecurring:"isRecurring"},outputs:{keepPayment:"keepPayment",cancelPayment:"cancelPayment"},decls:8,vars:2,consts:function(){let _,e,o,i,a,c;return _="{VAR_SELECT, select, true {Cancel Recurring Transfer?} other {Cancel Scheduled Transfer?}}",_=n.Zx4(_,{VAR_SELECT:"\ufffd0\ufffd"}),e=" " + _ + " ",o="{VAR_SELECT, select, true {This recurring transfer will be permanently cancelled.} other {This scheduled\n        transfer will be permanently cancelled.}}",o=n.Zx4(o,{VAR_SELECT:"\ufffd0\ufffd"}),i=" " + o + " ",a=" Cancel Transfer ",c=" Not now ",[[3,"isOpen","modalOptions"],["data-role","cancel-payment-confirmation-header"],["bbCustomModalHeader",""],["data-role","cancel-payment-confirmation-body"],["bbCustomModalBody",""],["data-role","cancel-payment-confirmation-footer"],["footerRef",""],["bbCustomModalFooter",""],e,i,[1,"bb-button-bar"],["bbButton","","color","danger","data-role","cancel-payment-confirm-btn",1,"bb-button-bar__button",3,"click"],a,["bbButton","","color","link","data-role","keep-payment-btn",1,"bb-button-bar__button",3,"click"],c]},template:function(e,o){1&e&&(n.TgZ(0,"bb-modal-ui",0)(1,"bb-modal-header-ui",1),n.YNc(2,Yn,2,1,"ng-template",2),n.qZA(),n.TgZ(3,"bb-modal-body-ui",3),n.YNc(4,Jn,2,1,"ng-template",4),n.qZA(),n.TgZ(5,"bb-modal-footer-ui",5,6),n.YNc(7,Hn,5,0,"ng-template",7),n.qZA()()),2&e&&n.Q6J("isOpen",o.isOpen)("modalOptions",o.modelOptions)},directives:[N.zS,N.Rb,N.KF,N.YI,N.cA,N.Qd,N.yk,D.Hq],encapsulation:2,changeDetection:0}),t})();const H="P2P_TRANSFER",w="EXTERNAL_A2A",b={pending:"PP01",inProcess:"PP02",authenticationFailed:"PP11",failed:"PP12",returned:"PP13",expired:"PP14"},En="details-modal",gn="This payment can\u2019t be cancelled because it has already been accepted by the recipient.",Sn="This payment can\u2019t be edited nor cancelled because its being processed.";let dn=(()=>{class t{constructor(){this.accountNumberFormat={length:36,maskRange:[0,-4],segments:4}}get transactionInformation(){var e;return null===(e=this.payment)||void 0===e?void 0:e.transferTransactionInformation}get originatorAccount(){var e,o,i,a,c;return"DEBTOR"===(null===(o=null===(e=this.transactionInformation)||void 0===e?void 0:e.counterparty)||void 0===o?void 0:o.role)?null===(a=null===(i=this.payment)||void 0===i?void 0:i.transferTransactionInformation)||void 0===a?void 0:a.counterpartyAccount:null===(c=this.payment)||void 0===c?void 0:c.originatorAccount}get counterPartyAccount(){var e,o,i,a,c;return"DEBTOR"===(null===(o=null===(e=this.transactionInformation)||void 0===e?void 0:e.counterparty)||void 0===o?void 0:o.role)?null===(i=this.payment)||void 0===i?void 0:i.originatorAccount:null===(c=null===(a=this.payment)||void 0===a?void 0:a.transferTransactionInformation)||void 0===c?void 0:c.counterpartyAccount}get paymentTypeInfo(){var e,o,i;return(null===(o=null===(e=this.config)||void 0===e?void 0:e.paymentTypeInfoTexts)||void 0===o?void 0:o[(null===(i=this.payment)||void 0===i?void 0:i.paymentType)||""])||""}get isAccountNumber(){var e,o,i,a;const c=null===(a=null===(i=null===(o=null===(e=this.payment)||void 0===e?void 0:e.transferTransactionInformation)||void 0===o?void 0:o.counterpartyAccount)||void 0===i?void 0:i.identification)||void 0===a?void 0:a.schemeName;return["IBAN","BBAN"].includes(c||"")}get isP2PTransfer(){var e;return(null===(e=this.payment)||void 0===e?void 0:e.paymentType)===H}get isA2ATransfer(){var e;return(null===(e=this.payment)||void 0===e?void 0:e.paymentType)===w}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-upcoming-payments-details-list"]],inputs:{payment:"payment",config:"config"},decls:24,vars:11,consts:function(){let _,e,o,i,a,c,s,p,l,I,B,g;return _=" From Account ",e=" To Account ",o=" Confirmation Number ",i=" Transfer Date ",a=" Start Date ",c=" End Date ",s=" Frequency ",p="{VAR_SELECT, select, ONCE {Once} DAILY {Daily} WEEKLY {Weekly} BIWEEKLY {Bi-Weekly} MONTHLY {Monthly} QUARTERLY {Quarterly} YEARLY {Annually}}",p=n.Zx4(p,{VAR_SELECT:"\ufffd0\ufffd"}),l=" " + p + " ",I=" Number of Occurrences ",B=" Description ",g=" Payment Type ",[[1,"break-word","bb-block","bb-block--lg"],[1,"bb-text-bold","bb-block","bb-block--xs"],_,["data-role","paying-from-account",1,"bb-block","bb-block--md"],["class","contextual-alternates-off",4,"ngIf","ngIfElse"],["unmaskedAccount",""],e,["data-role","counter-party-name"],["data-role","counter-party-account",1,"bb-block","bb-block--md"],["unmaskedCounterpartyTemp",""],[4,"ngIf"],[1,"bb-block","bb-block--lg"],[4,"ngIf","ngIfElse"],["recurringTemp",""],[1,"contextual-alternates-off"],["data-role","payment-details-confirmation-number-title",1,"bb-text-bold","bb-block","bb-block--xs"],o,["data-role","payment-details-confirmation-number"],["data-role","upcoming-payments-details-page.execution-date-label",1,"bb-text-bold","bb-block","bb-block--xs"],i,["data-role","execution-date",1,"bb-block","bb-block--md"],a,["data-role","start-date",1,"bb-block","bb-block--md"],c,["data-role","end-date",1,"bb-block","bb-block--md"],s,["data-role","recurring-frequency",1,"bb-block","bb-block--md"],l,I,[1,"bb-block","bb-block--md"],B,["data-role","description",1,"bb-block","bb-block--md","break-word"],g,[1,"bb-block","bb-block--md","break-word"]]},template:function(e,o){if(1&e&&(n.TgZ(0,"div",0)(1,"div",1),n.SDv(2,2),n.qZA(),n.TgZ(3,"div"),n._uU(4),n.qZA(),n.TgZ(5,"div",3),n.YNc(6,Kn,2,1,"div",4),n.YNc(7,Fn,1,1,"ng-template",null,5,n.W1O),n.qZA(),n.TgZ(9,"div",1),n.SDv(10,6),n.qZA(),n.TgZ(11,"div",7),n._uU(12),n.qZA(),n.TgZ(13,"div",8),n.YNc(14,Wn,2,1,"div",4),n.YNc(15,Zn,1,1,"ng-template",null,9,n.W1O),n.qZA(),n.YNc(17,$n,5,1,"ng-container",10),n.qZA(),n._UZ(18,"hr",11),n.YNc(19,zn,6,4,"ng-container",12),n.YNc(20,qn,8,7,"ng-template",null,13,n.W1O),n.YNc(22,Xn,5,1,"ng-container",10),n.YNc(23,ne,6,1,"ng-container",10)),2&e){const i=n.MAs(8),a=n.MAs(16),c=n.MAs(21);n.xp6(4),n.hij(" ","DEBTOR"===(null==o.transactionInformation||null==o.transactionInformation.counterparty?null:o.transactionInformation.counterparty.role)?null==o.transactionInformation||null==o.transactionInformation.counterparty?null:o.transactionInformation.counterparty.name:null==o.payment||null==o.payment.originator?null:o.payment.originator.name," "),n.xp6(2),n.Q6J("ngIf",null==o.config?null:o.config.maskAccounts)("ngIfElse",i),n.xp6(6),n.hij(" ","DEBTOR"===(null==o.transactionInformation||null==o.transactionInformation.counterparty?null:o.transactionInformation.counterparty.role)?null==o.payment||null==o.payment.originator?null:o.payment.originator.name:null==o.transactionInformation||null==o.transactionInformation.counterparty?null:o.transactionInformation.counterparty.name," "),n.xp6(2),n.Q6J("ngIf",(null==o.config?null:o.config.maskAccounts)&&o.isAccountNumber)("ngIfElse",a),n.xp6(3),n.Q6J("ngIf",(null==o.payment?null:o.payment.paymentSetupId)&&(o.isP2PTransfer||o.isA2ATransfer)),n.xp6(2),n.Q6J("ngIf","RECURRING"!==(null==o.payment?null:o.payment.paymentMode))("ngIfElse",c),n.xp6(3),n.Q6J("ngIf",null==o.transactionInformation?null:o.transactionInformation.remittanceInformation),n.xp6(1),n.Q6J("ngIf",o.paymentTypeInfo)}},directives:[y.O5],pipes:[y.OU,f.V9,y.uU],encapsulation:2,changeDetection:0}),t})();const tn=(t=new Date)=>{const _=new Date(t),e=String(_.getMonth()+1),o=String(_.getDate());return`${String(_.getFullYear())}-${e.padStart(2,"0")}-${o.padStart(2,"0")}`},Mn=(t,_)=>{const e=new Date;return t&&e.setDate(e.getDate()+t),_?e.toISOString():tn(e)},We=(t,_)=>t.sort((e,o)=>{var i,a;const c=(null===(i=e.schedule)||void 0===i?void 0:i.nextExecutionDate)||e.requestedExecutionDate,s=(null===(a=o.schedule)||void 0===a?void 0:a.nextExecutionDate)||o.requestedExecutionDate,p=new Date(c||"").getTime()-new Date(s||"").getTime();return"ASC"===_?p:-p}),Ze=t=>t.reduce((_,e)=>_.some(i=>i.id===e.id)?_:_.concat(e),[]),yn=t=>!((null==t?void 0:t.paymentType)===H||(null==t?void 0:t.paymentType)===w&&t.reasonCode===b.inProcess),Nn=t=>!((null==t?void 0:t.paymentType)===H&&t.reasonCode===b.inProcess||(null==t?void 0:t.paymentType)===w&&t.reasonCode===b.inProcess);let on=(()=>{class t{constructor(){this.p2pReasonCodes=b,this.p2pPaymentType=H,this.isOpen=!1,this.cancelPayment=new n.vpe,this.close=new n.vpe,this.editPayment=new n.vpe}get statusText(){var e;return null===(e=this.config)||void 0===e?void 0:e.paymentStatusTextMapping(this.payment)}onCancelPayment(){this.cancelPayment.emit()}onClose(){this.isOpen=!1,this.close.emit()}onEditPayment(){this.editPayment.emit(this.payment)}get showEditButton(){return yn(this.payment)}get showCancelButton(){return Nn(this.payment)}get tooltipMessage(){var e;return(null===(e=this.payment)||void 0===e?void 0:e.paymentType)===w?Sn:gn}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-upcoming-payments-details"]],inputs:{isOpen:"isOpen",payment:"payment",config:"config"},outputs:{cancelPayment:"cancelPayment",close:"close",editPayment:"editPayment"},decls:8,vars:1,consts:function(){let _,e,o;return _="Close payment detail dialog",e=" Cancel Transfer ",o=" Edit ",[[3,"isOpen","cancel","confirm"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["footerRef",""],["bbCustomModalFooter",""],[1,"bb-upcoming-payments-details-header__wrapper","bb-block--lg"],[1,"bb-block--sm"],["backgroundType","square",3,"name","size","color"],["data-role","upj-details-modal-header-counter-party","class","bb-text-bold bb-block--sm",4,"ngIf"],[1,"bb-heading-3","bb-block--sm"],[3,"currency","amount","mapCurrency"],["data-role","payment-item-details-status-text",3,"color","text",4,"ngIf"],[4,"ngIf"],["type","button","aria-label",_,"data-role","close-popup-btn",1,"bb-upcoming-payments-details__modal-header-button-close",3,"click"],["name","clear",1,"bb-stack"],["data-role","upj-details-modal-header-counter-party",1,"bb-text-bold","bb-block--sm"],["data-role","payment-item-details-status-text",3,"color","text"],[1,"bb-inline-stack"],[1,"text-muted","bb-stack__item","bb-stack__item--spacing-sm"],["placement","bottom","triggers","hover",3,"bbTooltip"],["name","info","size","sm",1,"text-muted","bb-stack"],[3,"payment","config"],["class","bb-button-bar",4,"ngIf"],[1,"bb-button-bar"],["bbButton","","class","bb-button-bar__button","color","danger","data-role","cancel-payment-btn",3,"click",4,"ngIf"],["bbButton","","class","bb-button-bar__button","type","button",3,"click",4,"ngIf"],["bbButton","","color","danger","data-role","cancel-payment-btn",1,"bb-button-bar__button",3,"click"],e,["bbButton","","type","button",1,"bb-button-bar__button",3,"click"],o]},template:function(e,o){1&e&&(n.TgZ(0,"bb-modal-ui",0),n.NdJ("cancel",function(){return o.onClose()})("confirm",function(){return o.onClose()}),n.TgZ(1,"bb-modal-header-ui"),n.YNc(2,_e,10,9,"ng-template",1),n.qZA(),n.TgZ(3,"bb-modal-body-ui"),n.YNc(4,ie,1,2,"ng-template",2),n.qZA(),n.TgZ(5,"bb-modal-footer-ui",null,3),n.YNc(7,re,1,1,"ng-template",4),n.qZA()()),2&e&&n.Q6J("isOpen",o.isOpen)},directives:[N.zS,N.Rb,A.o,u.G4,E.F,N.KF,dn,N.YI,N.cA,y.O5,P.i,N.Qd,N.yk,D.Hq],encapsulation:2,changeDetection:0}),t})();const z=t=>t.reduce((_,e)=>{var o;const i=(null===(o=e.schedule)||void 0===o?void 0:o.nextExecutionDate)||e.requestedExecutionDate||"",a=_.findIndex(c=>c.executionDate===i);return a<=-1?_.push({executionDate:i,items:[e]}):_[a].items.push(e),_},[]),ze=new n.OlP("ManageUpcomingAndHistoricalPaymentsJourneyConfigurationToken injection token"),Cn={notificationDismissTime:3e3,maskAccounts:!1,upcomingPaymentParams:{orderBy:"requestedExecutionDate",direction:"ASC",status:["ACCEPTED"],executionDateFrom:tn(),nextExecutionDateFrom:tn(),from:0,size:50},historyPaymentParams:{orderBy:"requestedExecutionDate",direction:"DESC",status:["CANCELLED","REJECTED","PROCESSED"],paymentTypes:"INTRABANK_TRANSFER,INTERNAL_TRANSFER,EXTERNAL_A2A,P2P_TRANSFER",from:0,size:50},paymentTypeInfoTexts:{INTERNAL_TRANSFER:"Internal account transfer",EXTERNAL_A2A:"Connected account transfer",INTRABANK_TRANSFER:"Pay someone using account number",P2P_TRANSFER:"Pay someone using mobile number or email address"},journeyTitle:"Activity",uiComponentProps:{mapCurrency:!0},paymentStatusTextMapping:t=>{var _,e;const o={text:"Failed",color:"danger",showOnListView:!0,shownOnDetailsView:!0},i={[H]:{[b.pending]:{text:"Pending",color:"warning",showOnListView:!0,shownOnDetailsView:!0},[b.inProcess]:{text:"Accepted",longText:"Accepted by recipient",color:""},[b.expired]:{text:"Expired",color:"warning",showOnListView:!0,shownOnDetailsView:!0},[b.authenticationFailed]:o,[b.failed]:o,[b.returned]:o},[w]:{[b.pending]:{text:"Pending",color:"warning",showOnListView:!0,shownOnDetailsView:!0},[b.inProcess]:{text:"In process",color:""},[b.failed]:o}};switch(null==t?void 0:t.status){case S.qb.ACCEPTED:return(null==t?void 0:t.paymentType)&&(null==t?void 0:t.reasonCode)?null===(_=i[t.paymentType])||void 0===_?void 0:_[t.reasonCode]:void 0;case S.qb.REJECTED:return(null==t?void 0:t.paymentType)&&(null==t?void 0:t.reasonCode)?(null===(e=i[t.paymentType])||void 0===e?void 0:e[t.reasonCode])||o:void 0;case S.qb.CANCELLED:return{text:"Cancelled",color:"secondary",showOnListView:!0,shownOnDetailsView:!0};case S.qb.PROCESSED:return{text:"Sent",color:"success",showOnListView:!0,shownOnDetailsView:!0};default:return}}};let G=(()=>{class t{constructor(e){this.config=e,this._config=Object.assign(Object.assign({},Cn),this.config||{})}get defaults(){return Cn}get notificationDismissTime(){return this._config.notificationDismissTime}get maskAccounts(){return this._config.maskAccounts}get historyPaymentParams(){return this._config.historyPaymentParams}get upcomingPaymentParams(){return this._config.upcomingPaymentParams}get paymentTypeInfoTexts(){return this._config.paymentTypeInfoTexts}get journeyTitle(){return this._config.journeyTitle}get uiComponentProps(){return this._config.uiComponentProps}get paymentStatusTextMapping(){return this._config.paymentStatusTextMapping}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(ze,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),fn=(()=>{class t{constructor(e,o){this.communicatonService=e,this.config=o,this.p2pReasonCodes=b,this.p2pPaymentType=H,this.cancelPayment=new n.vpe}get transactionInformation(){var e;return null===(e=this.payment)||void 0===e?void 0:e.transferTransactionInformation}get schedule(){var e,o;return null===(o=null===(e=this.payment)||void 0===e?void 0:e.schedule)||void 0===o?void 0:o.transferFrequency}get isRecurring(){var e;return"RECURRING"===(null===(e=this.payment)||void 0===e?void 0:e.paymentMode)}get statusText(){var e;return null===(e=this.config)||void 0===e?void 0:e.paymentStatusTextMapping(this.payment)}get showEditButton(){return yn(this.payment)}get showCancelButton(){return Nn(this.payment)}get tooltipMessage(){var e;return(null===(e=this.payment)||void 0===e?void 0:e.paymentType)===w?Sn:gn}get paymentTypeSuffix(){var e,o,i;const a=(null===(e=this.payment)||void 0===e?void 0:e.paymentType)||"";return"DEBTOR"===(null===(i=null===(o=this.transactionInformation)||void 0===o?void 0:o.counterparty)||void 0===i?void 0:i.role)?`${a}-pull-funds`:a}onCancelClick(e){e.stopPropagation(),this.cancelPayment.emit()}onEditClick(e){var o;this.payment&&(e.stopPropagation(),null===(o=this.communicatonService)||void 0===o||o.navigateToEditPayment(this.payment))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36($,8),n.Y36(G))},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-upcoming-payments-item"]],inputs:{payment:"payment"},outputs:{cancelPayment:"cancelPayment"},decls:3,vars:3,consts:function(){let _,e,o,i,a,c,s;return _=" Counter party name: ",e="From\xA0",o=" Amount: ",i=" Payment Mode: ",a="{VAR_SELECT, select, ONCE {Once} DAILY {Daily} WEEKLY {Weekly} BIWEEKLY {Bi-Weekly} MONTHLY {Monthly} QUARTERLY {Quarterly} YEARLY {Annually}}",a=n.Zx4(a,{VAR_SELECT:"\ufffd0\ufffd"}),c=" Edit ",s=" Cancel ",[["data-role","upcoming-payment-item",1,"bb-stack"],["backgroundType","square","size","lg",1,"bb-stack__item","bb-stack__item--spacing-md",3,"name","color"],[4,"ngIf"],[1,"bb-stack__item","bb-stack__item--fill","bb-ellipsis","bb-ellipsis--single-line"],[1,"bb-stack","bb-block","bb-block--xs"],[1,"sr-only"],_,["data-role","upcoming-payment-item-counterparty-name",1,"bb-text-bold","bb-stack__item","bb-stack__item--spacing-md","bb-ellipsis","bb-ellipsis--single-line"],["class","bb-stack__item","data-role","payment-item-status-text",3,"color","text",4,"ngIf"],[1,"bb-inline-stack","text-muted","bb-subtitle"],e,[1,"bb-inline-stack__item","bb-inline-stack__item--spacing-none","bb-block","bb-block--full-width"],["data-role","upcoming-payment-item-originator-name",3,"text"],["class","bb-inline-stack__item",4,"ngIf"],[1,"bb-stack__item","bb-text-align-right"],[1,"bb-block","bb-block--xs","bb-text-align-right","bb-text-bold"],o,["data-role","upcoming-payment-item-amount",3,"currency","amount","mapCurrency"],["data-role","payment-item-status-text",1,"bb-stack__item",3,"color","text"],[1,"bb-inline-stack__item"],i,a,["bbButton","","color","link-text","buttonSize","sm","class","bb-stack__item bb-stack__item--spacing-lg",3,"click","keydown.enter","keydown.space",4,"ngIf"],["bbButton","","color","link-text","buttonSize","sm","class","bb-stack__item bb-text-warning bb-text-danger",3,"click","keydown.enter","keydown.space",4,"ngIf"],["bbButton","","color","link-text","buttonSize","sm",1,"bb-stack__item","bb-stack__item--spacing-lg",3,"click","keydown.enter","keydown.space"],c,["bbButton","","color","link-text","buttonSize","sm",1,"bb-stack__item","bb-text-warning","bb-text-danger",3,"click","keydown.enter","keydown.space"],s,[1,"bb-inline-stack"],["data-role","upcoming-payment-item-tooltip",1,"text-muted","bb-subtitle","bb-stack__item","bb-stack__item--spacing-xs"],["placement","bottom","triggers","hover",3,"bbTooltip"],["name","info","size","sm",1,"text-muted","bb-stack"]]},template:function(e,o){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"bb-icon-ui",1),n.YNc(2,ge,21,9,"ng-container",2),n.qZA()),2&e&&(n.xp6(1),n.s9C("name",o.isRecurring?"repeat":"call-made"),n.s9C("color",o.isRecurring?"secondary":"inactive"),n.xp6(1),n.Q6J("ngIf",o.transactionInformation))},directives:[A.o,E.F,m.SN,u.G4,y.O5,D.Hq,P.i],encapsulation:2,changeDetection:0}),t})(),On=(()=>{class t{constructor(){this.paymentItemClick=new n.vpe,this.cancelPayment=new n.vpe}onPaymentItemClick(e){this.paymentItemClick.emit(e)}trackPaymentItem(e,o){return null==o?void 0:o.requestedExecutionDate}formatExecutionDate(){var e;let o=null===(e=this.paymentsGroup)||void 0===e?void 0:e.executionDate;return o===Mn()?o="today":o===Mn(1)&&(o="tomorrow"),o}onCancelPayment(e){this.cancelPayment.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-upcoming-payments-item-group"]],inputs:{paymentsGroup:"paymentsGroup"},outputs:{paymentItemClick:"paymentItemClick",cancelPayment:"cancelPayment"},decls:4,vars:6,consts:function(){let _,e;return _="{VAR_SELECT, select, today {Today} tomorrow {Tomorrow} other {{INTERPOLATION}}}",_=n.Zx4(_,{VAR_SELECT:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),e=" " + _ + "\n",[["data-role","group-item-label",1,"bb-stack","bb-subheader","bb-text-support","bb-block","bb-block--xl"],e,[4,"ngIf"],[1,"bb-block","bb-block--sm"],[1,"bb-list"],["class","bb-list__item bb-list__item--no-separator",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bb-list__item","bb-list__item--no-separator"],["data-role","group-item-row","role","button","tabindex","0",3,"keydown.enter","click"],[3,"payment","cancelPayment"]]},template:function(e,o){1&e&&(n.TgZ(0,"div",0),n.SDv(1,1),n.ALo(2,"date"),n.qZA(),n.YNc(3,de,4,2,"ng-container",2)),2&e&&(n.xp6(2),n.pQV(o.formatExecutionDate())(n.xi3(2,3,null==o.paymentsGroup?null:o.paymentsGroup.executionDate,"longDate")),n.QtT(1),n.xp6(1),n.Q6J("ngIf",null==o.paymentsGroup||null==o.paymentsGroup.items?null:o.paymentsGroup.items.length))},directives:[fn,y.O5,y.sg],pipes:[y.uU],encapsulation:2,changeDetection:0}),t})(),Q=(()=>{class t{constructor(){this.upcomingPayments=[],this.totalCount=0,this.loading=!1,this.loadMoreFrom=0,this.loadMoreSize=0,this.paymentItemClick=new n.vpe,this.loadMoreParam=new n.vpe,this.cancelPayment=new n.vpe}loadMoreParamChange(e){this.loadMoreFrom=e.from,this.loadMoreParam.emit(e)}onPaymentItemClick(e){this.paymentItemClick.emit(e)}trackPaymentsGroup(e,o){return o?o.executionDate:void 0}onCancelPayment(e){this.cancelPayment.emit(e)}get hasMore(){return this.loadMoreFrom*this.loadMoreSize+this.loadMoreSize<this.totalCount}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-upcoming-payments-list"]],inputs:{upcomingPayments:"upcomingPayments",totalCount:"totalCount",loading:"loading",loadMoreFrom:"loadMoreFrom",loadMoreSize:"loadMoreSize"},outputs:{paymentItemClick:"paymentItemClick",loadMoreParam:"loadMoreParam",cancelPayment:"cancelPayment"},decls:3,vars:2,consts:function(){let _,e,o;return _=" Load more ",e="No Payments",o="You do not have any payments to be displayed.",[[4,"ngIf","ngIfElse"],["emptyState",""],[1,"bb-list","bb-block","bb-block--xl"],["class","bb-list__item",4,"ngFor","ngForOf","ngForTrackBy"],["class","bb-text-align-center",4,"ngIf"],[1,"bb-list__item"],["data-role","upcoming-payment-group-item",3,"paymentsGroup","paymentItemClick","cancelPayment"],[1,"bb-text-align-center"],["color","link","data-role","load-more-btn",3,"isLoading","size","from","totalCount","paramChange"],_,[1,"bb-state-container"],["title",e,"subtitle",o,"iconSize","xl","iconModifier","loans"]]},template:function(e,o){if(1&e&&(n.YNc(0,Ne,4,3,"ng-container",0),n.YNc(1,Ce,2,0,"ng-template",null,1,n.W1O)),2&e){const i=n.MAs(2);n.Q6J("ngIf",null==o.upcomingPayments?null:o.upcomingPayments.length)("ngIfElse",i)}},directives:[On,C.K,d.s,y.O5,y.sg],encapsulation:2,changeDetection:0}),t})();var Y=(()=>{return(t=Y||(Y={})).LoadPayments="LoadPayments",t.LoadMore="LoadMore",t.ReturnCachedData="ReturnCachedPayments",Y;var t})();let v=(()=>{class t{constructor(e){this.paymentOrdersService=e,this.loadMore$=new O.X(void 0),this.loadPayments$=new U.t(1),this.returnCachedData$=new T.x,this.loadingSub$=new U.t(1),this.actingSub$=new U.t(1),this.totalCounts={withExecutionDate:0,withNextExecutionDate:0},this.loading$=this.loadingSub$.pipe((0,x.x)()),this.acting$=this.actingSub$.pipe((0,x.x)()),this.paymentActions$=(0,an.a)([this.loadPayments$.pipe((0,h.U)(o=>Object.assign({type:Y.LoadPayments},o))),this.loadMore$.pipe((0,h.U)(o=>({type:Y.LoadMore,from:o})))]).pipe((0,h.U)(([o,i])=>Object.assign(Object.assign({},o),i.from?i:null)),(0,Dn.h)(o=>void 0!==o.type)),this.paymentState$=(0,hn.T)(this.paymentActions$,this.returnCachedData$.pipe((0,h.U)(()=>({type:Y.ReturnCachedData})))).pipe((0,Rn.w)(o=>{var{type:i}=o,a=mn(o,["type"]);if(i===Y.ReturnCachedData)return(0,K.of)(this.payments);const c=i===Y.LoadMore;return this.loadingSub$.next(!0),this.combinePaymentCalls(a).pipe((0,h.U)(s=>this.handlePaymentSuccess(Object.assign(Object.assign({},s),{isLoadMore:c}))),(0,cn.x)(()=>this.loadingSub$.next(!1)))}),(0,vn.d)())}get payments$(){return this.paymentState$}loadPayments(e){this.loadPayments$.next(e)}loadMore(e){this.loadMore$.next(e)}cancelPayment(e,o){return this.actingSub$.next(!0),this.paymentOrdersService.postCancelByPaymentOrderId({paymentOrderId:e,paymentOrderCancelPostRequest:{version:o}},"response").pipe((0,cn.x)(()=>this.actingSub$.next(!1)),(0,sn.b)(()=>{this.handleCancelPaymentSuccess(e)}))}handleCancelPaymentSuccess(e){if(this.payments){const o=this.payments.items.filter(i=>i.id!==e);this.payments={items:o,totalCount:this.payments.totalCount},this.returnCachedData$.next()}}handlePaymentSuccess(e){var o;const i=[];if(e.isLoadMore){const a=(null===(o=this.payments)||void 0===o?void 0:o.items)||[];i.push(...a)}return this.payments={items:[...i,...e.items],totalCount:e.totalCount||e.items.length},this.payments}fetchPayments(e){return this.paymentOrdersService.getPaymentOrders(e,"response").pipe((0,h.U)(o=>{const i=o.headers.get("x-total-count");return{totalCount:Number(i),items:o.body||[]}}))}combinePaymentCalls(e){return e.nextExecutionDateFrom&&e.executionDateFrom?this.handleMultipleCalls(e):this.fetchPayments(e)}handleMultipleCalls(e){const{nextExecutionDateFrom:o,executionDateFrom:i,size:a}=e,c=mn(e,["nextExecutionDateFrom","executionDateFrom","size"]),s=(a||0)/2;let p=this.fetchPayments(Object.assign(Object.assign({},c),{nextExecutionDateFrom:o,size:s})),l=this.fetchPayments(Object.assign(Object.assign({},c),{executionDateFrom:i,size:s}));const B=(g,M)=>(g=>((null==e?void 0:e.from)||0)*s<g)(M)?g:(0,K.of)({items:[],totalCount:M});return e.from&&e.from>0&&(p=B(p,this.totalCounts.withNextExecutionDate),l=B(l,this.totalCounts.withExecutionDate)),(0,an.a)([l,p]).pipe((0,h.U)(([g,M])=>{const k=[...g.items,...M.items];return this.totalCounts={withExecutionDate:g.totalCount,withNextExecutionDate:M.totalCount},{totalCount:2*Math.max(g.totalCount,M.totalCount),items:Ze(We(k,e.direction||"DESC"))}}))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(S.k4))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),In=(()=>{class t{constructor(e){this.configService=e}get title(){return "" + this.configService.journeyTitle + ""}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(G))},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-manage-upcoming-and-historical-payments-journey"]],decls:4,vars:1,consts:[["headingType","h2","headingClasses","bb-heading-1 bb-block bb-block--xl",3,"heading"],["name","details-modal"]],template:function(e,o){1&e&&(n.ynx(0),n._UZ(1,"bb-header-ui",0)(2,"router-outlet")(3,"router-outlet",1),n.BQk()),2&e&&(n.xp6(1),n.Q6J("heading",o.title))},directives:[nn.G,R.lC],encapsulation:2}),t})(),Pn=(()=>{class t{constructor(e,o){this.router=e,this.route=o}navigateToHistory(e){this.router.navigate(["history"],Object.assign({relativeTo:this.route},e||{}))}navigateToUpcoming(e){this.router.navigate(["upcoming"],Object.assign({relativeTo:this.route},e||{}))}mapRouteToTabIndex(){const e=this.router.url.split("/");return"history"===e[e.length-1]?1:0}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(R.F0),n.LFG(R.gz))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),j=(()=>{class t{constructor(e){this.router=e,this.selectedPaymentItemDetails$=new O.X(void 0),this.paymentItemToCancel$=new T.x,this.defaultNavigationExtras={skipLocationChange:!0}}get selectedPaymentItem$(){return this.selectedPaymentItemDetails$.asObservable()}get cancelPaymentItem$(){return this.paymentItemToCancel$.asObservable()}set setCancelPaymentItem(e){this.paymentItemToCancel$.next(e)}togglePaymentDetailsModal(e,o={}){this.selectedPaymentItemDetails$.next(e),this.router.navigate([{outlets:{[En]:e?["payment-details"]:null}}],Object.assign(Object.assign({},this.defaultNavigationExtras),o))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(R.F0))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),Tn=(()=>{class t{constructor(e,o,i,a,c){this.dataService=e,this.journeyDataService=o,this.configService=i,this.viewService=a,this.route=c,this.acting$=this.journeyDataService.acting$,this.loading$=this.journeyDataService.loading$,this.loadMoreFrom=0,this.pageSize=this.configService.historyPaymentParams.size,this.payments$=this.dataService.payments$.pipe((0,h.U)(s=>s&&{items:z(s.items),totalCount:s.totalCount}),(0,q.K)(s=>(this.error=s,(0,K.of)(void 0))))}ngOnInit(){this.dataService.loadPayments(this.configService.historyPaymentParams)}onPaymentItemClick(e){this.viewService.togglePaymentDetailsModal(e,{relativeTo:this.route.parent})}onLoadMoreParam(e){this.dataService.loadMore(e.from),this.loadMoreFrom=this.loadMoreFrom+1}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(v),n.Y36(v),n.Y36(G),n.Y36(j),n.Y36(R.gz))},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-history-payments-list-view"]],features:[n._Bn([v])],decls:6,vars:2,consts:function(){let _,e,o;return _="updating data...",e="Page couldn't load",o="Try to reload the page or contact the system administrator.",[[1,"card","card-body"],[4,"ngIf","ngIfElse"],["loadingPayments",""],["errorState",""],[3,"upcomingPayments","totalCount","loadMoreSize","loadMoreFrom","loading","paymentItemClick","loadMoreParam",4,"ngIf","ngIfElse"],["acting",""],[3,"upcomingPayments","totalCount","loadMoreSize","loadMoreFrom","loading","paymentItemClick","loadMoreParam"],["text",_],["text","Loading data...","text-i18n","@@bb-upcoming-and-history-payments-journey.payment-list-container.loading-placeholder"],[1,"bb-state-container"],["title",e,"subtitle",o,"iconSize","xxl","iconModifier","error"]]},template:function(e,o){if(1&e&&(n.TgZ(0,"div",0),n.YNc(1,ve,3,4,"ng-container",1),n.YNc(2,Ge,1,0,"ng-template",null,2,n.W1O),n.YNc(4,Le,2,0,"ng-template",null,3,n.W1O),n.qZA()),2&e){const i=n.MAs(5);n.xp6(1),n.Q6J("ngIf",!o.error)("ngIfElse",i)}},directives:[Q,F.Q,d.s,y.O5],pipes:[y.Ov],encapsulation:2,changeDetection:0}),t})(),bn=(()=>{class t{constructor(e,o,i,a){this.route=e,this.viewService=o,this.configService=i,this.communicatonService=a,this.selectedPaymentItem$=this.viewService.selectedPaymentItem$.pipe((0,Gn.q)(1),(0,sn.b)(c=>{c||this.onCloseDetails()}))}onCloseDetails(){var e;this.viewService.togglePaymentDetailsModal(void 0,{relativeTo:null===(e=this.route.parent)||void 0===e?void 0:e.parent})}onEditPayment(e){var o;null===(o=this.communicatonService)||void 0===o||o.navigateToEditPayment(e)}onCancelPayment(e){this.viewService.setCancelPaymentItem=e}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(R.gz),n.Y36(j),n.Y36(G),n.Y36($,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-payment-details-modal-view"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"isOpen","payment","config","close","cancelPayment","editPayment"]],template:function(e,o){1&e&&(n.YNc(0,xe,2,3,"ng-container",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,o.selectedPaymentItem$))},directives:[on,y.O5],pipes:[y.Ov],encapsulation:2,changeDetection:0}),t})();const Ve={path:"",component:In,children:[{path:"",component:(()=>{class t{constructor(e,o){this.navigationService=e,this.route=o,this.initialTabSelection=0}ngOnInit(){this.initialTabSelection=this.navigationService.mapRouteToTabIndex()}onTabSelect(e){0===e?this.navigationService.navigateToUpcoming({relativeTo:this.route}):this.navigationService.navigateToHistory({relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Pn),n.Y36(R.gz))},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-upcoming-and-history-payments-tab-container-view"]],decls:6,vars:1,consts:function(){let _,e;return _="Scheduled",e="History",[[1,"bb-upcoming-payments-tab-container",3,"initialSelection","select"],_,e]},template:function(e,o){1&e&&(n.TgZ(0,"bb-tab-group-ui",0),n.NdJ("select",function(a){return o.onTabSelect(a)}),n.TgZ(1,"bb-tab-ui"),n.SDv(2,1),n.qZA(),n.TgZ(3,"bb-tab-ui"),n.SDv(4,2),n.qZA()(),n._UZ(5,"router-outlet")),2&e&&n.Q6J("initialSelection",o.initialTabSelection)},directives:[Z.QW,Z.id,R.lC],encapsulation:2}),t})(),children:[{path:"",pathMatch:"full",redirectTo:"upcoming"},{path:"upcoming",component:(()=>{class t{constructor(e,o,i,a,c){this.dataService=e,this.config=o,this.viewService=i,this.route=a,this.notificationService=c,this.acting$=this.dataService.acting$,this.loading$=this.dataService.loading$,this.paymentItemToCancel$=this.viewService.cancelPaymentItem$,this.loadMoreFrom=0,this.pageSize=this.config.upcomingPaymentParams.size,this.payments$=this.dataService.payments$.pipe((0,h.U)(s=>s&&{items:z(s.items),totalCount:s.totalCount}),(0,q.K)(s=>(this.error=s,(0,K.of)(void 0)))),this.destroy$=new T.x}ngOnInit(){this.dataService.loadPayments(this.config.upcomingPaymentParams)}ngOnDestroy(){this.destroy$.next(void 0),this.destroy$.complete()}onPaymentItemClick(e){this.viewService.togglePaymentDetailsModal(e,{relativeTo:this.route.parent})}onLoadMoreParam(e){this.dataService.loadMore(e.from),this.loadMoreFrom=this.loadMoreFrom+1}onCancelPayment(e){this.viewService.setCancelPaymentItem=e}isRecurringPayment(e){return"RECURRING"===(null==e?void 0:e.paymentMode)}onConfirmCancelPayment(e,o){var i,a,c;if(this.viewService.setCancelPaymentItem=void 0,e&&(this.viewService.togglePaymentDetailsModal(void 0,{relativeTo:null===(i=this.route.parent)||void 0===i?void 0:i.parent}),o)){const s=null===(c=null===(a=o.transferTransactionInformation)||void 0===a?void 0:a.counterparty)||void 0===c?void 0:c.name,p=this.isRecurringPayment(o);this.dataService.cancelPayment(o.id,o.version).pipe((0,rn.R)(this.destroy$)).subscribe(()=>{this.showNotification(!0,{header:"Payment cancelled",message:p?"Recurring payment to \"" + s + "\" has been cancelled successfully.":"Upcoming payment to \"" + s + "\" has been cancelled successfully."})},()=>{this.showNotification(!1,{header:"Failed to Cancel Transfer!",message:"Failed to cancel The payment to \"" + s + "\"."})})}}showNotification(e,o){this.notificationService.showNotification(Object.assign({dismissible:!0,ttl:this.config.notificationDismissTime,modifier:e?"success":"error"},o))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(v),n.Y36(G),n.Y36(j),n.Y36(R.gz),n.Y36(pn.gq))},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-upcoming-payments-list-view"]],features:[n._Bn([v])],decls:6,vars:2,consts:function(){let _,e,o;return _="updating data...",e="Page couldn't load",o="Try to reload the page or contact the system administrator.",[[1,"card","card-body"],[4,"ngIf","ngIfElse"],["loadingPayments",""],["errorState",""],[3,"upcomingPayments","totalCount","loadMoreSize","loadMoreFrom","loading","paymentItemClick","loadMoreParam","cancelPayment",4,"ngIf","ngIfElse"],["acting",""],[3,"isOpen","isRecurring","cancelPayment","keepPayment",4,"ngIf"],[3,"upcomingPayments","totalCount","loadMoreSize","loadMoreFrom","loading","paymentItemClick","loadMoreParam","cancelPayment"],["text",_],[3,"isOpen","isRecurring","cancelPayment","keepPayment"],["text","Loading data...","text-i18n","@@bb-upcoming-and-history-payments-journey.payment-list-container.loading-placeholder"],[1,"bb-state-container"],["title",e,"subtitle",o,"iconSize","xxl","iconModifier","error"]]},template:function(e,o){if(1&e&&(n.TgZ(0,"div",0),n.YNc(1,Ke,3,4,"ng-container",1),n.YNc(2,Fe,1,0,"ng-template",null,2,n.W1O),n.YNc(4,ke,2,0,"ng-template",null,3,n.W1O),n.qZA()),2&e){const i=n.MAs(5);n.xp6(1),n.Q6J("ngIf",!o.error)("ngIfElse",i)}},directives:[Q,F.Q,en,d.s,y.O5],pipes:[y.Ov],encapsulation:2,changeDetection:0}),t})()},{path:"history",component:Tn}]},{path:"payment-details",component:bn,outlet:En}]},qe=[Z.IQ,A.Q,u.i7,C.C,d.P,F.p,N.zk,D.hJ,nn.O,f.nj,P.z,m.OG,E.T];let Xe=(()=>{class t{static forRoot(e={route:Ve}){return{ngModule:t,providers:[(0,R.co)([e.route])]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[G,Pn,S.k4,j],imports:[[y.ez,R.Bz,...qe],Z.IQ,A.Q,u.i7,C.C,d.P,F.p,N.zk,D.hJ,nn.O,f.nj,P.z,m.OG,E.T]}),t})();var nt=r(6393),et=r(570);let tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[{provide:$,useExisting:nt.m},{provide:S.bL,useExisting:et.dW}],imports:[[Xe.forRoot()]]}),t})()},8511:()=>{},4747:(V,L,r)=>{"use strict";r.d(L,{Le:()=>J,cY:()=>f,kU:()=>y});var S=r(5e3),n=r(682);const N={segments:4},D=new S.OlP("ACCOUNTS_DISPLAYING_FORMAT_TOKEN");let J=(()=>{class A{constructor(E){this.accountsDisplayingFormat=E}getDefaultFormat(E,P){var m,C;return"cardNumber"===E?this.getCardNumberFormat(P):null!==(C=null===(m=this.accountsDisplayingFormat)||void 0===m?void 0:m[E])&&void 0!==C?C:N}getCardNumberFormat(E){var P;const m=null===(P=this.accountsDisplayingFormat)||void 0===P?void 0:P.cardNumber,C=Object.entries((null==m?void 0:m.cardProviders)||{}).reduce((d,O)=>Object.assign(Object.assign({},d),{[O[0].toLowerCase()]:O[1]}),{});return E&&C[E.toLowerCase()]?C[E.toLowerCase()]:null!=m?m:N}}return A.\u0275fac=function(E){return new(E||A)(S.LFG(D,8))},A.\u0275prov=S.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),y=(()=>{class A{constructor(E){this.accountsDisplayingFormatService=E}transform(E,P,m){const C=E.toString(),d="object"==typeof P?P:this.accountsDisplayingFormatService.getDefaultFormat(P,m);return(0,n.EX)(C,d.segments)}}return A.\u0275fac=function(E){return new(E||A)(S.Y36(J,16))},A.\u0275pipe=S.Yjl({name:"bbAccountNumber",type:A,pure:!0}),A})(),f=(()=>{class A{}return A.\u0275fac=function(E){return new(E||A)},A.\u0275mod=S.oAB({type:A}),A.\u0275inj=S.cJS({}),A})()},3823:(V,L,r)=>{"use strict";r.d(L,{Z:()=>J,_:()=>y});var S=r(5e3),n=r(9808);let J=(()=>{class f{constructor(u,E){this.renderer=u,this.elementRef=E,this.negativeClass="bb-amount--negative",this.positiveClass="bb-amount--positive",this.amountValue=0,this.highlightValue=!0}set amount(u){this.amountValue="number"==typeof u?u:parseFloat(u)}set bbHighlight(u){this.highlightValue=""===u||u}get isPositive(){return this.amountValue>=0}ngOnChanges(u){u.negativeClass&&this.renderer.removeClass(this.elementRef.nativeElement,u.negativeClass.previousValue),u.positiveClass&&this.renderer.removeClass(this.elementRef.nativeElement,u.positiveClass.previousValue),(u.amount||u.highlight||u.bbHighlight)&&(this.renderer.removeClass(this.elementRef.nativeElement,this.negativeClass),this.renderer.removeClass(this.elementRef.nativeElement,this.positiveClass)),this.highlightValue&&this.renderer.addClass(this.elementRef.nativeElement,this.isPositive?this.positiveClass:this.negativeClass)}}return f.\u0275fac=function(u){return new(u||f)(S.Y36(S.Qsj),S.Y36(S.SBq))},f.\u0275dir=S.lG2({type:f,selectors:[["","bbHighlight",""]],inputs:{amount:"amount",bbHighlight:"bbHighlight",negativeClass:"negativeClass",positiveClass:"positiveClass"},features:[S.TTD]}),f})(),y=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=S.oAB({type:f}),f.\u0275inj=S.cJS({imports:[[n.ez]]}),f})()},9633:(V,L,r)=>{"use strict";r.d(L,{So:()=>J,V9:()=>E,nj:()=>P});var S=r(9808),n=r(5e3),N=r(682),D=r(4747);const J={length:16,maskRange:[0,12],segments:4},f=new n.OlP("Enables accounts masking synchronization with backend",{providedIn:"root",factory:()=>!1});let E=(()=>{class m{constructor(d,O){this.accountsDisplayingFormatService=d,this.synchronizeNumberMasking=O,this.defaultFormat=this.accountsDisplayingFormatService.getDefaultFormat("cardNumber")}transform(d,O,U="\u2022"){const T=null!=O?O:this.defaultFormat;let x=d.toString();return O&&!this.synchronizeNumberMasking&&(x=function A(m,C,d="0",O=!0){const U=Math.max(C-m.length,0),T=d.repeat(U);return O?T+m:m+T}(x,O.length,U),x=function u(m,[C,d],O="*"){let U="";if(d<0){const T=m.slice(d);U=O.repeat(m.length-T.length)+T}else{const T=O.repeat(d-C);U=m.substring(0,C)+T+m.substring(d)}return U}(x,O.maskRange,U)),(0,N.EX)(x,T.segments)}}return m.\u0275fac=function(d){return new(d||m)(n.Y36(D.Le,16),n.Y36(f,24))},m.\u0275pipe=n.Yjl({name:"paymentCardNumber",type:m,pure:!0}),m})(),P=(()=>{class m{}return m.\u0275fac=function(d){return new(d||m)},m.\u0275mod=n.oAB({type:m}),m.\u0275inj=n.cJS({imports:[[S.ez]]}),m})()}}]);