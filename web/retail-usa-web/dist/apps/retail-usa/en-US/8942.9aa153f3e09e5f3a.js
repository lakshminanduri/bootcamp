(self.webpackChunkretail_usa=self.webpackChunkretail_usa||[]).push([[8942],{7216:(V,L,c)=>{"use strict";c.r(L),c.d(L,{ConsentJourneyBundleModule:()=>Zo});var e=c(5e3),g=c(5357),r=c(9808),v=c(6072),D=c(3533),T=c(5622),p=c(4951),f=c(9287),S=c(194),a=c(1135),O=c(9646),m=c(4707),B=c(9841),b=c(9300),w=c(1884),d=c(8505),l=c(3900),M=c(262),I=c(5698),N=c(4004),H=c(4782),Z=(c(5739),(()=>{return(t=Z||(Z={})).ACTIVE="ACTIVE",t.REVOKED="REVOKED",t.EXPIRED="EXPIRED",Z;var t})());const oe={ReadAccountsDetail:"ReadAccountsDetail",ReadBalances:"ReadBalances",ReadTransactionsDetail:"ReadTransactionsDetail",ReadBeneficiariesDetail:"ReadBeneficiariesDetail",ReadDirectDebits:"ReadDirectDebits",ReadProducts:"ReadProducts",ReadStandingOrdersDetail:"ReadStandingOrdersDetail",ReadTransactionsCredits:"ReadTransactionsCredits",ReadTransactionsDebits:"ReadTransactionsDebits"};class se{constructor(o){this.error=o,this.kind="ConsentListAccessDenied"}}class At{constructor(o){this.error=o,this.kind="ConsentListBadRequest"}}class ie{constructor(o){this.error=o,this.kind="ConsentListUnknownError"}}class Ct{constructor(o){this.error=o,this.kind="ConsentListConnectivityError"}}class re{constructor(o){this.error=o,this.kind="ConsentDetailsAccessDenied"}}class Nt{constructor(o){this.error=o,this.kind="ConsentDetailsNotFound"}}class pt{constructor(o){this.error=o,this.kind="ConsentDetailsBadRequest"}}class ce{constructor(o){this.error=o,this.kind="ConsentDetailsUnknownError"}}class Mt{constructor(o){this.error=o,this.kind="ConsentDetailsConnectivityError"}}const ae=t=>{if(t.error instanceof ErrorEvent)return new ce(t);switch(t.status){case 0:return new Mt(t);case 400:return new pt(t);case 401:case 403:return new re(t);case 404:return new Nt(t);default:return new ce(t)}};class Ee{constructor(o){this.error=o,this.kind="ConsentRequestAccessDenied"}}class gt{constructor(o){this.error=o,this.kind="ConsentRequestNotFound"}}class Bt{constructor(o){this.error=o,this.kind="ConsentRequestBadRequest"}}class le{constructor(o){this.error=o,this.kind="ConsentRequestUnknownError"}}class mt{constructor(o){this.error=o,this.kind="ConsentRequestConnectivityError"}}const ee=t=>{if(t.error instanceof ErrorEvent)return new le(t);switch(t.status){case 0:return new mt(t);case 400:return new Bt(t);case 401:case 403:return new Ee(t);case 404:return new gt(t);default:return new le(t)}};class Se{constructor(o){this.error=o,this.kind="PaymentRequestAccessDenied"}}class Ut{constructor(o){this.error=o,this.kind="PaymentRequestNotFound"}}class Rt{constructor(o){this.error=o,this.kind="PaymentRequestBadRequest"}}class ue{constructor(o){this.error=o,this.kind="PaymentRequestUnknownError"}}class ft{constructor(o){this.error=o,this.kind="PaymentRequestConnectivityError"}}const te=t=>{if(t.error instanceof ErrorEvent)return new ue(t);switch(t.status){case 0:return new ft(t);case 400:return new Rt(t);case 401:case 403:return new Se(t);case 404:return new Ut(t);default:return new ue(t)}},de={"consent-details.error":"Failed to revoke consent","consent-details.success":"Consent was revoked"},Ae={"payment-request.error":"Operation failed"};var Y=c(6727),ne=c(5556);let Ce=(()=>{class t{constructor(n){this.consentHttpService=n,this.loading=new a.X(!0),this.error=new a.X(void 0),this.consents=this.getConsentsList().pipe((0,d.b)(()=>this.error.next(void 0)),(0,M.K)(_=>(this.error.next(_),(0,O.of)([]))),(0,d.b)(()=>this.loading.next(!1)))}getConsentsList(){return this.consentHttpService.getConsents("body").pipe((0,M.K)(n=>{throw(t=>{if(t.error instanceof ErrorEvent)return new ie(t);switch(t.status){case 0:return new Ct(t);case 400:return new At(t);case 401:case 403:return new se(t);default:return new ie(t)}})(n)}))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(Y.wc))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),Oe=(()=>{class t{constructor(n,_){this.consentDataService=n,this.notification=_,this.consentId=new m.t(1),this.revokingComplete=new a.X(!0),this.loading=new a.X(!0),this.error=new a.X(void 0),this.consentDetails=(0,B.a)([this.consentId,this.revokingComplete]).pipe((0,b.h)(([s])=>!!s),(0,w.x)(),(0,d.b)(()=>this.loading.next(!0)),(0,l.w)(([s])=>this.getConsentDetailsById(s)),(0,d.b)(()=>this.error.next(void 0)),(0,M.K)(s=>(this.error.next(s),(0,O.of)(void 0))),(0,d.b)(()=>this.loading.next(!1)))}getConsentFrom(n){n.subscribe(this.consentId)}requestRevoke(){return this.consentId.pipe((0,I.q)(1),(0,b.h)(n=>!!n),(0,l.w)(n=>this.revokeConsentById(n)),(0,d.b)(()=>{this.revokingComplete.next(!0),this.showNotification(de["consent-details.success"],"success")}),(0,M.K)(()=>(this.showNotification(de["consent-details.error"],"error"),(0,O.of)(void 0))))}getConsentDetailsById(n){return this.consentDataService.getIdByIdgetId({id:n},"response").pipe((0,N.U)(_=>_.body),(0,M.K)(_=>{throw ae(_)}))}revokeConsentById(n){return this.consentDataService.postRevokeById({id:n},"response").pipe((0,M.K)(_=>{throw ae(_)}))}showNotification(n,_){this.notification.showNotification({header:n,message:"",modifier:_})}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(Y.wc),e.LFG(ne.gq))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),Ne=(()=>{class t{constructor(n,_,s){this.consentReqService=n,this.consentHttpService=_,this.notification=s,this.consentRequestId=new m.t(1),this.loading=new a.X(!0),this.error=new a.X(void 0),this.saving=new a.X(!1),this.savingError=new a.X(void 0),this.consentRequest=this.consentRequestId.pipe((0,b.h)(i=>!!i),(0,w.x)(),(0,d.b)(()=>this.loading.next(!0)),(0,l.w)(i=>this.loadConsentRequest(i)),(0,d.b)(()=>this.error.next(void 0)),(0,M.K)(i=>(this.error.next(i),(0,O.of)(void 0))),(0,d.b)(()=>this.loading.next(!1)),(0,H.d)(1))}getConsentRequestFrom(n){n.subscribe(this.consentRequestId)}allowConsentRequest(n,_){return this.consentRequest.pipe((0,I.q)(1),(0,b.h)(s=>!!s),(0,d.b)(()=>this.saving.next(!0)),(0,l.w)(s=>this.allow(s,n)),(0,d.b)(()=>this.savingError.next(void 0)),(0,M.K)(s=>this.handleError(s,_)),(0,d.b)(()=>this.saving.next(!1)))}rejectConsentRequest(n){return this.consentRequest.pipe((0,I.q)(1),(0,b.h)(_=>void 0!==_),(0,d.b)(()=>this.saving.next(!0)),(0,l.w)(_=>this.reject(_)),(0,d.b)(()=>this.savingError.next(void 0)),(0,M.K)(_=>this.handleError(_,n)),(0,d.b)(()=>this.saving.next(!1)))}handleError(n,_){return this.savingError.next(n),_&&this.notification.showNotification({header:_,message:"",modifier:"error"}),(0,O.of)({})}loadConsentRequest(n){return this.consentReqService.getIdById({id:n},"response").pipe((0,N.U)(_=>_.body),(0,M.K)(_=>{throw ee(_)}))}allow({id:n,allowConsentRedirectUrl:_},s){return this.consentHttpService.postConsents({consentPost:{consentRequestId:n,accounts:s.map(i=>i.id)}},"body").pipe((0,N.U)(()=>({redirectUrl:_})),(0,M.K)(i=>{throw ee(i)}))}reject({id:n,rejectConsentRedirectUrl:_}){return this.consentReqService.postRejectById({id:n},"response").pipe((0,N.U)(()=>({redirectUrl:_})),(0,M.K)(s=>{throw ee(s)}))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(Y.J2),e.LFG(Y.wc),e.LFG(ne.gq))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),pe=(()=>{class t{constructor(){this.multiAccountSelectionInput=new a.X(!1),this.multiAccountSelection$=this.multiAccountSelectionInput.asObservable()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),Me=(()=>{class t{constructor(n,_){this.consentDataHttpService=n,this.notification=_,this.paymentRequestId=new m.t(1),this.loading=new a.X(!0),this.error=new a.X(void 0),this.saving=new a.X(!1),this.savingError=new a.X(void 0),this.paymentRequest=this.paymentRequestId.pipe((0,b.h)(s=>!!s),(0,w.x)(),(0,d.b)(()=>this.loading.next(!0)),(0,l.w)(s=>this.loadPaymentRequestRequest(s)),(0,d.b)(()=>this.error.next(void 0)),(0,M.K)(s=>(this.error.next(s),(0,O.of)(void 0))),(0,d.b)(()=>this.loading.next(!1)),(0,H.d)(1))}getPaymentRequestFrom(n){n.subscribe(this.paymentRequestId)}allowPaymentRequest(n){return this.paymentRequest.pipe((0,I.q)(1),(0,b.h)(_=>!!_),(0,d.b)(()=>this.saving.next(!0)),(0,l.w)(_=>this.allow(_,n)),(0,d.b)(()=>this.savingError.next(void 0)),(0,M.K)(_=>this.handleError(_,Ae["payment-request.error"])),(0,d.b)(()=>this.saving.next(!1)))}rejectPaymentRequest(){return this.paymentRequest.pipe((0,I.q)(1),(0,b.h)(n=>void 0!==n),(0,d.b)(()=>this.saving.next(!0)),(0,l.w)(n=>this.reject(n)),(0,d.b)(()=>this.savingError.next(void 0)),(0,M.K)(n=>this.handleError(n,Ae["payment-request.error"])),(0,d.b)(()=>this.saving.next(!1)))}handleError(n,_){return this.savingError.next(n),this.notification.showNotification({message:_,modifier:"error"}),(0,O.of)({})}loadPaymentRequestRequest(n){return this.consentDataHttpService.getIdByIdgetPaymentRequestById({id:n},"response").pipe((0,N.U)(_=>_?_.body:void 0),(0,M.K)(_=>{throw te(_)}))}allow({id:n,allowPaymentRedirectUrl:_},{id:s}){return this.consentDataHttpService.postConfirmById({id:n,paymentPost:{accountId:s}}).pipe((0,N.U)(()=>({redirectUrl:_})),(0,M.K)(i=>{throw te(i)}))}reject({id:n,rejectPaymentRedirectUrl:_}){return this.consentDataHttpService.postRejectByIdpostReject({id:n}).pipe((0,N.U)(()=>({redirectUrl:_})),(0,M.K)(s=>{throw te(s)}))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(Y.Sx),e.LFG(ne.gq))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();c(6650);var ge=c(7862),Be=c(5893),h=c(2908),y=c(7605),me=c(6858),P=c(9779),W=c(7555),K=c(3075),Ue=c(3823),Re=c(5413),Tt=c(2722),k=c(7579);function bt(t,o){if(1&t&&e._UZ(0,"bb-avatar-ui",8),2&t){const n=e.oxw();e.Q6J("image",n.image)}}function It(t,o){if(1&t&&(e.TgZ(0,"bb-icon-ui",9),e.NdJ("click",function(_){return _.stopPropagation()}),e.qZA()),2&t){const n=e.oxw();e.Q6J("size",n.condensed?"sm":"md")}}function Dt(t,o){if(1&t&&(e.TgZ(0,"bb-icon-ui",10),e.NdJ("click",function(_){return _.stopPropagation()}),e.qZA()),2&t){const n=e.oxw();e.Q6J("size",n.condensed?"sm":"md")}}function yt(t,o){1&t&&(e.TgZ(0,"div",15),e.SDv(1,16),e.qZA())}function vt(t,o){1&t&&(e.TgZ(0,"div",17),e.SDv(1,18),e.qZA())}function ht(t,o){if(1&t&&(e.TgZ(0,"div",11),e.YNc(1,yt,2,0,"div",12),e.YNc(2,vt,2,0,"div",13),e.TgZ(3,"div",14),e._uU(4),e.qZA()()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.expired),e.xp6(1),e.Q6J("ngIf",!n.expired),e.xp6(2),e.hij(" ",n.expiryDate," ")}}function Jt(t,o){1&t&&(e.TgZ(0,"div",20),e.SDv(1,21),e.qZA())}function Lt(t,o){1&t&&(e.TgZ(0,"div",20),e.SDv(1,22),e.qZA())}function Kt(t,o){1&t&&e._UZ(0,"bb-badge-ui",23)}function Pt(t,o){1&t&&e._UZ(0,"bb-badge-ui",24)}function Yt(t,o){1&t&&e._UZ(0,"bb-badge-ui",25)}function xt(t,o){1&t&&e._UZ(0,"bb-badge-ui",26),2&t&&e.Q6J("abbr",!0)}function qt(t,o){1&t&&e._UZ(0,"bb-badge-ui",27),2&t&&e.Q6J("abbr",!0)}function Ft(t,o){1&t&&e._UZ(0,"bb-badge-ui",28),2&t&&e.Q6J("abbr",!0)}function Wt(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"bb-third-party-provider-ui",3),e.ALo(4,"bbDate"),e.qZA(),e.TgZ(5,"div",4)(6,"span",5),e.SDv(7,6),e.qZA()(),e.TgZ(8,"div",7),e.YNc(9,Jt,2,0,"div",8),e.YNc(10,Lt,2,0,"div",8),e.TgZ(11,"div"),e._uU(12),e.ALo(13,"bbDate"),e.qZA()(),e.TgZ(14,"div",9)(15,"div",10),e.YNc(16,Kt,1,0,"bb-badge-ui",11),e.YNc(17,Pt,1,0,"bb-badge-ui",12),e.YNc(18,Yt,1,0,"bb-badge-ui",13),e.qZA()(),e.TgZ(19,"div",14)(20,"div",10),e.YNc(21,xt,1,1,"bb-badge-ui",15),e.YNc(22,qt,1,1,"bb-badge-ui",16),e.YNc(23,Ft,1,1,"bb-badge-ui",17),e.qZA()(),e.TgZ(24,"div",18)(25,"div",10),e._UZ(26,"bb-icon-ui",19),e.qZA()()(),e.BQk()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("name",n.consent.tpp.name)("url",n.consent.tpp.website)("image",n.consent.tpp.imageUrl)("verified",!!n.consent.tpp.isTrusted)("condensed",!0)("expiryDate",e.xi3(4,19,n.consent.expiryDate,"bbShort"))("expired",(null==n.consent?null:n.consent.status)===n.Status.EXPIRED)("showExpire",!0),e.xp6(4),e.pQV(n.consent.numberOfAccounts)(n.consent.numberOfAccounts),e.QtT(7),e.xp6(2),e.Q6J("ngIf",(null==n.consent?null:n.consent.status)===n.Status.EXPIRED),e.xp6(1),e.Q6J("ngIf",(null==n.consent?null:n.consent.status)!==n.Status.EXPIRED),e.xp6(2),e.hij(" ",e.xi3(13,22,n.consent.expiryDate,"bbShort")," "),e.xp6(4),e.Q6J("ngIf",n.consent.status===n.Status.ACTIVE),e.xp6(1),e.Q6J("ngIf",n.consent.status===n.Status.REVOKED),e.xp6(1),e.Q6J("ngIf",n.consent.status===n.Status.EXPIRED),e.xp6(3),e.Q6J("ngIf",n.consent.status===n.Status.ACTIVE),e.xp6(1),e.Q6J("ngIf",n.consent.status===n.Status.REVOKED),e.xp6(1),e.Q6J("ngIf",n.consent.status===n.Status.EXPIRED)}}function wt(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",2),e.NdJ("keyup.enter",function(){const i=e.CHM(n).$implicit;return e.oxw().onConsentSelect(i.id)})("click",function(){const i=e.CHM(n).$implicit;return e.oxw().onConsentSelect(i.id)}),e._UZ(1,"bb-consent-item-component",3),e.qZA()}if(2&t){const n=o.$implicit;e.uIk("data-role","consent-list-item-"+n.tpp.name),e.xp6(1),e.Q6J("consent",n)}}function Zt(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",5)}function Gt(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",6)}function Ht(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",7)}function kt(t,o){if(1&t&&(e.ynx(0,1),e.YNc(1,Zt,1,0,"bb-empty-state-ui",2),e.YNc(2,Gt,1,0,"bb-empty-state-ui",3),e.YNc(3,Ht,1,0,"bb-empty-state-ui",4),e.BQk()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.errorKind),e.xp6(1),e.Q6J("ngSwitchCase","ConsentListAccessDenied"),e.xp6(1),e.Q6J("ngSwitchCase","ConsentListConnectivityError")}}function zt(t,o){if(1&t&&(e.TgZ(0,"div",6),e._UZ(1,"bb-product-item-basic-account-ui",7),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("title",n.name)("productNumber",n.number)("amount",n.balance?+n.balance:void 0)("currency",n.currency)("highlight",!1)("active",!1)}}function Qt(t,o){if(1&t&&(e.TgZ(0,"div",1)(1,"div",2),e.SDv(2,3),e.qZA(),e.TgZ(3,"div",4),e.YNc(4,zt,2,6,"div",5),e.qZA()()),2&t){const n=e.oxw();e.xp6(4),e.Q6J("ngForOf",n.accounts)}}function $t(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",2)}function jt(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",8)}function Vt(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",9)}function Xt(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",10)}function en(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",11)}function tn(t,o){if(1&t&&(e.ynx(0,3),e.YNc(1,jt,1,0,"bb-empty-state-ui",4),e.YNc(2,Vt,1,0,"bb-empty-state-ui",5),e.YNc(3,Xt,1,0,"bb-empty-state-ui",6),e.YNc(4,en,1,0,"bb-empty-state-ui",7),e.BQk()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.errorKind),e.xp6(1),e.Q6J("ngSwitchCase","ConsentDetailsAccessDenied"),e.xp6(1),e.Q6J("ngSwitchCase","ConsentDetailsConnectivityError"),e.xp6(1),e.Q6J("ngSwitchCase","ConsentDetailsNotFound")}}function nn(t,o){1&t&&e._UZ(0,"bb-badge-ui",13)}function _n(t,o){1&t&&e._UZ(0,"bb-badge-ui",14)}function on(t,o){1&t&&e._UZ(0,"bb-badge-ui",15)}function sn(t,o){1&t&&(e.TgZ(0,"div",16),e.SDv(1,17),e.qZA())}function rn(t,o){1&t&&(e.TgZ(0,"div",18),e.SDv(1,19),e.qZA())}function cn(t,o){if(1&t&&(e.TgZ(0,"div",20),e._uU(1),e.ALo(2,"bbDate"),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,n.expiryDate,"bbShort")," ")}}function an(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){return e.CHM(n),e.oxw().onRevokeConsent()}),e.TgZ(1,"span"),e.SDv(2,22),e.qZA()()}}function En(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",5),e.SDv(2,6),e.qZA(),e.TgZ(3,"div",7),e.SDv(4,8),e.qZA()())}function ln(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",9),e.SDv(2,10),e.qZA()())}function Sn(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",11),e.SDv(2,12),e.qZA(),e.TgZ(3,"div",7),e.SDv(4,13),e.qZA()())}function un(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",14),e.SDv(2,15),e.qZA()())}function dn(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",14),e.SDv(2,16),e.qZA()())}function An(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",14),e.SDv(2,17),e.qZA()())}function Cn(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",14),e.SDv(2,18),e.qZA()())}function On(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",14),e.SDv(2,19),e.qZA()())}function Nn(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",14),e.SDv(2,20),e.qZA()())}function pn(t,o){if(1&t&&(e.TgZ(0,"div",7)(1,"div",8),e.SDv(2,9),e.qZA(),e.TgZ(3,"div",10),e._uU(4),e.qZA()()),2&t){const n=e.oxw(2);e.xp6(4),e.hij(" ",n.tpp.externalId," ")}}function Mn(t,o){if(1&t&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&t){const n=e.oxw(3);e.xp6(1),e.hij(" ",n.tpp.mail," ")}}function gn(t,o){if(1&t&&(e.TgZ(0,"div",17),e._uU(1),e.ALo(2,"phoneNumber"),e.qZA()),2&t){const n=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,n.tpp.phonenumber,n.isCountryCode(n.tpp.country))," ")}}function Bn(t,o){if(1&t&&(e.TgZ(0,"div",11)(1,"div",12),e.SDv(2,13),e.qZA(),e.YNc(3,Mn,2,1,"div",14),e.YNc(4,gn,3,4,"div",15),e.qZA()),2&t){const n=e.oxw(2);e.xp6(3),e.Q6J("ngIf",n.tpp.mail),e.xp6(1),e.Q6J("ngIf",n.tpp.phonenumber&&n.tpp.country)}}function mn(t,o){if(1&t&&(e.TgZ(0,"div",7)(1,"div",18),e.SDv(2,19),e.qZA(),e.TgZ(3,"div",20),e._uU(4),e.qZA()()),2&t){const n=e.oxw(2);e.xp6(4),e.hij(" ",n.tpp.address," ")}}function Un(t,o){if(1&t&&(e.TgZ(0,"div",1)(1,"div",2)(2,"span",3),e.SDv(3,4),e.qZA()(),e.YNc(4,pn,5,1,"div",5),e.YNc(5,Bn,5,2,"div",6),e.YNc(6,mn,5,1,"div",5),e.qZA()),2&t){const n=e.oxw();e.xp6(4),e.Q6J("ngIf",n.tpp.externalId),e.xp6(1),e.Q6J("ngIf",n.tpp.mail||n.tpp.phonenumber),e.xp6(1),e.Q6J("ngIf",n.tpp.address)}}function Rn(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",2)}function fn(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",7)}function Tn(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",8)}function bn(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",9)}function In(t,o){if(1&t&&(e.ynx(0,3),e.YNc(1,fn,1,0,"bb-empty-state-ui",4),e.YNc(2,Tn,1,0,"bb-empty-state-ui",5),e.YNc(3,bn,1,0,"bb-empty-state-ui",6),e.BQk()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.errorKind),e.xp6(1),e.Q6J("ngSwitchCase","PaymentRequestAccessDenied"),e.xp6(1),e.Q6J("ngSwitchCase","PaymentRequestConnectivityError")}}function Dn(t,o){if(1&t&&e._UZ(0,"bb-amount-ui",8),2&t){const _=o.currency;e.Q6J("amount",o.amount)("currency",_)("mapCurrency",!1)}}function yn(t,o){if(1&t&&(e.TgZ(0,"bb-product-item-basic-account-ui",6),e.YNc(1,Dn,1,3,"ng-template",7),e.qZA()),2&t){const n=o.item;e.Q6J("active",!0)("amount",n.balance)("currency",n.currency)("productNumber",n.IBAN||n.BBAN||n.number)("title",n.name)}}function vn(t,o){1&t&&(e.TgZ(0,"div",9),e.SDv(1,10),e.qZA())}const fe=function(t){return{"border border-danger rounded":t}};function hn(t,o){if(1&t&&(e.TgZ(0,"div",3)(1,"div",4),e._UZ(2,"bb-third-party-provider-ui",5),e.qZA()()),2&t){const n=e.oxw();e.xp6(2),e.Q6J("name",n.tpp.name)("url",n.tpp.website)("verified",!!n.tpp.isTrusted)("image",n.tpp.imageUrl)}}function Jn(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",2)}function Ln(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",7)}function Kn(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",8)}function Pn(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",9)}function Yn(t,o){if(1&t&&(e.ynx(0,3),e.YNc(1,Ln,1,0,"bb-empty-state-ui",4),e.YNc(2,Kn,1,0,"bb-empty-state-ui",5),e.YNc(3,Pn,1,0,"bb-empty-state-ui",6),e.BQk()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.errorKind),e.xp6(1),e.Q6J("ngSwitchCase","ConsentRequestAccessDenied"),e.xp6(1),e.Q6J("ngSwitchCase","ConsentRequestConnectivityError")}}function xn(t,o){1&t&&(e.TgZ(0,"div",8),e.SDv(1,9),e.qZA())}function qn(t,o){1&t&&(e.TgZ(0,"div",10),e.SDv(1,11),e.qZA())}function Fn(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).selectAll()}),e.SDv(2,18),e.qZA(),e.TgZ(3,"button",19),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).unselectAll()}),e.SDv(4,20),e.qZA()()}}function Wn(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",12)(1,"form",13)(2,"bb-search-box-ui",14),e.NdJ("clear",function(){return e.CHM(n),e.oxw().onSearchClear()}),e.qZA()()(),e.YNc(3,Fn,5,0,"div",15)}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(1),e.Q6J("showClear",!0)("showSearch",!0)("autofocus",!0),e.xp6(1),e.Q6J("ngIf",n.multiAccountSelection)}}function wn(t,o){if(1&t&&e._UZ(0,"bb-amount-ui",23),2&t){const _=o.currency;e.Q6J("amount",o.amount)("currency",_)("mapCurrency",!1)}}function Zn(t,o){if(1&t&&(e.TgZ(0,"bb-product-item-basic-account-ui",21),e.YNc(1,wn,1,3,"ng-template",22),e.qZA()),2&t){const n=o.item;e.Q6J("active",!0)("amount",n.balance)("currency",n.currency)("productNumber",n.IBAN||n.BBAN||n.number)("title",n.name)}}function Gn(t,o){if(1&t&&e._UZ(0,"bb-amount-ui",25),2&t){const _=o.currency;e.Q6J("amount",o.amount)("currency",_)("bbHighlight",!0)}}function Hn(t,o){if(1&t&&(e.TgZ(0,"bb-product-item-basic-account-ui",24),e.YNc(1,Gn,1,3,"ng-template",22),e.qZA()),2&t){const n=o.item,_=e.oxw();e.Q6J("active",_.checkSelected(n))("productNumber",n.IBAN||n.BBAN||n.number)("amount",n.balance)("currency",n.currency)("title",n.name)}}function kn(t,o){1&t&&(e.TgZ(0,"div",26),e.SDv(1,27),e.qZA())}function zn(t,o){if(1&t&&(e.TgZ(0,"div",4),e._UZ(1,"bb-third-party-provider-ui",5),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("name",n.tpp.name)("url",n.tpp.website)("verified",!!n.tpp.isTrusted)("image",n.tpp.imageUrl)}}function Qn(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",5),e.SDv(2,6),e.qZA(),e.TgZ(3,"div",7),e.SDv(4,8),e.qZA()())}function $n(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",9),e.SDv(2,10),e.qZA()())}function jn(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",11),e.SDv(2,12),e.qZA(),e.TgZ(3,"div"),e.SDv(4,13),e.qZA()())}function Vn(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",14),e.SDv(2,15),e.qZA()())}function Xn(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",14),e.SDv(2,16),e.qZA()())}function e_(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",14),e.SDv(2,17),e.qZA()())}function t_(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",14),e.SDv(2,18),e.qZA()())}function n_(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",14),e.SDv(2,19),e.qZA()())}function __(t,o){1&t&&(e.TgZ(0,"div",4)(1,"div",14),e.SDv(2,20),e.qZA()())}let z=(()=>{class t{constructor(){this.verified=!1,this.condensed=!1,this.showExpire=!1}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-third-party-provider-ui"]],inputs:{name:"name",image:"image",url:"url",verified:"verified",condensed:"condensed",expiryDate:"expiryDate",expired:"expired",showExpire:"showExpire"},decls:13,vars:7,consts:function(){let o,n,_,s;return o="\n    The third party is known to the bank and trusted.",n="\n    The third party is unknown to the bank.\n    Make sure you know whom you grant access to.",_=" Expired on ",s=" Expire date ",[["data-role","third-party-provider-condensed-icon-container",1,"bb-stack"],["class","bb-third-party-provider__avatar bb-avatar",3,"image",4,"ngIf"],[1,"bb-third-party-provider__name-icon"],[1,"bb-third-party-provider__name","break-word"],["container","body","bbTooltip",o,"name","verified-user","color","success",3,"size","click",4,"ngIf"],["container","body","bbTooltip",n,"name","help","color","secondary",3,"size","click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"break-word",3,"href","click"],["class","d-block d-md-none","data-role","third-party-provider-expire-container",4,"ngIf"],[1,"bb-third-party-provider__avatar","bb-avatar",3,"image"],["container","body","bbTooltip",o,"name","verified-user","color","success",3,"size","click"],["container","body","bbTooltip",n,"name","help","color","secondary",3,"size","click"],["data-role","third-party-provider-expire-container",1,"d-block","d-md-none"],["class","bb-consent-item__date-header","data-role","third-party-provider-expire-on",4,"ngIf"],["data-role","third-party-provider-expire-date","class","bb-consent-item__date-header",4,"ngIf"],["data-role","third-party-provider-expire-value"],["data-role","third-party-provider-expire-on",1,"bb-consent-item__date-header"],_,["data-role","third-party-provider-expire-date",1,"bb-consent-item__date-header"],s]},template:function(n,_){1&n&&(e.TgZ(0,"div",0)(1,"div"),e.YNc(2,bt,1,1,"bb-avatar-ui",1),e.qZA(),e.TgZ(3,"div")(4,"div")(5,"div",2)(6,"span",3),e._uU(7),e.qZA(),e.YNc(8,It,1,1,"bb-icon-ui",4),e.YNc(9,Dt,1,1,"bb-icon-ui",5),e.qZA(),e.TgZ(10,"a",6),e.NdJ("click",function(i){return i.stopPropagation()}),e._uU(11),e.qZA()(),e.YNc(12,ht,5,3,"div",7),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("ngIf",_.image),e.xp6(5),e.Oqu(_.name),e.xp6(1),e.Q6J("ngIf",_.verified),e.xp6(1),e.Q6J("ngIf",!_.verified),e.xp6(1),e.Q6J("href",_.url,e.LSH),e.xp6(1),e.hij(" ",_.url," "),e.xp6(1),e.Q6J("ngIf",_.showExpire))},directives:[ge.A,f.o,r.O5,Be.i],encapsulation:2}),t})();const o_=[ge.F,f.Q,Be.z];let Q=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,...o_]]}),t})(),Te=(()=>{class t{constructor(){this.Status=Z}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-item-component"]],inputs:{consent:"consent"},decls:1,vars:1,consts:function(){let o,n,_,s,i,A,u,C,E,J;return o="{VAR_PLURAL, plural, =1 {1 account} other {{INTERPOLATION} accounts}}",o=e.Zx4(o,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),n=" " + o + " ",_="ACTIVE",s="REVOKED",i="EXPIRED",A="ACTIVE",u="REVOKED",C="EXPIRED",E=" Expired on ",J=" Expire date ",[[4,"ngIf"],[1,"row"],[1,"col-8","col-sm-8","col-md-4"],[3,"name","url","image","verified","condensed","expiryDate","expired","showExpire"],[1,"d-none","d-md-block","col-2"],["data-role","consent-item-accounts"],n,[1,"bb-text-align-right","d-none","d-md-block","col-3","col-lg-4"],["class","bb-consent-item__date-header",4,"ngIf"],[1,"d-none","d-sm-flex","col-3","col-md-2","col-lg-1","bb-stack"],[1,"bb-stack__item","bb-stack__item--push-right"],["data-role","consent-item-badge-lg-active","color","success","text",_,4,"ngIf"],["data-role","consent-item-badge-lg-revoked","color","danger","text",s,4,"ngIf"],["data-role","consent-item-badge-lg-expired","color","secondary","text",i,4,"ngIf"],[1,"bb-text-align-right","col-2","d-sm-none","bb-stack"],["data-role","consent-item-badge-sm-active","color","success","text",A,3,"abbr",4,"ngIf"],["data-role","consent-item-badge-sm-revoked","color","danger","text",u,3,"abbr",4,"ngIf"],["data-role","consent-item-badge-sm-expired","color","secondary","text",C,3,"abbr",4,"ngIf"],[1,"bb-text-align-right","col-2","col-sm-1","col-md-1","bb-stack"],["name","chevron-right","size","md","color","secondary"],[1,"bb-consent-item__date-header"],E,J,["data-role","consent-item-badge-lg-active","color","success","text",_],["data-role","consent-item-badge-lg-revoked","color","danger","text",s],["data-role","consent-item-badge-lg-expired","color","secondary","text",i],["data-role","consent-item-badge-sm-active","color","success","text",A,3,"abbr"],["data-role","consent-item-badge-sm-revoked","color","danger","text",u,3,"abbr"],["data-role","consent-item-badge-sm-expired","color","secondary","text",C,3,"abbr"]]},template:function(n,_){1&n&&e.YNc(0,Wt,27,25,"ng-container",0),2&n&&e.Q6J("ngIf",_.consent)},directives:[z,D.F,f.o,r.O5],pipes:[S.y],encapsulation:2}),t})();const s_=[D.T,f.Q,S.G];let be=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[...s_,r.ez,Q]]}),t})(),Ie=(()=>{class t{constructor(){this.consentsList=[],this.selectConsent=new e.vpe}onConsentSelect(n){this.selectConsent.emit(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-list-component"]],inputs:{consentsList:"consentsList"},outputs:{selectConsent:"selectConsent"},decls:2,vars:1,consts:[[1,"list-group","list-group-flush","bb-consent-list"],["role","button","tabindex","0","class","list-group-item list-group-item-action bb-consent-list__item",3,"keyup.enter","click",4,"ngFor","ngForOf"],["role","button","tabindex","0",1,"list-group-item","list-group-item-action","bb-consent-list__item",3,"keyup.enter","click"],[3,"consent"]],template:function(n,_){1&n&&(e.TgZ(0,"div",0),e.YNc(1,wt,2,2,"div",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngForOf",_.consentsList))},directives:[Te,r.sg],encapsulation:2}),t})();const i_=[be];let r_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,...i_]]}),t})(),De=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-list-error"]],inputs:{errorKind:"errorKind"},decls:1,vars:1,consts:function(){let o,n,_,s,i,A;return o="Permissions required",n="You don't have permissions to see the consent's list.",_="Connectivity Error",s="Are you connected to the internet? Please check your connection and try again.",i="Unexpected Error",A="Something's gone wrong with our server. Please try again later.",[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],["title",o,"subtitle",n,"iconModifier","lock",4,"ngSwitchCase"],["title",_,"subtitle",s,"iconModifier","error",4,"ngSwitchCase"],["title",i,"subtitle",A,"iconModifier","user",4,"ngSwitchDefault"],["title",o,"subtitle",n,"iconModifier","lock"],["title",_,"subtitle",s,"iconModifier","error"],["title",i,"subtitle",A,"iconModifier","user"]]},template:function(n,_){1&n&&e.YNc(0,kt,4,3,"ng-container",0),2&n&&e.Q6J("ngIf",_.errorKind)},directives:[T.s,r.O5,r.RF,r.n9,r.ED],encapsulation:2}),t})();const c_=[T.P];let a_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,...c_]]}),t})(),ye=(()=>{class t{constructor(){this.accounts=[]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-details-accounts-list"]],inputs:{accounts:"accounts"},decls:1,vars:1,consts:function(){let o;return o=" Accounts Exposed ",[["class","bb-block bb-block--lg",4,"ngIf"],[1,"bb-block","bb-block--lg"],["data-role","account-exposed-details-label",1,"bb-text-bold","bb-block","bb-block--sm"],o,["data-role","accounts-exposed",1,"bb-consent-details-accounts-item","card"],["class","card-section",4,"ngFor","ngForOf"],[1,"card-section"],[3,"title","productNumber","amount","currency","highlight","active"]]},template:function(n,_){1&n&&e.YNc(0,Qt,5,1,"div",0),2&n&&e.Q6J("ngIf",_.accounts)},directives:[h.mB,r.O5,r.sg],encapsulation:2}),t})();const E_=[h.gn];let l_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,...E_]]}),t})(),ve=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-details-error"]],inputs:{consentId:"consentId",errorKind:"errorKind"},decls:2,vars:2,consts:function(){let o,n,_,s,i,A,u,C,E,J;return o="Consent Details Not Found",n="Consent Details Not Found.",_="Permissions required",s="You don't have permissions to see the consent's details.",i="Connectivity Error",A="Are you connected to the internet? Please check your connection and try again.",u="Consent Details Not Found",C="Consent Details Not Found.",E="Unexpected Error",J="Something's gone wrong with our server. Please try again later.",[["title",o,"subtitle",n,"iconModifier","error",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],["title",o,"subtitle",n,"iconModifier","error"],[3,"ngSwitch"],["title",_,"subtitle",s,"iconModifier","lock",4,"ngSwitchCase"],["title",i,"subtitle",A,"iconModifier","error",4,"ngSwitchCase"],["title",u,"subtitle",C,"iconModifier","error",4,"ngSwitchCase"],["title",E,"subtitle",J,"iconModifier","user",4,"ngSwitchDefault"],["title",_,"subtitle",s,"iconModifier","lock"],["title",i,"subtitle",A,"iconModifier","error"],["title",u,"subtitle",C,"iconModifier","error"],["title",E,"subtitle",J,"iconModifier","user"]]},template:function(n,_){1&n&&(e.YNc(0,$t,1,0,"bb-empty-state-ui",0),e.YNc(1,tn,5,4,"ng-container",1)),2&n&&(e.Q6J("ngIf",!_.consentId),e.xp6(1),e.Q6J("ngIf",_.consentId&&_.errorKind))},directives:[T.s,r.O5,r.RF,r.n9,r.ED],encapsulation:2}),t})();const S_=[h.gn,T.P];let u_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,...S_]]}),t})(),he=(()=>{class t{constructor(){this.status="",this.revokeConsent=new e.vpe,this.Status=Z}onRevokeConsent(){this.revokeConsent.emit()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-details-header"]],inputs:{tpp:"tpp",status:"status",expiryDate:"expiryDate"},outputs:{revokeConsent:"revokeConsent"},decls:13,vars:12,consts:function(){let o,n,_,s,i,A;return o="Active",n="Expired",_="Revoked",s=" Expired on ",i=" Expiry date ",A=" Revoke Consent ",[[1,"bb-consent-details-header","bb-stack"],[1,"bb-stack__item"],[3,"name","url","image","verified","condensed"],["data-role","status-badge-large",1,"bb-stack__item"],["data-role","status-badge-active","color","success","text",o,4,"ngIf"],["data-role","status-badge-expired","color","secondary","text",n,4,"ngIf"],["data-role","status-badge-revoked","color","danger","text",_,4,"ngIf"],[1,"bb-consent-details-header__status-wrapper","bb-stack__item","bb-stack__item--push-right"],[1,"bb-consent-details-header__status","bb-text-align-right"],["class","bb-text-bold",4,"ngIf"],["data-role","token-expiry-label-active","class","bb-text-bold",4,"ngIf"],["data-role","expiry-date",4,"ngIf"],["bbButton","","color","danger","data-role","revoke-consent-button","type","submit",3,"click",4,"ngIf"],["data-role","status-badge-active","color","success","text",o],["data-role","status-badge-expired","color","secondary","text",n],["data-role","status-badge-revoked","color","danger","text",_],[1,"bb-text-bold"],s,["data-role","token-expiry-label-active",1,"bb-text-bold"],i,["data-role","expiry-date"],["bbButton","","color","danger","data-role","revoke-consent-button","type","submit",3,"click"],A]},template:function(n,_){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"bb-third-party-provider-ui",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,nn,1,0,"bb-badge-ui",4),e.YNc(5,_n,1,0,"bb-badge-ui",5),e.YNc(6,on,1,0,"bb-badge-ui",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8),e.YNc(9,sn,2,0,"div",9),e.YNc(10,rn,2,0,"div",10),e.YNc(11,cn,3,4,"div",11),e.qZA(),e.YNc(12,an,3,0,"button",12),e.qZA()()),2&n){let s;e.xp6(2),e.Q6J("name",null==_.tpp?null:_.tpp.name)("url",null==_.tpp?null:_.tpp.website)("image",null==_.tpp?null:_.tpp.imageUrl)("verified",null!==(s=null==_.tpp?null:_.tpp.isTrusted)&&void 0!==s&&s)("condensed",!0),e.xp6(2),e.Q6J("ngIf",_.status===_.Status.ACTIVE),e.xp6(1),e.Q6J("ngIf",_.status===_.Status.EXPIRED),e.xp6(1),e.Q6J("ngIf",_.status===_.Status.REVOKED),e.xp6(3),e.Q6J("ngIf",_.status===_.Status.EXPIRED),e.xp6(1),e.Q6J("ngIf",_.status!==_.Status.EXPIRED),e.xp6(1),e.Q6J("ngIf",_.expiryDate),e.xp6(1),e.Q6J("ngIf",_.status===_.Status.ACTIVE)}},directives:[z,D.F,r.O5,y.Hq],pipes:[S.y],encapsulation:2}),t})();const d_=[h.gn,Q,D.T,S.G,y.hJ];let A_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,...d_]]}),t})(),Je=(()=>{class t{constructor(){this.permissions=[],this.Permission=oe}hasPermission(n){return this.permissions.includes(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-details-permissions-list"]],inputs:{permissions:"permissions"},decls:12,vars:9,consts:function(){let o,n,_,s,i,A,u,C,E,J,U,j;return o=" Permissions granted\n",n=" Account information ",_=" Name, number ",s=" Account balance ",i=" Transactions ",A=" Category, amount, date, time, beneficiary details ",u=" Beneficiaries details ",C=" Direct Debits ",E=" Products ",J=" Standing Orders ",U=" Transactions Credits ",j=" Transactions Debits ",[["data-role","permissions-granted-label",1,"bb-text-bold","bb-block","bb-block--sm"],o,[1,"bb-consent-details-permissions","card"],["class","card-section",4,"ngIf"],[1,"card-section"],["data-role","account-information-label",1,"bb-text-bold"],n,[1,"bb-consent-details-permissions__details"],_,["data-role","account-balance-label",1,"bb-text-bold"],s,["data-role","transactions-label",1,"bb-text-bold"],i,A,[1,"bb-text-bold"],u,C,E,J,U,j]},template:function(n,_){1&n&&(e.TgZ(0,"div",0),e.SDv(1,1),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,En,5,0,"div",3),e.YNc(4,ln,3,0,"div",3),e.YNc(5,Sn,5,0,"div",3),e.YNc(6,un,3,0,"div",3),e.YNc(7,dn,3,0,"div",3),e.YNc(8,An,3,0,"div",3),e.YNc(9,Cn,3,0,"div",3),e.YNc(10,On,3,0,"div",3),e.YNc(11,Nn,3,0,"div",3),e.qZA()),2&n&&(e.xp6(3),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadAccountsDetail)),e.xp6(1),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadBalances)),e.xp6(1),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadTransactionsDetail)),e.xp6(1),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadBeneficiariesDetail)),e.xp6(1),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadDirectDebits)),e.xp6(1),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadProducts)),e.xp6(1),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadStandingOrdersDetail)),e.xp6(1),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadTransactionsCredits)),e.xp6(1),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadTransactionsDebits)))},directives:[r.O5],encapsulation:2}),t})();const C_=[h.gn];let O_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,...C_]]}),t})();const N_=["001","AC","AD","AE","AF","AG","AI","AL","AM","AO","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GT","GU","GW","GY","HK","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TA","TC","TD","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","XK","YE","YT","ZA","ZM","ZW"];let Le=(()=>{class t{isCountryCode(n){return N_.filter(_=>_===n)[0]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-third-party-details"]],inputs:{tpp:"tpp"},decls:1,vars:1,consts:function(){let o,n,_,s;return o="Third Party Information",n=" Third party ID ",_=" Contact information ",s=" Legal address ",[["class","bb-consent-details-tpp",4,"ngIf"],[1,"bb-consent-details-tpp"],[1,"bb-consent-details-tpp__info-label"],[1,"bb-text-bold"],o,["class","bb-block bb-block--md",4,"ngIf"],["class","bb-block bb-block--md","data-role","contact-information-value",4,"ngIf"],[1,"bb-block","bb-block--md"],["data-role","third-party-id-label",1,"bb-text-bold"],n,["data-role","third-party-id-value",1,"bb-subtitle"],["data-role","contact-information-value",1,"bb-block","bb-block--md"],["data-role","contact-information-label",1,"bb-text-bold"],_,["data-role","third-party-email-value","class","bb-subtitle",4,"ngIf"],["data-role","third-party-phone-value","class","bb-subtitle",4,"ngIf"],["data-role","third-party-email-value",1,"bb-subtitle"],["data-role","third-party-phone-value",1,"bb-subtitle"],["data-role","legal-address-label",1,"bb-text-bold"],s,["data-role","legal-address-value",1,"bb-subtitle"]]},template:function(n,_){1&n&&e.YNc(0,Un,7,3,"div",0),2&n&&e.Q6J("ngIf",_.tpp)},directives:[r.O5],pipes:[me.X],encapsulation:2}),t})();const p_=[h.gn,me.b];let M_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,...p_]]}),t})(),Ke=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-payment-request-error"]],inputs:{paymentRequestId:"paymentRequestId",errorKind:"errorKind"},decls:2,vars:2,consts:function(){let o,n,_,s,i,A,u,C;return o="Unexpected Error",n="Something's gone wrong with our server. Please try again later.",_="Permissions required",s="You don't have permissions to allow payments.",i="Connectivity Error",A="Are you connected to the internet? Please check your connection and try again.",u="Unexpected Error",C="Something's gone wrong with our server. Please try again later.",[["title",o,"subtitle",n,"iconModifier","error",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],["title",o,"subtitle",n,"iconModifier","error"],[3,"ngSwitch"],["title",_,"subtitle",s,"iconModifier","lock",4,"ngSwitchCase"],["title",i,"subtitle",A,"iconModifier","error",4,"ngSwitchCase"],["title",u,"subtitle",C,"iconModifier","error",4,"ngSwitchDefault"],["title",_,"subtitle",s,"iconModifier","lock"],["title",i,"subtitle",A,"iconModifier","error"],["title",u,"subtitle",C,"iconModifier","error"]]},template:function(n,_){1&n&&(e.YNc(0,Rn,1,0,"bb-empty-state-ui",0),e.YNc(1,In,4,3,"ng-container",1)),2&n&&(e.Q6J("ngIf",!_.paymentRequestId),e.xp6(1),e.Q6J("ngIf",_.paymentRequestId&&_.errorKind))},directives:[T.s,r.O5,r.RF,r.n9,r.ED],encapsulation:2}),t})();const g_=[T.P];let Pe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,...g_]]}),t})(),Ye=(()=>{class t{constructor(){this.showError=!1,this.accounts=[],this.selectedAccountChange=new e.vpe}onSelectAccount(n){this.selectedAccountChange.emit(n),this.showError=!1}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-payment-request-account-selector"]],inputs:{showError:"showError",accounts:"accounts",selectedAccount:"selectedAccount"},outputs:{selectedAccountChange:"selectedAccountChange"},decls:6,vars:11,consts:function(){let o,n,_;return o=" From account\n",n="Select Accounts",_=" Select an account.\n",[["data-role","from-account-label",1,"bb-block","bb-block--sm","bb-text-bold"],o,[3,"ngClass"],["data-role","account-selector","placeholder",n,3,"items","disableScrollEnd","multiple","closeOnSelect","filterItems","selectedItems","dropdownPosition","change"],["bbCustomSingleSelectedItemLabel",""],["class","bb-payment-request-product-selector__no-account","data-role","no-accounts-error-message",4,"ngIf"],[3,"active","amount","currency","productNumber","title"],["bbCustomProductItemBasicAccountDetailsFormatter",""],[1,"font-weight-bold",3,"amount","currency","mapCurrency"],["data-role","no-accounts-error-message",1,"bb-payment-request-product-selector__no-account"],_]},template:function(n,_){1&n&&(e.TgZ(0,"div",0),e.SDv(1,1),e.qZA(),e.TgZ(2,"div",2)(3,"bb-account-selector-ui",3),e.NdJ("change",function(i){return _.onSelectAccount(i)}),e.YNc(4,yn,2,5,"ng-template",4),e.qZA()(),e.YNc(5,vn,2,0,"div",5)),2&n&&(e.xp6(2),e.Q6J("ngClass",e.VKq(9,fe,_.showError)),e.xp6(1),e.Q6J("items",_.accounts)("disableScrollEnd",!1)("multiple",!1)("closeOnSelect",!0)("filterItems",!1)("selectedItems",_.selectedAccount)("dropdownPosition","bottom"),e.xp6(2),e.Q6J("ngIf",_.showError))},directives:[P.vI,h.mB,W.G4,r.mk,P.xD,h.oF,r.O5],encapsulation:2}),t})();const B_=[P.db,h.gn,W.i7];let xe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,...B_]]}),t})(),qe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-payment-request-tpp-information"]],inputs:{tpp:"tpp"},decls:3,vars:1,consts:function(){let o;return o=" Pay to\n",[["data-role","pay-to-label",1,"bb-block","bb-block--sm","bb-text-bold"],o,["class","card card-sm",4,"ngIf"],[1,"card","card-sm"],[1,"card-body"],["data-role","third-party-provider-label",3,"name","url","verified","image"]]},template:function(n,_){1&n&&(e.TgZ(0,"div",0),e.SDv(1,1),e.qZA(),e.YNc(2,hn,3,4,"div",2)),2&n&&(e.xp6(2),e.Q6J("ngIf",_.tpp))},directives:[z,r.O5],encapsulation:2}),t})();const m_=[P.db,h.gn,W.i7,Q];let Fe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,...m_]]}),t})(),We=(()=>{class t{constructor(){this.amount="",this.currency=""}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-payment-request-amount"]],inputs:{amount:"amount",currency:"currency"},decls:3,vars:2,consts:function(){let o;return o=" Amount\n",[["data-role","amount-label",1,"bb-block","bb-block--sm","bb-text-bold"],o,["data-role","amount-value",1,"bb-payment-request__amount",3,"amount","currency"]]},template:function(n,_){1&n&&(e.TgZ(0,"div",0),e.SDv(1,1),e.qZA(),e._UZ(2,"bb-amount-ui",2)),2&n&&(e.xp6(2),e.Q6J("amount",_.amount)("currency",_.currency))},directives:[W.G4],encapsulation:2}),t})();const U_=[W.i7];let we=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,...U_]]}),t})(),Ze=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-request-error"]],inputs:{consentRequestId:"consentRequestId",errorKind:"errorKind"},decls:2,vars:2,consts:function(){let o,n,_,s,i,A,u,C;return o="Unexpected Error",n="Something's gone wrong with our server. Please try again later.",_="Permissions required",s="You don't have permissions to manage consents.",i="Connectivity Error",A="Are you connected to the internet? Please check your connection and try again.",u="Unexpected Error",C="Something's gone wrong with our server. Please try again later.",[["title",o,"subtitle",n,"iconModifier","error",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],["title",o,"subtitle",n,"iconModifier","error"],[3,"ngSwitch"],["title",_,"subtitle",s,"iconModifier","lock",4,"ngSwitchCase"],["title",i,"subtitle",A,"iconModifier","error",4,"ngSwitchCase"],["title",u,"subtitle",C,"iconModifier","error",4,"ngSwitchDefault"],["title",_,"subtitle",s,"iconModifier","lock"],["title",i,"subtitle",A,"iconModifier","error"],["title",u,"subtitle",C,"iconModifier","error"]]},template:function(n,_){1&n&&(e.YNc(0,Jn,1,0,"bb-empty-state-ui",0),e.YNc(1,Yn,4,3,"ng-container",1)),2&n&&(e.Q6J("ngIf",!_.consentRequestId),e.xp6(1),e.Q6J("ngIf",_.consentRequestId&&_.errorKind))},directives:[T.s,r.O5,r.RF,r.n9,r.ED],encapsulation:2}),t})();const R_=[T.P];let Ge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,...R_]]}),t})(),He=(()=>{class t{constructor(){this.showError=!1,this.multiAccountSelection=!1,this.searchedFields=["name","balance"],this._accounts=[],this.allAccounts=[],this.selectedAccountChange=new e.vpe,this.destroy=new k.x,this.accountSelector={change:(n,_)=>{this.onSelectAccount(_),n.selectedItem=_,n.eventTriggered="$change",n.eventState=_},scrollToEnd:(n,_)=>{n.eventTriggered="$scrollToEnd",n.eventState=_}},this.form=new K.cw({query:new K.NI("")}),this.form.get("query").valueChanges.pipe((0,Tt.R)(this.destroy)).subscribe(n=>{this._accounts=this.allAccounts.filter(_=>this.searchedFields.some(s=>{var i;return-1!==(null===(i=_[s])||void 0===i?void 0:i.toString().toLocaleLowerCase().indexOf(n.toLocaleLowerCase()))}))})}set accounts(n){n&&(this._accounts=n,this.allAccounts=n)}get accounts(){return this._accounts}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}onSelectAccount(n){this.selectedAccountChange.emit(this.multiAccountSelection?n:[n]),this.showError=!1}checkSelected(n){return!!this.selectedAccount&&this.selectedAccount.includes(n)}onSearchClear(){const n=this.form.get("query");n&&n.setValue("")}selectAll(){this.selectedAccountChange.emit(this.allAccounts)}unselectAll(){this.selectedAccountChange.emit([])}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-request-account-selector"]],inputs:{showError:"showError",multiAccountSelection:"multiAccountSelection",accounts:"accounts",selectedAccount:"selectedAccount"},outputs:{selectedAccountChange:"selectedAccountChange"},decls:8,vars:14,consts:function(){let o,n,_,s,i,A,u;return o="Select Accounts",n=" Account Exposed\n",_=" Accounts Exposed\n",s="Search",i=" Select all ",A=" Unselect all ",u=" Select an account.\n",[["class","bb-block bb-block--sm bb-text-bold","data-role","account-exposed-label",4,"ngIf"],["class","bb-block bb-block--sm bb-text-bold","data-role","accounts-exposed-label",4,"ngIf"],[3,"ngClass"],["data-role","account-selector","placeholder",o,3,"items","highlight","disableScrollEnd","filterItems","multiple","closeOnSelect","dropdownPosition","selectedItems","change","scrollToEnd"],["bbCustomOptionsHeader",""],["bbCustomSingleSelectedItemLabel",""],["bbCustomOptionItem",""],["class","text-danger mt-2","data-role","no-accounts-error-message",4,"ngIf"],["data-role","account-exposed-label",1,"bb-block","bb-block--sm","bb-text-bold"],n,["data-role","accounts-exposed-label",1,"bb-block","bb-block--sm","bb-text-bold"],_,[1,"m-2"],[3,"formGroup"],["formControlName","query","placeholder",s,"autocomplete","off",3,"showClear","showSearch","autofocus","clear"],["class","bb-account-selector--multiple__selected-account-filters",4,"ngIf"],[1,"bb-account-selector--multiple__selected-account-filters"],["bbButton","","buttonSize","sm","color","link","data-role","select-all",3,"click"],i,["bbButton","","buttonSize","sm","color","link","data-role","unselect-all",3,"click"],A,[3,"active","amount","currency","productNumber","title"],["bbCustomProductItemBasicAccountDetailsFormatter",""],[1,"font-weight-bold",3,"amount","currency","mapCurrency"],[3,"active","productNumber","amount","currency","title"],[1,"bb-highlight","bb-product-item__amount",3,"amount","currency","bbHighlight"],["data-role","no-accounts-error-message",1,"text-danger","mt-2"],u]},template:function(n,_){1&n&&(e.YNc(0,xn,2,0,"div",0),e.YNc(1,qn,2,0,"div",1),e.TgZ(2,"div",2)(3,"bb-account-selector-ui",3),e.NdJ("change",function(i){return _.accountSelector.change(_.accountSelector,i)})("scrollToEnd",function(i){return _.accountSelector.scrollToEnd(_.accountSelector,i)}),e.YNc(4,Wn,4,5,"ng-template",4),e.YNc(5,Zn,2,5,"ng-template",5),e.YNc(6,Hn,2,5,"ng-template",6),e.qZA()(),e.YNc(7,kn,2,0,"div",7)),2&n&&(e.Q6J("ngIf",!_.selectedAccount||_.selectedAccount&&_.selectedAccount.length<=1),e.xp6(1),e.Q6J("ngIf",_.selectedAccount&&_.selectedAccount.length>1),e.xp6(1),e.Q6J("ngClass",e.VKq(12,fe,_.showError)),e.xp6(1),e.Q6J("items",_.accounts)("highlight",!0)("disableScrollEnd",!1)("filterItems",!1)("multiple",_.multiAccountSelection)("closeOnSelect",!_.multiAccountSelection)("dropdownPosition","bottom")("selectedItems",_.multiAccountSelection?_.selectedAccount:_.selectedAccount?_.selectedAccount[0]:void 0),e.xp6(4),e.Q6J("ngIf",_.showError))},directives:[P.vI,Re.B,h.mB,W.G4,r.O5,r.mk,P.Rt,K._Y,K.JL,K.sg,K.JJ,K.u,y.Hq,P.xD,h.oF,P.tD,Ue.Z],encapsulation:2}),t})();const f_=[K.UX,P.db,Re.F,y.hJ,h.gn,W.i7,Ue._];let ke=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,...f_]]}),t})(),ze=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-request-tpp-information"]],inputs:{tpp:"tpp"},decls:4,vars:1,consts:function(){let o;return o=" Requested by\n",[["data-role","requested-by-label",1,"bb-block--sm","bb-text-bold"],o,[1,"card","card-sm"],["class","card-body",4,"ngIf"],[1,"card-body"],["data-role","third-party-provider-label",3,"name","url","verified","image"]]},template:function(n,_){1&n&&(e.TgZ(0,"div",0),e.SDv(1,1),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,zn,2,4,"div",3),e.qZA()),2&n&&(e.xp6(3),e.Q6J("ngIf",_.tpp))},directives:[z,r.O5],encapsulation:2}),t})();const T_=[Q];let Qe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,...T_]]}),t})(),$e=(()=>{class t{constructor(){this.permissions=[],this.Permission=oe}hasPermission(n){return this.permissions.includes(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-request-permissions-information"]],inputs:{permissions:"permissions"},decls:12,vars:9,consts:function(){let o,n,_,s,i,A,u,C,E,J,U,j;return o=" What permissions you grant\n",n=" Account information ",_=" Name, number ",s=" Account balance ",i=" Transactions ",A=" Category, amount, date, time, beneficiary details ",u=" Beneficiaries details ",C=" Direct Debits ",E=" Products ",J=" Standing Orders ",U=" Transactions Credits ",j=" Transactions Debits ",[["data-role","permissions-grant-label",1,"bb-block--sm","bb-text-bold"],o,[1,"card"],["class","card-section",4,"ngIf"],[1,"card-section"],["data-role","account-information-label",1,"bb-consent-request__information-label"],n,[1,"bb-consent-request__account-information"],_,["data-role","account-balance-label",1,"bb-consent-request__information-label"],s,["data-role","transactions-label",1,"bb-consent-request__information-label"],i,A,[1,"bb-consent-request__information-label"],u,C,E,J,U,j]},template:function(n,_){1&n&&(e.TgZ(0,"div",0),e.SDv(1,1),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,Qn,5,0,"div",3),e.YNc(4,$n,3,0,"div",3),e.YNc(5,jn,5,0,"div",3),e.YNc(6,Vn,3,0,"div",3),e.YNc(7,Xn,3,0,"div",3),e.YNc(8,e_,3,0,"div",3),e.YNc(9,t_,3,0,"div",3),e.YNc(10,n_,3,0,"div",3),e.YNc(11,__,3,0,"div",3),e.qZA()),2&n&&(e.xp6(3),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadAccountsDetail)),e.xp6(1),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadBalances)),e.xp6(1),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadTransactionsDetail)),e.xp6(1),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadBeneficiariesDetail)),e.xp6(1),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadDirectDebits)),e.xp6(1),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadProducts)),e.xp6(1),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadStandingOrdersDetail)),e.xp6(1),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadTransactionsCredits)),e.xp6(1),e.Q6J("ngIf",_.hasPermission(_.Permission.ReadTransactionsDebits)))},directives:[r.O5],encapsulation:2}),t})();const b_=[T.P];let je=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,...b_]]}),t})();var I_=c(5173),X=c(3508),x=c(429),G=c(6888);function D_(t,o){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"bb-consent-list-component",5),e.NdJ("selectConsent",function(s){return e.CHM(n),e.oxw(5).selectConsent(s)}),e.qZA(),e.BQk()}if(2&t){const n=e.oxw().ngIf;e.xp6(1),e.Q6J("consentsList",n)}}function y_(t,o){if(1&t&&(e.ynx(0),e.YNc(1,D_,2,1,"ng-container",0),e.BQk()),2&t){const n=o.ngIf;e.oxw(4);const _=e.MAs(7);e.xp6(1),e.Q6J("ngIf",n.length)("ngIfElse",_)}}function v_(t,o){if(1&t&&(e.ynx(0),e.YNc(1,y_,2,2,"ng-container",4),e.ALo(2,"async"),e.BQk()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,n.consents))}}function h_(t,o){if(1&t&&(e.ynx(0),e.YNc(1,v_,3,3,"ng-container",0),e.ALo(2,"async"),e.BQk()),2&t){const n=e.oxw(2),_=e.MAs(5);e.xp6(1),e.Q6J("ngIf",void 0===e.lcZ(2,2,n.error))("ngIfElse",_)}}function J_(t,o){if(1&t&&(e.ynx(0),e.YNc(1,h_,3,4,"ng-container",0),e.ALo(2,"async"),e.BQk()),2&t){const n=e.oxw(),_=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,2,n.loading))("ngIfElse",_)}}function L_(t,o){1&t&&(e.TgZ(0,"div",6),e._UZ(1,"bb-loading-indicator-ui"),e.qZA())}function K_(t,o){if(1&t&&(e.TgZ(0,"div",6),e._UZ(1,"bb-consent-list-error",7),e.ALo(2,"async"),e.qZA()),2&t){const n=e.oxw();let _;e.xp6(1),e.Q6J("errorKind",null==(_=e.lcZ(2,1,n.error))?null:_.kind)}}function P_(t,o){1&t&&(e.TgZ(0,"div",6),e._UZ(1,"bb-empty-state-ui",8),e.qZA())}function Y_(t,o){1&t&&(e.TgZ(0,"div",24),e.SDv(1,25),e.qZA())}function x_(t,o){1&t&&(e.TgZ(0,"div",24),e.SDv(1,26),e.qZA())}function q_(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",15)(1,"div",27),e.NdJ("click",function(){return e.CHM(n).toggle()}),e.TgZ(2,"span",24),e.SDv(3,28),e.qZA(),e._UZ(4,"bb-icon-ui",29),e.qZA()()}}function F_(t,o){if(1&t&&e._UZ(0,"bb-consent-third-party-details",8),2&t){const n=e.oxw(4).consentDetails;e.Q6J("tpp",null==n?null:n.tpp)}}function W_(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",30)(1,"button",31),e.NdJ("click",function(){return e.CHM(n),e.oxw(5).openRejectConsentModal()}),e.SDv(2,32),e.qZA()()}}function w_(t,o){1&t&&(e.TgZ(0,"span",33),e.SDv(1,34),e.qZA())}function Z_(t,o){if(1&t&&(e.TgZ(0,"div",35),e.SDv(1,36),e.qZA()),2&t){const n=e.oxw(4).consentDetails;e.xp6(1),e.pQV(null==n?null:n.tpp.name),e.QtT(1)}}function G_(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){return e.CHM(n),e.oxw(5).dismissRejectConsentModal()}),e.SDv(1,38),e.qZA(),e.TgZ(2,"button",39),e.NdJ("click",function(){return e.CHM(n),e.oxw(5).revokeConsent()}),e.SDv(3,40),e.qZA()}}function H_(t,o){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"bb-consent-details-header",5),e.NdJ("revokeConsent",function(){return e.CHM(n),e.oxw(4).openRejectConsentModal()}),e.qZA(),e.TgZ(2,"div",6)(3,"div",7),e._UZ(4,"bb-consent-third-party-details",8),e.TgZ(5,"div",9)(6,"div",10),e._UZ(7,"bb-consent-details-accounts-list",11),e.qZA(),e._UZ(8,"bb-consent-details-permissions-list",12),e.qZA()(),e.TgZ(9,"div",13)(10,"div",14)(11,"div",15),e.YNc(12,Y_,2,0,"div",16),e.YNc(13,x_,2,0,"div",16),e.TgZ(14,"div"),e._uU(15),e.ALo(16,"bbDate"),e.qZA()(),e.TgZ(17,"div",15),e._UZ(18,"bb-consent-details-accounts-list",11),e.qZA(),e._UZ(19,"bb-consent-details-permissions-list",12),e.qZA(),e.TgZ(20,"bb-collapsible-ui"),e.YNc(21,q_,5,0,"ng-template",17),e.YNc(22,F_,1,1,"ng-template",18),e.qZA(),e.YNc(23,W_,3,0,"div",19),e.qZA()(),e.TgZ(24,"bb-modal-ui",20)(25,"bb-modal-header-ui"),e.YNc(26,w_,2,0,"ng-template",21),e.qZA(),e.TgZ(27,"bb-modal-body-ui"),e.YNc(28,Z_,2,1,"ng-template",22),e.qZA(),e.TgZ(29,"bb-modal-footer-ui"),e.YNc(30,G_,4,0,"ng-template",23),e.qZA()(),e.BQk()}if(2&t){const n=e.oxw(3).consentDetails,_=e.oxw();e.xp6(1),e.Q6J("expiryDate",null==n?null:n.expiryDate)("status",n.status)("tpp",null==n?null:n.tpp),e.xp6(3),e.Q6J("tpp",null==n?null:n.tpp),e.xp6(3),e.Q6J("accounts",null==n?null:n.accounts),e.xp6(1),e.Q6J("permissions",null==n?null:n.permissions),e.xp6(4),e.Q6J("ngIf",(null==n?null:n.status)===_.Status.EXPIRED),e.xp6(1),e.Q6J("ngIf",(null==n?null:n.status)!==_.Status.EXPIRED),e.xp6(2),e.hij(" ",e.xi3(16,13,n.expiryDate,"bbShort")," "),e.xp6(3),e.Q6J("accounts",null==n?null:n.accounts),e.xp6(1),e.Q6J("permissions",null==n?null:n.permissions),e.xp6(4),e.Q6J("ngIf",(null==n?null:n.status)===_.Status.ACTIVE),e.xp6(1),e.Q6J("isOpen",_.isModalOpen)}}function k_(t,o){if(1&t&&(e.ynx(0),e.YNc(1,H_,31,16,"ng-container",2),e.BQk()),2&t){const n=e.oxw(2).error,_=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!n)("ngIfElse",_)}}function z_(t,o){1&t&&(e.TgZ(0,"div",41),e._UZ(1,"bb-loading-indicator-ui",42),e.qZA())}function Q_(t,o){if(1&t&&(e.ynx(0),e.YNc(1,k_,2,2,"ng-container",2),e.YNc(2,z_,2,0,"ng-template",null,4,e.W1O),e.BQk()),2&t){const n=e.MAs(3),_=e.oxw().loading;e.xp6(1),e.Q6J("ngIf",!_)("ngIfElse",n)}}function $_(t,o){if(1&t&&(e.TgZ(0,"div",41),e._UZ(1,"bb-consent-details-error",43),e.ALo(2,"async"),e.qZA()),2&t){const n=e.oxw().error,_=e.oxw();e.xp6(1),e.Q6J("consentId",e.lcZ(2,2,_.consentId))("errorKind",null==n?null:n.kind)}}function j_(t,o){if(1&t&&(e.YNc(0,Q_,4,2,"ng-container",2),e.ALo(1,"async"),e.YNc(2,$_,3,4,"ng-template",null,3,e.W1O)),2&t){const n=e.MAs(3),_=e.oxw();e.Q6J("ngIf",e.lcZ(1,2,_.consentId))("ngIfElse",n)}}const V_=function(t,o,n){return{consentDetails:t,loading:o,error:n}},X_=["notificationError"];function eo(t,o){1&t&&e._UZ(0,"bb-alert-ui",23)}function to(t,o){if(1&t){const n=e.EpF();e.ynx(0),e.YNc(1,eo,1,0,"bb-alert-ui",16),e.ALo(2,"async"),e.TgZ(3,"div",17),e._UZ(4,"bb-consent-request-tpp-information",18),e.qZA(),e.TgZ(5,"div",17)(6,"bb-consent-request-account-selector",19),e.NdJ("selectedAccountChange",function(s){return e.CHM(n),e.oxw(6).selectedAccount=s}),e.qZA()(),e.TgZ(7,"div",17),e._UZ(8,"bb-consent-request-permissions-information",20),e.qZA(),e.TgZ(9,"div",17)(10,"div",21),e.SDv(11,22),e.qZA(),e.TgZ(12,"div"),e._uU(13),e.ALo(14,"bbDate"),e.qZA()(),e.BQk()}if(2&t){const n=e.oxw(5),_=n.consentRequest,s=n.multiAccountSelection,i=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,8,i.savingError)),e.xp6(3),e.Q6J("tpp",_.tpp),e.xp6(2),e.Q6J("multiAccountSelection",s)("showError",i.showAccountError)("accounts",_.accounts)("selectedAccount",i.selectedAccount),e.xp6(2),e.Q6J("permissions",_.permissions),e.xp6(5),e.Oqu(e.xi3(14,10,_.expiryDate,"bbShort"))}}function no(t,o){1&t&&(e.TgZ(0,"div",24),e._UZ(1,"bb-loading-indicator-ui",25),e.qZA())}function _o(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",7)(1,"div",8),e.SDv(2,9),e.qZA(),e.YNc(3,to,15,13,"ng-container",2),e.ALo(4,"async"),e.TgZ(5,"div",10)(6,"button",11),e.NdJ("click",function(){return e.CHM(n),e.oxw(5).allowConsentRequest()}),e.SDv(7,12),e.ALo(8,"async"),e.qZA(),e.TgZ(9,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(5).rejectConsentRequest()}),e.SDv(10,14),e.ALo(11,"async"),e.qZA()(),e.YNc(12,no,2,0,"ng-template",null,15,e.W1O),e.qZA()}if(2&t){const n=e.MAs(13),_=e.oxw(5);e.xp6(3),e.Q6J("ngIf",!e.lcZ(4,4,_.saving$))("ngIfElse",n),e.xp6(3),e.Q6J("disabled",e.lcZ(8,6,_.saving$)),e.xp6(3),e.Q6J("disabled",e.lcZ(11,8,_.saving$))}}function oo(t,o){if(1&t&&(e.ynx(0),e.YNc(1,_o,14,10,"div",6),e.BQk()),2&t){const n=e.oxw(3).consentRequest;e.xp6(1),e.Q6J("ngIf",n)}}function so(t,o){if(1&t&&(e.ynx(0),e.YNc(1,oo,2,1,"ng-container",2),e.BQk()),2&t){const n=e.oxw(2).error,_=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!n)("ngIfElse",_)}}function io(t,o){1&t&&(e.TgZ(0,"div",24),e._UZ(1,"bb-loading-indicator-ui"),e.qZA())}function ro(t,o){if(1&t&&(e.ynx(0),e.YNc(1,so,2,2,"ng-container",2),e.YNc(2,io,2,0,"ng-template",null,5,e.W1O),e.BQk()),2&t){const n=e.MAs(3),_=e.oxw().loading;e.xp6(1),e.Q6J("ngIf",!_)("ngIfElse",n)}}function co(t,o){if(1&t&&(e.TgZ(0,"div",24),e._UZ(1,"bb-consent-request-error",26),e.ALo(2,"async"),e.qZA()),2&t){const n=e.oxw().error,_=e.oxw();e.xp6(1),e.Q6J("consentRequestId",e.lcZ(2,2,_.consentRequestId))("errorKind",null==n?null:n.kind)}}function ao(t,o){1&t&&(e.TgZ(0,"span"),e.SDv(1,27),e.qZA())}function Eo(t,o){if(1&t&&(e.YNc(0,ro,4,2,"ng-container",2),e.ALo(1,"async"),e.YNc(2,co,3,4,"ng-template",null,3,e.W1O),e.YNc(4,ao,2,0,"ng-template",null,4,e.W1O)),2&t){const n=e.MAs(3),_=e.oxw();e.Q6J("ngIf",e.lcZ(1,2,_.consentRequestId))("ngIfElse",n)}}const lo=function(t,o,n,_){return{consentRequest:t,loading:o,error:n,multiAccountSelection:_}};function So(t,o){1&t&&e._UZ(0,"bb-alert-ui",23)}function uo(t,o){if(1&t){const n=e.EpF();e.ynx(0),e.YNc(1,So,1,0,"bb-alert-ui",16),e.ALo(2,"async"),e.TgZ(3,"div",17),e._UZ(4,"bb-payment-request-tpp-information",18),e.qZA(),e.TgZ(5,"div",17),e._UZ(6,"bb-payment-request-amount",19),e.qZA(),e.TgZ(7,"div",17)(8,"bb-payment-request-account-selector",20),e.NdJ("selectedAccountChange",function(s){return e.CHM(n),e.oxw(5).selectedAccount=s}),e.qZA()(),e.TgZ(9,"div",17)(10,"div",21),e.SDv(11,22),e.qZA(),e.TgZ(12,"div"),e._uU(13),e.qZA()(),e.BQk()}if(2&t){const n=e.oxw(4).paymentRequest,_=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,8,_.savingError)),e.xp6(3),e.Q6J("tpp",n.tpp),e.xp6(2),e.Q6J("amount",n.amount)("currency",n.currency),e.xp6(2),e.Q6J("showError",_.showAccountError)("accounts",n.accounts)("selectedAccount",_.selectedAccount),e.xp6(5),e.Oqu(n.details)}}function Ao(t,o){1&t&&(e.TgZ(0,"div",24),e._UZ(1,"bb-loading-indicator-ui",25),e.qZA())}function Co(t,o){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",5)(2,"div",6),e.SDv(3,7),e.qZA(),e.TgZ(4,"div",8),e.SDv(5,9),e.qZA(),e.YNc(6,uo,14,10,"ng-container",3),e.ALo(7,"async"),e.TgZ(8,"div",10)(9,"button",11),e.NdJ("click",function(){return e.CHM(n),e.oxw(4).allowPaymentRequest()}),e.SDv(10,12),e.ALo(11,"async"),e.qZA(),e.TgZ(12,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(4).rejectPaymentRequest()}),e.SDv(13,14),e.ALo(14,"async"),e.qZA()(),e.YNc(15,Ao,2,0,"ng-template",null,15,e.W1O),e.qZA(),e.BQk()}if(2&t){const n=e.MAs(16),_=e.oxw(4);e.xp6(6),e.Q6J("ngIf",!e.lcZ(7,4,_.saving$))("ngIfElse",n),e.xp6(3),e.Q6J("disabled",e.lcZ(11,6,_.saving$)),e.xp6(3),e.Q6J("disabled",e.lcZ(14,8,_.saving$))}}function Oo(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Co,17,10,"ng-container",3),e.BQk()),2&t){const n=e.oxw(2).error;e.oxw();const _=e.MAs(7);e.xp6(1),e.Q6J("ngIf",!n)("ngIfElse",_)}}function No(t,o){1&t&&(e.TgZ(0,"div",24),e._UZ(1,"bb-loading-indicator-ui"),e.qZA())}function po(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Oo,2,2,"ng-container",3),e.YNc(2,No,2,0,"ng-template",null,4,e.W1O),e.BQk()),2&t){const n=e.MAs(3),_=e.oxw().loading;e.xp6(1),e.Q6J("ngIf",!_)("ngIfElse",n)}}function Mo(t,o){if(1&t&&(e.YNc(0,po,4,2,"ng-container",3),e.ALo(1,"async")),2&t){const n=e.oxw(),_=e.MAs(7);e.Q6J("ngIf",e.lcZ(1,2,n.paymentRequestId))("ngIfElse",_)}}function go(t,o){if(1&t&&(e.TgZ(0,"div",24),e._UZ(1,"bb-payment-request-error",26),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA()),2&t){const n=e.oxw();let _;e.xp6(1),e.Q6J("paymentRequestId",e.lcZ(2,2,n.paymentRequestId))("errorKind",null==(_=e.lcZ(3,4,n.error$))?null:_.kind)}}const Bo=function(t,o,n){return{paymentRequest:t,loading:o,error:n}};let Ve=(()=>{class t{constructor(n){this.service=n,this.consentId=new e.vpe,this.loading=this.service.loading,this.error=this.service.error,this.consents=this.service.consents}selectConsent(n){this.consentId.emit(n)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(Ce))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-list-view"]],outputs:{consentId:"consentId"},decls:8,vars:4,consts:function(){let o,n;return o="No Consents",n="You haven't given any consents to third parties",[[4,"ngIf","ngIfElse"],["loadingTemplate",""],["errorTemplate",""],["emptyTemplate",""],[4,"ngIf"],[3,"consentsList","selectConsent"],[1,"bb-state-container"],[3,"errorKind"],["title",o,"subtitle",n,"iconModifier","assignment-turned-in"]]},template:function(n,_){if(1&n&&(e.YNc(0,J_,3,4,"ng-container",0),e.ALo(1,"async"),e.YNc(2,L_,2,0,"ng-template",null,1,e.W1O),e.YNc(4,K_,3,3,"ng-template",null,2,e.W1O),e.YNc(6,P_,2,0,"ng-template",null,3,e.W1O)),2&n){const s=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,_.consents))("ngIfElse",s)}},directives:[Ie,p.Q,De,T.s,r.O5],pipes:[r.Ov],encapsulation:2}),t})();const mo=[be,r_,a_],Uo=[D.T,T.P,p.p,f.Q,S.G];let Xe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[Ce],imports:[[r.ez,...Uo,...mo],D.T,T.P,p.p,f.Q,S.G]}),t})(),et=(()=>{class t{constructor(n,_){this.detailsService=n,this.route=_,this.loading=this.detailsService.loading,this.error=this.detailsService.error,this.consentId=this.getRouteParam(this.route,"consentId").pipe((0,N.U)(s=>s||"")),this.consentDetails$=this.detailsService.consentDetails,this.isModalOpen=!1,this.Status=Z}ngOnInit(){this.detailsService.getConsentFrom(this.consentId)}openRejectConsentModal(){this.isModalOpen=!0}dismissRejectConsentModal(){this.isModalOpen=!1}revokeConsent(){this.detailsService.requestRevoke().subscribe(),this.dismissRejectConsentModal()}getRouteParam(n,_){const s=n.paramMap.pipe((0,N.U)(i=>i.params[_]));return n.parent?(0,B.a)([s,this.getRouteParam(n.parent,_)]).pipe((0,N.U)(i=>i[0]||i[1])):s}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(Oe),e.Y36(g.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-details"]],decls:6,vars:12,consts:function(){let o,n,_,s,i,A,u,C;return o=" Expired on ",n=" Expiry date ",_=" See other details ",s=" Revoke Consent ",i=" Revoke Consent? ",A=" Are you sure you want to permanently revoke consent for " + "\ufffd0\ufffd" + "? This action can't be undone. ",u=" Cancel ",C=" Revoke ",[[3,"ngTemplateOutlet","ngTemplateOutletContext"],["consentDetailsContainer",""],[4,"ngIf","ngIfElse"],["errorTemplate",""],["loadingTemplate",""],[3,"expiryDate","status","tpp","revokeConsent"],[1,"bb-consent-details"],[1,"bb-consent-details__lg"],[3,"tpp"],[1,"bb-consent-details__lg-wrapper"],[1,"bb-consent-details__lg-wrapper-item"],[3,"accounts"],[3,"permissions"],[1,"bb-consent-details__sm"],[1,"bb-block","bb-block--lg"],[1,"bb-block","bb-block--md"],["class","bb-text-bold",4,"ngIf"],["bbCollapsibleHeader",""],["bbCollapsibleBody",""],["class","bb-consent-details__button bb-button-bar",4,"ngIf"],[3,"isOpen"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["bbCustomModalFooter",""],[1,"bb-text-bold"],o,n,[1,"bb-consent-details__sm-collapsible",3,"click"],_,["name","toggle-down","size","sm"],[1,"bb-consent-details__button","bb-button-bar"],["bbButton","","color","danger",1,"bb-button-bar__button",3,"click"],s,["data-role","dialog-title","bbConfirmTitle","",1,"bb-text-bold"],i,["data-role","dialog-question","bbConfirmBody",""],A,["bbButton","","data-role","cancel-button","color","secondary",3,"click"],u,["bbButton","","color","danger","data-role","revoke-button",3,"click"],C,[1,"bb-state-container"],["loaderSize","lg"],[3,"consentId","errorKind"]]},template:function(n,_){if(1&n&&(e.GkF(0,0),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.YNc(4,j_,4,4,"ng-template",null,1,e.W1O)),2&n){const s=e.MAs(5);e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.kEZ(8,V_,e.lcZ(1,2,_.consentDetails$),e.lcZ(2,4,_.loading),e.lcZ(3,6,_.error)))}},directives:[he,Le,ye,Je,X.tB,f.o,x.zS,x.Rb,x.KF,x.YI,p.Q,ve,r.tP,r.O5,X.gM,X.rJ,y.Hq,x.cA,x.Qd,x.yk],pipes:[r.Ov,S.y],encapsulation:2}),t})();const Ro=[h.gn,A_,Q,M_,l_,O_,u_,x.zk,p.p,S.G,I_.H,X.d8,f.Q,y.hJ];let tt=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[Oe],imports:[[r.ez,...Ro]]}),t})(),nt=(()=>{class t{constructor(n,_,s){this.service=n,this.route=_,this.consentRequestPreferencesService=s,this.multiAccountSelection$=this.consentRequestPreferencesService.multiAccountSelection$,this.allowConsentRequestRedirectUrl=new e.vpe,this.rejectConsentRequestRedirectUrl=new e.vpe,this.notificationErrorTemplate="",this.consentRequestId=this.getRouteParam(this.route,"consentRequestId").pipe((0,N.U)(i=>i||"")),this.loading$=this.service.loading,this.error$=this.service.error,this.saving$=this.service.saving,this.savingError=this.service.savingError,this.consentRequest$=this.service.consentRequest,this.showAccountError=!1}set multiAccountSelection(n){this.consentRequestPreferencesService.multiAccountSelectionInput.next(n)}allowConsentRequest(){this.selectedAccount?(this.showAccountError=!1,this.service.allowConsentRequest(this.selectedAccount,this.notificationErrorTemplate).pipe((0,d.b)(n=>{n.redirectUrl&&this.allowConsentRequestRedirectUrl.emit(n.redirectUrl)})).subscribe()):this.showAccountError=!0}rejectConsentRequest(){this.service.rejectConsentRequest(this.notificationErrorTemplate).pipe((0,d.b)(n=>{n.redirectUrl&&this.rejectConsentRequestRedirectUrl.emit(n.redirectUrl)})).subscribe()}ngOnInit(){this.service.getConsentRequestFrom(this.consentRequestId)}getRouteParam(n,_){const s=(0,B.a)([n.paramMap.pipe((0,N.U)(i=>i.params[_])),n.queryParamMap.pipe((0,N.U)(i=>i.params[_]))]).pipe((0,N.U)(i=>i[0]||i[1]));return n.parent?(0,B.a)([s,this.getRouteParam(null==n?void 0:n.parent,_)]).pipe((0,N.U)(i=>i[0]||i[1])):s}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(Ne),e.Y36(g.gz),e.Y36(pe))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-request"]],viewQuery:function(n,_){if(1&n&&e.Gf(X_,5),2&n){let s;e.iGM(s=e.CRH())&&(_.notificationErrorTemplate=s.first)}},inputs:{multiAccountSelection:"multiAccountSelection"},outputs:{allowConsentRequestRedirectUrl:"allowConsentRequestRedirectUrl",rejectConsentRequestRedirectUrl:"rejectConsentRequestRedirectUrl"},decls:7,vars:15,consts:function(){let o,n,_,s,i,A,u,C;return o=" Third party requested access to your accounts ",n=" Allow ",_=" Reject ",s="Unknown error",i="Try to make action again or contact your system administrator.",A=" Expiration date ",u="Processing the request...",C=" Operation failed ",[[3,"ngTemplateOutlet","ngTemplateOutletContext"],["consentRequestContainer",""],[4,"ngIf","ngIfElse"],["errorTemplate",""],["notificationError",""],["loadingTemplate",""],["class","bb-consent-request",4,"ngIf"],[1,"bb-consent-request"],["data-role","request-access-label",1,"bb-heading-2","bb-block--lg"],o,[1,"bb-button-bar","bb-button-bar--reverse"],["bbButton","","color","primary","data-role","allow-button",1,"bb-button-bar__button",3,"disabled","click"],n,["bbButton","","color","secondary","data-role","reject-button",1,"bb-button-bar__button",3,"disabled","click"],_,["savingLoadingTemplate",""],["title",s,"message",i,"data-role","allow-consent-request-error",4,"ngIf"],[1,"bb-block--lg"],[3,"tpp"],[3,"multiAccountSelection","showError","accounts","selectedAccount","selectedAccountChange"],[3,"permissions"],["data-role","expiration-date-label",1,"bb-block--sm","bb-text-bold"],A,["title",s,"message",i,"data-role","allow-consent-request-error"],[1,"bb-state-container"],["text",u],[3,"consentRequestId","errorKind"],C]},template:function(n,_){if(1&n&&(e.GkF(0,0),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e.YNc(5,Eo,6,4,"ng-template",null,1,e.W1O)),2&n){const s=e.MAs(6);e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.l5B(10,lo,e.lcZ(1,2,_.consentRequest$),e.lcZ(2,4,_.loading$),e.lcZ(3,6,_.error$),e.lcZ(4,8,_.multiAccountSelection$)))}},directives:[G.w,ze,He,$e,p.Q,Ze,r.tP,r.O5,y.Hq],pipes:[r.Ov,S.y],encapsulation:2}),t})();const fo=[Ge,ke,Qe,je,G.n,y.hJ,p.p,S.G];let _t=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[Ne,pe],imports:[[r.ez,...fo,K.UX],Ge,ke,Qe,je,G.n,y.hJ,p.p,S.G]}),t})(),ot=(()=>{class t{constructor(n,_){this.service=n,this.route=_,this.allowPaymentRequestRedirectUrl=new e.vpe,this.rejectPaymentRequestRedirectUrl=new e.vpe,this.paymentRequestId=this.getRouteParam(this.route,"paymentRequestId").pipe((0,N.U)(s=>s||"")),this.paymentRequest$=this.service.paymentRequest.pipe((0,d.b)(s=>{s&&s.selectedAccount&&(this.selectedAccount=s.selectedAccount)})),this.loading$=this.service.loading,this.error$=this.service.error,this.showAccountError=!1,this.saving$=this.service.saving,this.savingError=this.service.savingError}allowPaymentRequest(){this.showAccountError=!1,this.selectedAccount?this.service.allowPaymentRequest(this.selectedAccount).pipe((0,d.b)(n=>{n.redirectUrl&&this.allowPaymentRequestRedirectUrl.emit(n.redirectUrl)})).subscribe():this.showAccountError=!0}rejectPaymentRequest(){this.service.rejectPaymentRequest().pipe((0,d.b)(n=>{n.redirectUrl&&this.rejectPaymentRequestRedirectUrl.emit(n.redirectUrl)})).subscribe()}ngOnInit(){this.service.getPaymentRequestFrom(this.paymentRequestId)}getRouteParam(n,_){const s=(0,B.a)([n.paramMap.pipe((0,N.U)(i=>i.params[_])),n.queryParamMap.pipe((0,N.U)(i=>i.params[_]))]).pipe((0,N.U)(i=>i[0]||i[1]));return n.parent?(0,B.a)([s,this.getRouteParam(null==n?void 0:n.parent,_)]).pipe((0,N.U)(i=>i[0]||i[1])):s}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(Me),e.Y36(g.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-payment-request"]],outputs:{allowPaymentRequestRedirectUrl:"allowPaymentRequestRedirectUrl",rejectPaymentRequestRedirectUrl:"rejectPaymentRequestRedirectUrl"},decls:8,vars:12,consts:function(){let o,n,_,s,i,A,u,C;return o=" Payment request ",n=" Third party requested a payment from you. Select an account to pay from and review payment details to proceed with payment. ",_=" Confirm ",s=" Cancel ",i="Unknown error",A="Try to make action again or contact your system administrator.",u=" Payment details ",C="Processing the request...",[[3,"ngTemplateOutlet","ngTemplateOutletContext"],["paymentRequestContainer",""],["errorTemplate",""],[4,"ngIf","ngIfElse"],["loadingTemplate",""],[1,"bb-payment-request"],["data-role","payment-request-label",1,"bb-heading-2","bb-block","bb-block--md"],o,["data-role","payment-request-description",1,"bb-subtitle","bb-block","bb-block--md"],n,[1,"bb-button-bar","bb-button-bar--reverse"],["bbButton","","data-role","confirm-button","color","primary",1,"bb-button-bar__button",3,"disabled","click"],_,["bbButton","","data-role","cancel-button","color","secondary",1,"bb-button-bar__button",3,"disabled","click"],s,["savingLoadingTemplate",""],["title",i,"message",A,"data-role","allow-payment-request-error",4,"ngIf"],[1,"bb-block","bb-block--lg"],[3,"tpp"],[3,"amount","currency"],[3,"showError","accounts","selectedAccount","selectedAccountChange"],["data-role","payment-details-label",1,"bb-block--sm","bb-text-bold"],u,["title",i,"message",A,"data-role","allow-payment-request-error"],[1,"bb-state-container"],["text",C],[3,"paymentRequestId","errorKind"]]},template:function(n,_){if(1&n&&(e.GkF(0,0),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.YNc(4,Mo,2,4,"ng-template",null,1,e.W1O),e.YNc(6,go,4,6,"ng-template",null,2,e.W1O)),2&n){const s=e.MAs(5);e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.kEZ(8,Bo,e.lcZ(1,2,_.paymentRequest$),e.lcZ(2,4,_.loading$),e.lcZ(3,6,_.error$)))}},directives:[G.w,qe,We,Ye,p.Q,Ke,r.tP,r.O5,y.Hq],pipes:[r.Ov],encapsulation:2}),t})();const To=[Pe,xe,Fe,we,G.n,p.p,y.hJ];let st=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[Me],imports:[[r.ez,...To,K.UX],Pe,xe,Fe,we,G.n,p.p,y.hJ]}),t})();c(9750);const bo=function(t){return[t]};function Io(t,o){if(1&t&&(e.TgZ(0,"a",4)(1,"span",5),e._uU(2),e.qZA()()),2&t){const n=o.$implicit;e.Q6J("routerLink",e.VKq(2,bo,n.route)),e.xp6(2),e.Oqu(null==n?null:n.title)}}function Do(t,o){1&t&&(e.TgZ(0,"h4",13),e.SDv(1,14),e.qZA())}function yo(t,o){1&t&&(e.TgZ(0,"h4",15),e.SDv(1,16),e.qZA())}function vo(t,o){if(1&t&&(e.ynx(0),e._UZ(1,"bb-icon-ui",7),e.YNc(2,Do,2,0,"h4",8),e.YNc(3,yo,2,0,"h4",9),e.TgZ(4,"div",10),e.SDv(5,11),e.qZA(),e.TgZ(6,"div",12),e._UZ(7,"bb-loading-indicator-ui"),e.qZA(),e.BQk()),2&t){const n=e.oxw().ngIf,_=e.oxw();e.xp6(2),e.Q6J("ngIf",n.status===_.Status.ALLOW),e.xp6(1),e.Q6J("ngIf",n.status===_.Status.REJECT)}}function ho(t,o){if(1&t&&(e.TgZ(0,"div",5),e.YNc(1,vo,8,2,"ng-container",6),e.qZA()),2&t){const n=o.ngIf,_=e.oxw(),s=e.MAs(6);e.xp6(1),e.Q6J("ngIf",n.status!==_.Status.ERROR)("ngIfElse",s)}}function Jo(t,o){1&t&&(e.TgZ(0,"div",5)(1,"div"),e.SDv(2,17),e.qZA()())}function Lo(t,o){1&t&&(e.TgZ(0,"h4",13),e.SDv(1,14),e.qZA())}function Ko(t,o){1&t&&(e.TgZ(0,"h4"),e.SDv(1,15),e.qZA())}function Po(t,o){if(1&t&&(e.ynx(0),e._UZ(1,"bb-icon-ui",7),e.YNc(2,Lo,2,0,"h4",8),e.YNc(3,Ko,2,0,"h4",9),e.TgZ(4,"div",10),e.SDv(5,11),e.qZA(),e.TgZ(6,"div",12),e._UZ(7,"bb-loading-indicator-ui"),e.qZA(),e.BQk()),2&t){const n=e.oxw().ngIf,_=e.oxw();e.xp6(2),e.Q6J("ngIf",n.status===_.Status.ALLOW),e.xp6(1),e.Q6J("ngIf",n.status===_.Status.REJECT)}}function Yo(t,o){if(1&t&&(e.TgZ(0,"div",5),e.YNc(1,Po,8,2,"ng-container",6),e.qZA()),2&t){const n=o.ngIf,_=e.oxw(),s=e.MAs(6);e.xp6(1),e.Q6J("ngIf",n.status!==_.Status.ERROR)("ngIfElse",s)}}function xo(t,o){1&t&&(e.TgZ(0,"div",5)(1,"div"),e.SDv(2,16),e.qZA()())}let it=(()=>{class t{constructor(n){this.route=n;const{routeConfig:_}=this.route.snapshot;this.tabs=(null==_?void 0:_.children)?this.initializeTabs(_):[]}initializeTabs({children:n=[]}){return n.filter(_=>_.path&&_.data).map((_,s)=>{var i;return{title:(null===(i=_.data)||void 0===i?void 0:i.title())||`Tab${s+1}`,route:_.path||`${s+1}`}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-journey"]],decls:5,vars:1,consts:[[1,"bb-tab"],[1,"bb-tab-container__tabs","nav","nav-tabs"],["class","nav-link nav-item","role","tab","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["role","tabpanel",1,"bb-tab-container__content","tab-content"],["role","tab","routerLinkActive","active",1,"nav-link","nav-item",3,"routerLink"],[1,"bb-stack__item","bb-stack__item--spacing-xs"]],template:function(n,_){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Io,3,4,"a",2),e.qZA(),e.TgZ(3,"div",3),e._UZ(4,"router-outlet"),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("ngForOf",_.tabs))},directives:[r.sg,g.yS,g.Od,g.lC],encapsulation:2}),t})();const qo=new e.OlP("ConsentJourneyConfigurationToken injection token"),Fo={multiAccountSelection:!1};let $=(()=>{class t{constructor(n){this.config=n,this.config=this.config||{},this._config=Object.assign(Object.assign({},Fo),n)}get multiAccountSelection(){return this._config.multiAccountSelection}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(qo,8))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),rt=(()=>{class t{constructor(n,_,s){this.config=n,this.router=_,this.activeRoute=s,this.destroy$=new k.x}requestPayment(){this.router.navigate([],{queryParams:{paymentRequestId:"1231313"},skipLocationChange:!1,relativeTo:this.activeRoute})}handleAllowRequest(n){this.router.navigate(["../payment-redirect",{allowPaymentRequestRedirectUrl:n}],{relativeTo:this.activeRoute})}handleRejectRequest(n){this.router.navigate(["../payment-redirect",{rejectPaymentRequestRedirectUrl:n}],{relativeTo:this.activeRoute})}ngOnDestroy(){this.destroy$.next()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36($),e.Y36(g.F0),e.Y36(g.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-payment-request-view"]],decls:7,vars:0,consts:function(){let o;return o=" Pay with Backbase ",[[1,"container--fixed-width-small","mx-auto"],[1,"bb-card"],[1,"bb-card__body"],[1,"mb-5","d-flex","justify-content-center"],["bbButton","",3,"click"],o,[3,"allowPaymentRequestRedirectUrl","rejectPaymentRequestRedirectUrl"]]},template:function(n,_){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return _.requestPayment()}),e.SDv(5,5),e.qZA()(),e.TgZ(6,"bb-payment-request",6),e.NdJ("allowPaymentRequestRedirectUrl",function(i){return _.handleAllowRequest(i)})("rejectPaymentRequestRedirectUrl",function(i){return _.handleRejectRequest(i)}),e.qZA()()()())},directives:[ot,y.Hq],encapsulation:2}),t})();var q=(()=>{return(t=q||(q={}))[t.ALLOW=0]="ALLOW",t[t.REJECT=1]="REJECT",t[t.ERROR=2]="ERROR",q;var t})();let ct=(()=>{class t{constructor(n){this.route=n,this.PAYMENT_REDIRECT_TIMEOUT=5e3,this.Status=q,this.allowPaymentRequestRedirectUrl=this.getRouteParam(this.route,"allowPaymentRequestRedirectUrl").pipe((0,N.U)(_=>_||"")),this.rejectPaymentRequestRedirectUrl=this.getRouteParam(this.route,"rejectPaymentRequestRedirectUrl").pipe((0,N.U)(_=>_||"")),this.redirectStatus=(0,B.a)(this.allowPaymentRequestRedirectUrl,this.rejectPaymentRequestRedirectUrl).pipe((0,N.U)(([_,s])=>({url:_||s||"",status:_?q.ALLOW:s?q.REJECT:q.ERROR})))}getRouteParam(n,_){const s=n.paramMap.pipe((0,N.U)(i=>i.params[_]));return n.parent?(0,B.a)([s,this.getRouteParam(n.parent,_)]).pipe((0,N.U)(i=>i[0]||i[1])):s}redirect(){this.redirectStatus.subscribe(n=>{n.status!==q.ERROR&&(window.location.href=n.url)})}ngOnInit(){setTimeout(()=>{this.redirect()},this.PAYMENT_REDIRECT_TIMEOUT)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-payment-consent-redirect"]],decls:7,vars:4,consts:function(){let o,n,_,s;return o=" Redirecting back to third party website... ",n=" Payment accepted! ",_=" Payment rejected! ",s=" No Redirect Url ",[[1,"container--fixed-width-small","mx-auto"],[1,"bb-card"],[1,"bb-card__body"],["class","mb-5 d-flex justify-content-center flex-column text-center",4,"ngIf","ngIfElse"],["errorTemplate",""],[1,"mb-5","d-flex","justify-content-center","flex-column","text-center"],[4,"ngIf","ngIfElse"],["name","success","color","success","size","xl",1,"d-inline","mb-3"],["data-role","payment-status-allowed",4,"ngIf"],["data-role","payment-status-rejected",4,"ngIf"],[1,"mb-4"],o,[1,"mb-3"],["data-role","payment-status-allowed"],n,["data-role","payment-status-rejected"],_,s]},template:function(n,_){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,ho,2,2,"div",3),e.ALo(4,"async"),e.YNc(5,Jo,3,0,"ng-template",null,4,e.W1O),e.qZA()()()),2&n){const s=e.MAs(6);e.xp6(3),e.Q6J("ngIf",e.lcZ(4,2,_.redirectStatus))("ngIfElse",s)}},directives:[f.o,p.Q,r.O5],pipes:[r.Ov],encapsulation:2}),t})();var F=(()=>{return(t=F||(F={}))[t.ALLOW=0]="ALLOW",t[t.REJECT=1]="REJECT",t[t.ERROR=2]="ERROR",F;var t})();let at=(()=>{class t{constructor(n){this.route=n,this.CONSENT_REDIRECT_TIMEOUT=5e3,this.Status=F,this.allowConsentRequestRedirectUrl=this.getRouteParam(this.route,"allowConsentRequestRedirectUrl").pipe((0,N.U)(_=>_||"")),this.rejectConsentRequestRedirectUrl=this.getRouteParam(this.route,"rejectConsentRequestRedirectUrl").pipe((0,N.U)(_=>_||"")),this.redirectStatus=(0,B.a)(this.allowConsentRequestRedirectUrl,this.rejectConsentRequestRedirectUrl).pipe((0,N.U)(([_,s])=>({url:_||s||"",status:_?F.ALLOW:s?F.REJECT:F.ERROR})))}getRouteParam(n,_){const s=n.paramMap.pipe((0,N.U)(i=>i.params[_]));return n.parent?(0,B.a)([s,this.getRouteParam(n.parent,_)]).pipe((0,N.U)(i=>i[0]||i[1])):s}redirect(){this.redirectStatus.subscribe(n=>{n.status!==F.ERROR&&(window.location.href=n.url)})}ngOnInit(){setTimeout(()=>{this.redirect()},this.CONSENT_REDIRECT_TIMEOUT)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-tpp-consent-redirect"]],decls:7,vars:4,consts:function(){let o,n,_,s;return o=" Redirecting back to third party website... ",n=" Consent granted! ",_=" Consent rejected! ",s=" No Redirect Url ",[[1,"container--fixed-width-small","mx-auto"],[1,"bb-card"],[1,"bb-card__body"],["class","mb-5 d-flex justify-content-center flex-column text-center",4,"ngIf","ngIfElse"],["errorTemplate",""],[1,"mb-5","d-flex","justify-content-center","flex-column","text-center"],[4,"ngIf","ngIfElse"],["name","success","color","success","size","xl",1,"d-inline","mb-3"],["data-role","consent-status-allowed",4,"ngIf"],[4,"ngIf"],[1,"mb-4"],o,[1,"mb-3"],["data-role","consent-status-allowed"],n,_,s]},template:function(n,_){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,Yo,2,2,"div",3),e.ALo(4,"async"),e.YNc(5,xo,3,0,"ng-template",null,4,e.W1O),e.qZA()()()),2&n){const s=e.MAs(6);e.xp6(3),e.Q6J("ngIf",e.lcZ(4,2,_.redirectStatus))("ngIfElse",s)}},directives:[f.o,p.Q,r.O5],pipes:[r.Ov],encapsulation:2}),t})(),Et=(()=>{class t{constructor(n,_,s){this.config=n,this.router=_,this.activeRoute=s,this.destroy$=new k.x}requestContext(){this.router.navigate([],{queryParams:{consentRequestId:"1231313"},skipLocationChange:!1,relativeTo:this.activeRoute})}handleAllowRequest(n){this.router.navigate(["../consent-redirect",{allowConsentRequestRedirectUrl:n}],{relativeTo:this.activeRoute})}handleRejectRequest(n){this.router.navigate(["../consent-redirect",{rejectConsentRequestRedirectUrl:n}],{relativeTo:this.activeRoute})}ngOnDestroy(){this.destroy$.next()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36($),e.Y36(g.F0),e.Y36(g.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-request-view"]],decls:7,vars:1,consts:function(){let o;return o=" Simulate Consent Request ",[[1,"container--fixed-width-small","mx-auto"],[1,"bb-card"],[1,"bb-card__body"],[1,"mb-5","d-flex","justify-content-center"],["bbButton","",3,"click"],o,[3,"multiAccountSelection","allowConsentRequestRedirectUrl","rejectConsentRequestRedirectUrl"]]},template:function(n,_){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return _.requestContext()}),e.SDv(5,5),e.qZA()(),e.TgZ(6,"bb-consent-request",6),e.NdJ("allowConsentRequestRedirectUrl",function(i){return _.handleAllowRequest(i)})("rejectConsentRequestRedirectUrl",function(i){return _.handleRejectRequest(i)}),e.qZA()()()()),2&n&&(e.xp6(6),e.Q6J("multiAccountSelection",_.config.multiAccountSelection))},directives:[nt,y.Hq],encapsulation:2}),t})(),lt=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consents-list"]],decls:1,vars:0,template:function(n,_){1&n&&e._UZ(0,"router-outlet")},directives:[g.lC],encapsulation:2}),t})(),St=(()=>{class t{constructor(n,_,s){this.config=n,this.router=_,this.activeRoute=s,this.destroy$=new k.x}handleBack(){this.router.navigate(["../list"],{relativeTo:this.activeRoute})}ngOnDestroy(){this.destroy$.next()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36($),e.Y36(g.F0),e.Y36(g.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-detail-view"]],decls:8,vars:0,consts:function(){let o;return o="Back to list",[[1,"bb-card"],[1,"bb-card__body"],["data-role","consent-heading",1,"justify-content-start"],["data-role","consent-heading-button__navigation",1,"btn","btn-link","bb-block","bb-block--xl",3,"click"],["aria-hidden","true",1,"bb-icon","bb-icon-chevron-left"],o]},template:function(n,_){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return _.handleBack()}),e._UZ(4,"i",4),e.TgZ(5,"span"),e.SDv(6,5),e.qZA()()(),e._UZ(7,"bb-consent-details"),e.qZA()())},directives:[et],encapsulation:2}),t})();const _e={paymentRequest:()=>"Payment Request",consentRequest:()=>"Consent Request",consents:()=>"Consents"},dt={path:"",component:it,children:[{path:"",redirectTo:"payment-request",pathMatch:"full"},{path:"payment-request",component:rt,data:{title:_e.paymentRequest}},{path:"payment-redirect",component:ct},{path:"consent-redirect",component:at},{path:"consent-request",component:Et,data:{title:_e.consentRequest}},{component:lt,data:{title:_e.consents},path:"consents",children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class t{constructor(n,_,s){this.config=n,this.router=_,this.activeRoute=s,this.destroy$=new k.x,this.consentId=""}handleDetail(n){this.consentId=n,this.router.navigate(["../details",{consentId:n}],{relativeTo:this.activeRoute})}ngOnDestroy(){this.destroy$.next()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36($),e.Y36(g.F0),e.Y36(g.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-consent-list"]],decls:3,vars:0,consts:[[1,"bb-card"],[1,"bb-card__body"],[3,"consentId"]],template:function(n,_){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"bb-consent-list-view",2),e.NdJ("consentId",function(i){return _.handleDetail(i)}),e.qZA()()())},directives:[Ve],encapsulation:2}),t})()},{path:"details",component:St}]}]},Wo=[v.Gl,tt,_t,st,Xe];let wo=(()=>{class t{static forRoot(n={route:dt}){return{ngModule:t,providers:[(0,g.co)([n.route])]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[$,Y.wc,Y.J2,Y.Sx],imports:[[r.ez,g.Bz.forChild([dt]),...Wo,y.hJ],v.Gl,tt,_t,st,Xe]}),t})(),Zo=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[wo.forRoot()]]}),t})()},3601:(V,L,c)=>{"use strict";c.d(L,{e:()=>p});var e=c(4986),g=c(4482),r=c(8421),v=c(5403),T=c(2805);function p(f,S=e.P){return function D(f){return(0,g.e)((S,a)=>{let O=!1,m=null,B=null,b=!1;const w=()=>{if(null==B||B.unsubscribe(),B=null,O){O=!1;const l=m;m=null,a.next(l)}b&&a.complete()},d=()=>{B=null,b&&a.complete()};S.subscribe(new v.Q(a,l=>{O=!0,m=l,B||(0,r.Xf)(f(l)).subscribe(B=new v.Q(a,w,d))},()=>{b=!0,(!O||!B||B.closed)&&a.complete()}))})}(()=>(0,T.H)(f,S))}},6406:(V,L,c)=>{"use strict";c.d(L,{Z:()=>p});var e=c(4408),g=c(727);const r={schedule(S){let a=requestAnimationFrame,O=cancelAnimationFrame;const{delegate:m}=r;m&&(a=m.requestAnimationFrame,O=m.cancelAnimationFrame);const B=a(b=>{O=void 0,S(b)});return new g.w0(()=>null==O?void 0:O(B))},requestAnimationFrame(...S){const{delegate:a}=r;return((null==a?void 0:a.requestAnimationFrame)||requestAnimationFrame)(...S)},cancelAnimationFrame(...S){const{delegate:a}=r;return((null==a?void 0:a.cancelAnimationFrame)||cancelAnimationFrame)(...S)},delegate:void 0};var D=c(7565);const p=new class T extends D.v{flush(a){this._active=!0,this._scheduled=void 0;const{actions:O}=this;let m,B=-1;a=a||O.shift();const b=O.length;do{if(m=a.execute(a.state,a.delay))break}while(++B<b&&(a=O.shift()));if(this._active=!1,m){for(;++B<b&&(a=O.shift());)a.unsubscribe();throw m}}}(class v extends e.o{constructor(a,O){super(a,O),this.scheduler=a,this.work=O}requestAsyncId(a,O,m=0){return null!==m&&m>0?super.requestAsyncId(a,O,m):(a.actions.push(this),a._scheduled||(a._scheduled=r.requestAnimationFrame(()=>a.flush(void 0))))}recycleAsyncId(a,O,m=0){if(null!=m&&m>0||null==m&&this.delay>0)return super.recycleAsyncId(a,O,m);0===a.actions.length&&(r.cancelAnimationFrame(O),a._scheduled=void 0)}})},3101:(V,L,c)=>{"use strict";c.d(L,{E:()=>b});var e=c(4408);let r,g=1;const v={};function D(d){return d in v&&(delete v[d],!0)}const T={setImmediate(d){const l=g++;return v[l]=!0,r||(r=Promise.resolve()),r.then(()=>D(l)&&d()),l},clearImmediate(d){D(d)}},{setImmediate:f,clearImmediate:S}=T,a={setImmediate(...d){const{delegate:l}=a;return((null==l?void 0:l.setImmediate)||f)(...d)},clearImmediate(d){const{delegate:l}=a;return((null==l?void 0:l.clearImmediate)||S)(d)},delegate:void 0};var m=c(7565);const b=new class B extends m.v{flush(l){this._active=!0,this._scheduled=void 0;const{actions:M}=this;let I,N=-1;l=l||M.shift();const H=M.length;do{if(I=l.execute(l.state,l.delay))break}while(++N<H&&(l=M.shift()));if(this._active=!1,I){for(;++N<H&&(l=M.shift());)l.unsubscribe();throw I}}}(class O extends e.o{constructor(l,M){super(l,M),this.scheduler=l,this.work=M}requestAsyncId(l,M,I=0){return null!==I&&I>0?super.requestAsyncId(l,M,I):(l.actions.push(this),l._scheduled||(l._scheduled=a.setImmediate(l.flush.bind(l,void 0))))}recycleAsyncId(l,M,I=0){if(null!=I&&I>0||null==I&&this.delay>0)return super.recycleAsyncId(l,M,I);0===l.actions.length&&(a.clearImmediate(M),l._scheduled=void 0)}})},9750:()=>{},6650:()=>{},5739:()=>{},3823:(V,L,c)=>{"use strict";c.d(L,{Z:()=>D,_:()=>T});var e=c(5e3),g=c(9808);let D=(()=>{class p{constructor(S,a){this.renderer=S,this.elementRef=a,this.negativeClass="bb-amount--negative",this.positiveClass="bb-amount--positive",this.amountValue=0,this.highlightValue=!0}set amount(S){this.amountValue="number"==typeof S?S:parseFloat(S)}set bbHighlight(S){this.highlightValue=""===S||S}get isPositive(){return this.amountValue>=0}ngOnChanges(S){S.negativeClass&&this.renderer.removeClass(this.elementRef.nativeElement,S.negativeClass.previousValue),S.positiveClass&&this.renderer.removeClass(this.elementRef.nativeElement,S.positiveClass.previousValue),(S.amount||S.highlight||S.bbHighlight)&&(this.renderer.removeClass(this.elementRef.nativeElement,this.negativeClass),this.renderer.removeClass(this.elementRef.nativeElement,this.positiveClass)),this.highlightValue&&this.renderer.addClass(this.elementRef.nativeElement,this.isPositive?this.positiveClass:this.negativeClass)}}return p.\u0275fac=function(S){return new(S||p)(e.Y36(e.Qsj),e.Y36(e.SBq))},p.\u0275dir=e.lG2({type:p,selectors:[["","bbHighlight",""]],inputs:{amount:"amount",bbHighlight:"bbHighlight",negativeClass:"negativeClass",positiveClass:"positiveClass"},features:[e.TTD]}),p})(),T=(()=>{class p{}return p.\u0275fac=function(S){return new(S||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[[g.ez]]}),p})()}}]);