(self.webpackChunkretail_usa=self.webpackChunkretail_usa||[]).push([[6050],{670:(Ne,j,c)=>{"use strict";c.r(j),c.d(j,{SelfServiceJourneyBundleModule:()=>Ta});var d=c(9808),e=c(5e3),u=c(5357),G=c(2737),O=c(1135),J=c(8505),P=c(3900),w=c(9646),v=c(4004),p=c(9841),h=c(1884),F=c(8372),b=c(7605),K=c(9287),R=c(5460),S=c(429),A=c(7002),m=c(4951),T=c(7287);function ie(t,o){1&t&&(e.ynx(0),e.Hsn(1),e.BQk())}function B(t,o){if(1&t&&(e.ynx(0),e.YNc(1,ie,2,0,"ng-container",0),e.BQk()),2&t){const _=e.oxw(),n=e.MAs(2);e.xp6(1),e.Q6J("ngIf",!_.error)("ngIfElse",n)}}function Z(t,o){if(1&t&&e._UZ(0,"bb-common-error-state-ui",3),2&t){const _=e.oxw();e.Q6J("error",_.error||"")}}function l(t,o){1&t&&e._UZ(0,"bb-loading-indicator-ui",4)}const I=["*"],x=function(t){return[t]};function $(t,o){if(1&t&&(e.TgZ(0,"a",3)(1,"span",4),e._uU(2),e.qZA()()),2&t){const _=o.$implicit;e.Q6J("routerLink",e.VKq(3,x,_.route)),e.uIk("data-role",null==_?null:_.dataRole),e.xp6(2),e.Oqu(null==_?null:_.title)}}function ut(t,o){1&t&&(e.TgZ(0,"div",4),e._UZ(1,"bb-header-ui",5),e.qZA())}function At(t,o){1&t&&(e.TgZ(0,"span",6),e.SDv(1,7),e.qZA())}function mt(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){return e.CHM(_),e.oxw().cancelModalClick.emit()}),e.SDv(1,9),e.qZA(),e.TgZ(2,"button",10),e.NdJ("click",function(){return e.CHM(_),e.oxw().discardChangesClick.emit()}),e.SDv(3,11),e.qZA()}}function ft(t,o){if(1&t&&(e.TgZ(0,"div",4),e._UZ(1,"bb-header-ui",5),e.qZA()),2&t){const _=e.oxw();e.xp6(1),e.Q6J("heading",_.heading)}}function gt(t,o){if(1&t&&e._uU(0),2&t){const _=e.oxw();e.hij(" ",_.description," ")}}function Tt(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){return e.CHM(_),e.oxw().cancelModalClick.emit()}),e._uU(1),e.qZA(),e.TgZ(2,"bb-load-button-ui",7),e.NdJ("click",function(){return e.CHM(_),e.oxw().confirmActionClick.emit()}),e._uU(3),e.qZA()}if(2&t){const _=e.oxw();e.xp6(1),e.hij(" ",_.cancelText," "),e.xp6(1),e.Q6J("color",_.confirmStyle)("isLoading",!!_.confirmLoading)("disabled",!!_.confirmDisabled),e.xp6(1),e.hij(" ",_.confirmText," ")}}const E_=t=>({addressLine:t.secondary,streetName:t.street,townName:t.city,countrySubDivision:t.administrativeArea,postalCode:t.postalCode}),It=t=>({street:t.streetName,secondary:t.addressLine,city:t.townName,administrativeArea:t.countrySubDivision,postalCode:t.postalCode});let pt=(()=>{class t{constructor(_){this.identityManagementService=_}getUserDetails(_){return this.identityManagementService.getIdentity({internalId:_})}updateUserActions(_,n){return this.identityManagementService.sendRequiredActions({internalId:_,identityRequiredActionsRequest:{actions:n}})}updateUserRecordActions(_,n){return this.identityManagementService.updateIdentity({internalId:_,updateIdentityRequest:n})}}return t.\u0275fac=function(_){return new(_||t)(e.LFG(G.oR))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xe=t=>{const o=new O.X(void 0),_=()=>t().pipe((0,J.b)(n=>o.next(n)));return{subject$:o,state$:o.pipe((0,P.w)(n=>void 0!==n?(0,w.of)(n):_())),update:_}},Je=(t,o)=>Object.freeze(o?d_(t,o):t),d_=(t,o)=>Object.entries(o).filter(Bt).reduce(bt,t),bt=(t,[o,_])=>Object.assign(Object.assign({},t),{[o]:_}),Bt=t=>void 0!==t[1],Ae=(t,o)=>{const _=t.paramMap.pipe((0,v.U)(n=>{var i;return null!==(i=null==n?void 0:n.get(o))&&void 0!==i?i:void 0}));return t.parent?(0,p.a)([_,Ae(t.parent,o)]).pipe((0,v.U)(([n,i])=>n||i)):_},l_=t=>`${t}-${Math.random().toString(36).substring(2,9)}`;let ce=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-view-state-container-component"]],inputs:{error:"error",loading:"loading"},ngContentSelectors:I,decls:5,vars:2,consts:function(){let o;return o="Loading...",[[4,"ngIf","ngIfElse"],["errorState",""],["loadingState",""],["data-role","self-service-error-state",1,"bb-state-container",3,"error"],["text",o]]},template:function(_,n){if(1&_&&(e.F$t(),e.YNc(0,B,2,2,"ng-container",0),e.YNc(1,Z,1,1,"ng-template",null,1,e.W1O),e.YNc(3,l,1,0,"ng-template",null,2,e.W1O)),2&_){const i=e.MAs(4);e.Q6J("ngIf",!n.loading)("ngIfElse",i)}},directives:[A.v,m.Q,d.O5],encapsulation:2,changeDetection:0}),t})(),c_=(()=>{class t{constructor(_){this.route=_}ngOnInit(){var _;const n=this.route.snapshot.routeConfig;n&&(null===(_=n.children)||void 0===_?void 0:_.length)&&(this.tabs=this.createTabsFromRouteChildren(n.children))}createTabsFromRouteChildren(_){return _.filter(n=>{var i;return n.path&&(null===(i=n.data)||void 0===i?void 0:i.title)}).map(n=>({title:n.data.title,route:n.path,dataRole:n.data.title.split(" ").join("-").toLowerCase()}))}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(u.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-routable-tab-set"]],decls:4,vars:1,consts:[[1,"bb-tab-container__tabs","nav","nav-tabs"],["class","nav-link","role","tab","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["role","tabpanel",1,"bb-tab-container__content","tab-content"],["role","tab","routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"bb-stack__item","bb-stack__item--spacing-xs"]],template:function(_,n){1&_&&(e.TgZ(0,"div",0),e.YNc(1,$,3,5,"a",1),e.qZA(),e.TgZ(2,"div",2),e._UZ(3,"router-outlet"),e.qZA()),2&_&&(e.xp6(1),e.Q6J("ngForOf",n.tabs))},directives:[d.sg,u.yS,u.Od,u.lC],encapsulation:2,changeDetection:0}),t})(),se=(()=>{class t{constructor(){this.backClick=new e.vpe}}return t.\u0275fac=function(_){return new(_||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-back-button"]],inputs:{page:"page"},outputs:{backClick:"backClick"},decls:5,vars:1,consts:[["data-role","back-button-wrapper",1,"bb-block","bb-block--lg"],["bbButton","","color","link-text","data-role","back-button","type","button","buttonSize","sm",3,"click"],["name","arrow-back"]],template:function(_,n){1&_&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return n.backClick.emit()}),e._UZ(2,"bb-icon-ui",2),e.TgZ(3,"span"),e._uU(4),e.qZA()()()),2&_&&(e.xp6(4),e.hij("",n.page," "))},directives:[K.o,b.Hq],encapsulation:2,changeDetection:0}),t})(),X=(()=>{class t{constructor(){this.modalOpen=!1,this.cancelModalClick=new e.vpe,this.discardChangesClick=new e.vpe}}return t.\u0275fac=function(_){return new(_||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-discard-modal-component"]],inputs:{modalOpen:"modalOpen"},outputs:{cancelModalClick:"cancelModalClick",discardChangesClick:"discardChangesClick"},decls:7,vars:1,consts:function(){let o,_,n,i,r;return o="Discard changes? Any unsaved changes you've made will be lost.",_="Discard changes?",n="Any unsaved changes you've made will be lost.",i=" Cancel ",r=" Discard ",[["data-role","discard-modal",3,"isOpen","cancel"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["bbCustomModalFooter",""],["data-role","discard-modal-header"],["headingType","h3","aria-label",o,"heading",_],["aria-hidden","true"],n,["bbButton","","data-role","discard-modal-cancel-button","color","secondary",3,"click"],i,["bbButton","","data-role","discard-modal-confirm-button",3,"click"],r]},template:function(_,n){1&_&&(e.TgZ(0,"bb-modal-ui",0),e.NdJ("cancel",function(){return n.cancelModalClick.emit()}),e.TgZ(1,"bb-modal-header-ui"),e.YNc(2,ut,2,0,"ng-template",1),e.qZA(),e.TgZ(3,"bb-modal-body-ui"),e.YNc(4,At,2,0,"ng-template",2),e.qZA(),e.TgZ(5,"bb-modal-footer-ui"),e.YNc(6,mt,4,0,"ng-template",3),e.qZA()()),2&_&&e.Q6J("isOpen",n.modalOpen)},directives:[S.zS,S.Rb,R.G,S.KF,S.YI,S.cA,S.Qd,S.yk,b.Hq],encapsulation:2,changeDetection:0}),t})(),S_=(()=>{class t{constructor(){this.modalOpen=!1,this.confirmStyle="primary",this.cancelModalClick=new e.vpe,this.confirmActionClick=new e.vpe}}return t.\u0275fac=function(_){return new(_||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-confirm-action-modal-component"]],inputs:{modalOpen:"modalOpen",heading:"heading",description:"description",cancelText:"cancelText",confirmText:"confirmText",confirmStyle:"confirmStyle",confirmLoading:"confirmLoading",confirmDisabled:"confirmDisabled"},outputs:{cancelModalClick:"cancelModalClick",confirmActionClick:"confirmActionClick"},decls:7,vars:1,consts:[["data-role","confirm-action-modal",3,"isOpen","cancel"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["bbCustomModalFooter",""],["data-role","confirm-action-modal-header"],["headingType","h3",3,"heading"],["bbButton","","data-role","confirm-action-modal-cancel-button","color","secondary",3,"click"],["data-role","confirm-action-modal-confirm-loading-button",3,"color","isLoading","disabled","click"]],template:function(_,n){1&_&&(e.TgZ(0,"bb-modal-ui",0),e.NdJ("cancel",function(){return n.cancelModalClick.emit()}),e.TgZ(1,"bb-modal-header-ui"),e.YNc(2,ft,2,1,"ng-template",1),e.qZA(),e.TgZ(3,"bb-modal-body-ui"),e.YNc(4,gt,1,1,"ng-template",2),e.qZA(),e.TgZ(5,"bb-modal-footer-ui"),e.YNc(6,Tt,4,5,"ng-template",3),e.qZA()()),2&_&&e.Q6J("isOpen",n.modalOpen)},directives:[S.zS,S.Rb,R.G,S.KF,S.YI,T.K,S.cA,S.Qd,S.yk,b.Hq],encapsulation:2,changeDetection:0}),t})();const Rt=[A.N,m.p,b.hJ,K.Q,R.O,S.zk,T.C];let u_=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.ez,u.Bz,...Rt],A.N,m.p,b.hJ,K.Q,R.O,S.zk,T.C]}),t})(),ve=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.ez,u_],u_]}),t})();var E=c(3075),me=c(3533),Ee=c(4058),fe=c(5622),ne=c(3759),k=c(8639),V=c(5556),ge=c(620);const A_=new e.OlP("IdentityDeviceManagementJourneyConfiguration injection token");var de=(()=>{return(t=de||(de={}))[t.Suspend=0]="Suspend",t[t.Restore=1]="Restore",t[t.Remove=2]="Remove",t[t.Save=3]="Save",de;var t})();const m_=Object.freeze({notificationDismissTime:3,isAdmin:!1,renameEnabled:!0,restoreEnabled:!0,suspendEnabled:!0,removeEnabled:!0,routeParamNameUserId:"userId",showHeader:!0,hasFixedWidth:!0});let ye=(()=>{class t{constructor(_){this.config=Je(m_,_)}get notificationDismissTime(){return(t=>1e3*this.config.notificationDismissTime)()}get isAdmin(){return this.config.isAdmin}get renameEnabled(){return this.config.renameEnabled}get restoreEnabled(){return this.config.restoreEnabled}get suspendEnabled(){return this.config.suspendEnabled}get removeEnabled(){return this.config.removeEnabled}get routeParamNameUserId(){return this.config.routeParamNameUserId}get showHeader(){return this.config.showHeader}get hasFixedWidth(){return this.config.hasFixedWidth}}return t.\u0275fac=function(_){return new(_||t)(e.LFG(A_,8))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();var z=c(262);function Ut(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"span",2),e.SDv(2,3),e.qZA(),e.BQk()),2&t){const _=e.oxw();e.xp6(2),e.pQV(null==_.device?null:_.device.vendor)(null==_.device?null:_.device.model),e.QtT(2)}}function Nt(t,o){1&t&&(e.TgZ(0,"span",4),e.SDv(1,5),e.qZA())}function vt(t,o){if(1&t&&(e.TgZ(0,"div",1),e.SDv(1,2),e.ALo(2,"date"),e.qZA()),2&t){const _=e.oxw();e.xp6(2),e.pQV(e.xi3(2,1,_.createdDate,"medium")),e.QtT(1)}}function ht(t,o){if(1&t&&e._UZ(0,"bb-header-ui",5),2&t){const _=e.oxw();e.Q6J("heading",_.modalHeadingText)}}function Lt(t,o){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const _=o.ngIf;e.xp6(1),e.hij(" ",_," ")}}function Ft(t,o){if(1&t&&(e._uU(0),e._UZ(1,"hr"),e.TgZ(2,"div",6),e._UZ(3,"bb-icon-ui",7),e.TgZ(4,"div",8)(5,"div",9),e.YNc(6,Lt,2,1,"ng-container",10),e.qZA(),e._UZ(7,"bb-device-vendor-model-ui",11)(8,"bb-device-registered-on-ui",12),e.qZA()(),e._UZ(9,"hr",13)),2&t){const _=e.oxw(),n=e.MAs(8);e.hij(" ",_.modalBodyText," "),e.xp6(3),e.Q6J("name",_.iconName),e.xp6(3),e.Q6J("ngIf",null==_.device?null:_.device.friendlyName)("ngIfElse",n),e.xp6(1),e.Q6J("device",_.device),e.xp6(1),e.Q6J("createdDate",null==_.device?null:_.device.created)}}function yt(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){return e.CHM(_),e.oxw().onCancel()}),e._uU(1),e.qZA(),e.TgZ(2,"button",15),e.NdJ("click",function(){return e.CHM(_),e.oxw().onConfirm()}),e._uU(3),e.qZA()}if(2&t){const _=e.oxw();e.xp6(1),e.hij(" ",_.cancelButtonText," "),e.xp6(1),e.Q6J("color",_.confirmButtonColor),e.xp6(1),e.hij(" ",_.confirmButtonText," ")}}function Pt(t,o){1&t&&e.SDv(0,16)}function wt(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"span",18),e._uU(2),e.qZA(),e.BQk()),2&t){const _=e.oxw();e.xp6(2),e.Oqu(null==_.device?null:_.device.friendlyName)}}function Kt(t,o){1&t&&e._UZ(0,"bb-badge-ui",19)}function Yt(t,o){1&t&&e._UZ(0,"bb-badge-ui",20)}function xt(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){return e.CHM(_),e.oxw(4).onManageClick()}),e.SDv(1,28),e.qZA()}}function Jt(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){return e.CHM(_),e.oxw(4).onSuspendClick()}),e.SDv(1,30),e.qZA()}}function Wt(t,o){if(1&t&&(e.ynx(0),e.YNc(1,xt,2,0,"button",25),e.YNc(2,Jt,2,0,"button",26),e.BQk()),2&t){const _=e.oxw(3);e.xp6(1),e.Q6J("ngIf",_.configService.renameEnabled),e.xp6(1),e.Q6J("ngIf",_.configService.suspendEnabled)}}function Gt(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){return e.CHM(_),e.oxw(3).onRemoveClick()}),e.SDv(1,32),e.qZA()}}function Zt(t,o){if(1&t&&(e.YNc(0,Wt,3,2,"ng-container",5),e.YNc(1,Gt,2,0,"button",24)),2&t){const _=e.oxw(2),n=e.MAs(18);e.Q6J("ngIf",!_.isDeviceDisabled())("ngIfElse",n),e.xp6(1),e.Q6J("ngIf",_.configService.removeEnabled)}}function kt(t,o){if(1&t&&(e.TgZ(0,"bb-dropdown-menu-ui",21),e.DtL(1,22),e.YNc(2,Zt,2,3,"ng-template",23),e.qZA()),2&t){const _=e.oxw();e.pQV((null==_.device?null:_.device.friendlyName)||"Unknown"),e.QtT(1),e.ekj("invisible",_.isHideDeviceDropdown()),e.Q6J("btnCircle",!0)("disabled",_.isManageDisabled)}}function Ht(t,o){1&t&&(e.tHW(0,33),e._UZ(1,"span",34),e.N_p())}function Vt(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){return e.CHM(_),e.oxw(2).onRestoreClick()}),e.SDv(1,37),e.qZA()}}function $t(t,o){if(1&t&&e.YNc(0,Vt,2,0,"button",35),2&t){const _=e.oxw();e.Q6J("ngIf",_.configService.restoreEnabled)}}function qt(t,o){1&t&&(e.TgZ(0,"span",17),e.SDv(1,18),e.qZA())}function zt(t,o){if(1&t&&(e.TgZ(0,"div",19),e._UZ(1,"bb-device-registered-on-ui",20),e.qZA()),2&t){const _=o.ngIf;e.xp6(1),e.Q6J("createdDate",_)}}function Qt(t,o){1&t&&e._UZ(0,"bb-loading-indicator-ui",8)}function jt(t,o){if(1&t&&e._UZ(0,"bb-common-error-state-ui",9),2&t){const _=e.oxw(2);e.Q6J("error",_.errorState)}}function Xt(t,o){if(1&t&&(e.TgZ(0,"div",5),e.YNc(1,Qt,1,0,"bb-loading-indicator-ui",6),e.YNc(2,jt,1,1,"bb-common-error-state-ui",7),e.qZA()),2&t){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.isLoading),e.xp6(1),e.Q6J("ngIf",_.errorState)}}function en(t,o){if(1&t){const _=e.EpF();e.ynx(0),e.TgZ(1,"div",12)(2,"bb-device-list-item-ui",13),e.NdJ("manageDevice",function(){e.CHM(_);const i=e.oxw().index;return e.oxw(2).toggleManageDevice(i)})("restoreDevice",function(i){return e.CHM(_),e.oxw(3).onRestore(i)})("removeDevice",function(i){return e.CHM(_),e.oxw(3).onRemove(i)})("suspendDevice",function(i){return e.CHM(_),e.oxw(3).onSuspend(i)}),e.qZA()(),e.BQk()}if(2&t){const _=e.oxw().$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("device",_)("isManageDisabled",!n.isManagingDevice())}}function _n(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"div",14)(1,"bb-manage-device-form-ui",15),e.NdJ("save",function(i){return e.CHM(_),e.oxw(3).onSave(i)})("cancel",function(){return e.CHM(_),e.oxw(3).toggleManageDevice()}),e.qZA()()}if(2&t){const _=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("device",_)("isSaving",n.isSaving)}}function tn(t,o){if(1&t&&(e.ynx(0),e.YNc(1,en,3,2,"ng-container",3),e.YNc(2,_n,2,2,"ng-template",null,11,e.W1O),e.BQk()),2&t){const _=o.index,n=e.MAs(3),i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!i.isManagingDevice(_))("ngIfElse",n)}}function nn(t,o){if(1&t&&(e.ynx(0),e.YNc(1,tn,4,2,"ng-container",10),e.BQk()),2&t){const _=e.oxw();e.xp6(1),e.Q6J("ngForOf",_.devices)}}function on(t,o){1&t&&e._UZ(0,"bb-empty-state-ui",17)}function rn(t,o){if(1&t&&e.YNc(0,on,1,0,"bb-empty-state-ui",16),2&t){const _=e.oxw();e.Q6J("ngIf",!_.isLoading)}}const an=function(t){return{"container container--fixed-width":t}},sn=["notificationSuccessHeader"],En=["notificationSuccessMessage"],dn=["notificationFailureHeader"],ln=["notificationFailureMessage"],cn=["notificationPermissionsFailureMessage"];function Sn(t,o){1&t&&(e.TgZ(0,"div",7),e._UZ(1,"bb-header-ui",8),e.qZA())}function un(t,o){1&t&&(e.TgZ(0,"div",14),e.SDv(1,15),e.qZA())}function An(t,o){1&t&&(e.TgZ(0,"div",16),e.SDv(1,17),e.qZA())}function mn(t,o){1&t&&(e.TgZ(0,"div",18),e.SDv(1,19),e.qZA())}function fn(t,o){1&t&&(e.TgZ(0,"div",20),e.SDv(1,21),e.qZA())}function gn(t,o){if(1&t&&(e.ynx(0,9),e.YNc(1,un,2,0,"div",10),e.YNc(2,An,2,0,"div",11),e.YNc(3,mn,2,0,"div",12),e.YNc(4,fn,2,0,"div",13),e.BQk()),2&t){const _=o.actionType,n=e.oxw();e.Q6J("ngSwitch",_),e.xp6(1),e.Q6J("ngSwitchCase",n.updateActions.Restore),e.xp6(1),e.Q6J("ngSwitchCase",n.updateActions.Suspend),e.xp6(1),e.Q6J("ngSwitchCase",n.updateActions.Remove),e.xp6(1),e.Q6J("ngSwitchCase",n.updateActions.Save)}}function Tn(t,o){if(1&t&&(e.TgZ(0,"div"),e.SDv(1,23),e.qZA()),2&t){const _=e.oxw().device,n=e.oxw();e.xp6(1),e.pQV(n.getFriendlyName("Device",_)),e.QtT(1)}}function In(t,o){if(1&t&&(e.TgZ(0,"div"),e.SDv(1,24),e.qZA()),2&t){const _=e.oxw().device,n=e.oxw();e.xp6(1),e.pQV(n.getFriendlyName("Device",_)),e.QtT(1)}}function pn(t,o){if(1&t&&(e.TgZ(0,"div"),e.SDv(1,25),e.qZA()),2&t){const _=e.oxw().device,n=e.oxw();e.xp6(1),e.pQV(n.getFriendlyName("Device",_)),e.QtT(1)}}function Mn(t,o){if(1&t&&(e.TgZ(0,"div"),e.SDv(1,26),e.qZA()),2&t){const _=e.oxw().device,n=e.oxw();e.xp6(1),e.pQV(n.getFriendlyName("Device",_)),e.QtT(1)}}function Cn(t,o){if(1&t&&(e.ynx(0,9),e.YNc(1,Tn,2,1,"div",22),e.YNc(2,In,2,1,"div",22),e.YNc(3,pn,2,1,"div",22),e.YNc(4,Mn,2,1,"div",22),e.BQk()),2&t){const _=o.actionType,n=e.oxw();e.Q6J("ngSwitch",_),e.xp6(1),e.Q6J("ngSwitchCase",n.updateActions.Restore),e.xp6(1),e.Q6J("ngSwitchCase",n.updateActions.Suspend),e.xp6(1),e.Q6J("ngSwitchCase",n.updateActions.Remove),e.xp6(1),e.Q6J("ngSwitchCase",n.updateActions.Save)}}function bn(t,o){1&t&&(e.TgZ(0,"div",27),e.SDv(1,28),e.qZA())}function Bn(t,o){if(1&t&&(e.TgZ(0,"div"),e.SDv(1,29),e.qZA()),2&t){const _=o.device,n=e.oxw();e.xp6(1),e.pQV(n.getOldFriendlyName("device",_)),e.QtT(1)}}function On(t,o){if(1&t&&(e.TgZ(0,"div"),e.SDv(1,30),e.qZA()),2&t){const _=o.device,n=e.oxw();e.xp6(1),e.pQV(n.getOldFriendlyName("device",_)),e.QtT(1)}}let Pe=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-device-vendor-model-ui"]],inputs:{device:"device"},decls:3,vars:2,consts:function(){let o,_;return o=" " + "\ufffd0\ufffd" + " '" + "\ufffd1\ufffd" + "' ",_=" Unknown ",[[4,"ngIf","ngIfElse"],["defaultVendor",""],["data-role","device-vendor-model",1,"break-word"],o,["data-role","device-vendor-model-default"],_]},template:function(_,n){if(1&_&&(e.YNc(0,Ut,3,2,"ng-container",0),e.YNc(1,Nt,2,0,"ng-template",null,1,e.W1O)),2&_){const i=e.MAs(2);e.Q6J("ngIf",(null==n.device?null:n.device.vendor)&&(null==n.device?null:n.device.model))("ngIfElse",i)}},directives:[d.O5],encapsulation:2,changeDetection:0}),t})(),we=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-device-registered-on-ui"]],inputs:{createdDate:"createdDate"},decls:1,vars:1,consts:function(){let o;return o=" Registered on: " + "\ufffd0\ufffd" + "\n",[["data-role","device-registered-on",4,"ngIf"],["data-role","device-registered-on"],o]},template:function(_,n){1&_&&e.YNc(0,vt,3,4,"div",0),2&_&&e.Q6J("ngIf",n.createdDate)},directives:[d.O5],pipes:[d.uU],encapsulation:2,changeDetection:0}),t})(),f_=(()=>{class t{constructor(){this.confirmButtonText="",this.confirmButtonColor="primary",this.cancelButtonText="",this.modalHeadingText="",this.modalBodyText="",this.iconName="",this.isOpen=!1,this.cancel=new e.vpe,this.confirm=new e.vpe}onCancel(){this.cancel.emit()}onConfirm(){this.confirm.emit()}}return t.\u0275fac=function(_){return new(_||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-device-confirmation-modal-ui"]],inputs:{device:"device",confirmButtonText:"confirmButtonText",confirmButtonColor:"confirmButtonColor",cancelButtonText:"cancelButtonText",modalHeadingText:"modalHeadingText",modalBodyText:"modalBodyText",iconName:"iconName",isOpen:"isOpen"},outputs:{cancel:"cancel",confirm:"confirm"},decls:9,vars:1,consts:function(){let o;return o=" Unknown Device\n",[[3,"isOpen","cancel"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["bbCustomModalFooter",""],["defaultFriendlyName",""],["headingType","h2","data-role","device-modal-header",3,"heading"],[1,"bb-stack"],["size","xl",1,"bb-stack__item",3,"name"],[1,"bb-stack__item","bb-stack__item--fill"],[1,"break-word"],[4,"ngIf","ngIfElse"],[1,"bb-subtitle","bb-text-support",3,"device"],[1,"bb-subheader","bb-subheader--regular","bb-text-support",3,"createdDate"],[1,"bb-block","bb-block--no-margin"],["bbButton","","color","secondary","data-role","modal-cancel",3,"click"],["bbButton","","data-role","modal-confirm",3,"color","click"],o]},template:function(_,n){1&_&&(e.TgZ(0,"bb-modal-ui",0),e.NdJ("cancel",function(){return n.onCancel()}),e.TgZ(1,"bb-modal-header-ui"),e.YNc(2,ht,1,1,"ng-template",1),e.qZA(),e.TgZ(3,"bb-modal-body-ui"),e.YNc(4,Ft,10,6,"ng-template",2),e.qZA(),e.TgZ(5,"bb-modal-footer-ui"),e.YNc(6,yt,4,3,"ng-template",3),e.qZA()(),e.YNc(7,Pt,1,0,"ng-template",null,4,e.W1O)),2&_&&e.Q6J("isOpen",n.isOpen)},directives:[S.zS,S.Rb,R.G,S.KF,K.o,Pe,we,S.YI,S.cA,S.Qd,d.O5,S.yk,b.Hq],encapsulation:2,changeDetection:0}),t})(),g_=(()=>{class t{constructor(_){this.configService=_,this.isManageDisabled=!1,this.manageDevice=new e.vpe,this.removeDevice=new e.vpe,this.restoreDevice=new e.vpe,this.suspendDevice=new e.vpe,this.isRestoring=!1,this.isRemoving=!1,this.isSuspending=!1,this.icon=""}ngOnInit(){this.device&&(this.icon="Apple"===this.device.vendor?"phone-iphone":"phone-android")}isDeviceDisabled(){return this.device&&this.device.status===ge.Ly.DISABLED}isDeviceRemoved(){return this.device&&this.device.status===ge.Ly.REMOVED}isHideDeviceDropdown(){return!(!this.isDeviceRemoved()&&(!this.isDeviceDisabled()||this.configService.restoreEnabled||this.configService.removeEnabled)&&(this.isDeviceDisabled()||this.configService.renameEnabled||this.configService.suspendEnabled||this.configService.removeEnabled))}onManageClick(){this.manageDevice.emit()}onSuspendClick(){this.isSuspending=!0}onRemoveClick(){this.isRemoving=!0}onRestoreClick(){this.isRestoring=!0}onSuspendConfirm(){this.device&&(this.suspendDevice.emit(this.device),this.isSuspending=!1)}onSuspendCancel(){this.isSuspending=!1}onRestoreConfirm(){this.device&&(this.restoreDevice.emit(this.device),this.isRestoring=!1)}onRestoreCancel(){this.isRestoring=!1}onRemoveConfirm(){this.device&&(this.removeDevice.emit(this.device),this.isRemoving=!1)}onRemoveCancel(){this.isRemoving=!1}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(ye))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-device-list-item-ui"]],inputs:{device:"device",isManageDisabled:"isManageDisabled"},outputs:{manageDevice:"manageDevice",removeDevice:"removeDevice",restoreDevice:"restoreDevice",suspendDevice:"suspendDevice"},decls:22,vars:21,consts:function(){let o,_,n,i,r,a,s,f,C,M,D,U,N,W,H,y,Y,ee,_e,te;return o="SUSPENDED",_="REMOVED",n="Cancel",i="Suspend device",r="Confirm device suspension",a="Are you sure that you wish to suspend the following device?",s="Cancel",f="Restore device",C="Confirm device restoration",M="Are you sure that you wish to restore the following device?",D="Keep device",U="Remove device",N="Confirm device removal",W="Are you sure that you wish to remove the following device?",H="Manage device " + "\ufffd0\ufffd" + "",y=" Edit name ",Y=" Suspend device ",ee=" Remove device ",_e="" + "\ufffd#1\ufffd" + "Unknown Device" + "\ufffd/#1\ufffd" + "",te=" Restore device ",[["data-role","device-item",1,"bb-stack"],[1,"bb-stack__item","bb-stack__item--fill"],[1,"bb-stack"],["size","xl","data-role","device-item-icon",1,"bb-stack__item",3,"name"],[1,"break-word"],[4,"ngIf","ngIfElse"],[3,"ngClass"],[3,"device"],[1,"bb-subheader","bb-subheader--regular",3,"ngClass","createdDate"],[1,"bb-stack__item"],["class","bb-stack__item","color","danger","data-role","device-item-badge-disabled","text",o,4,"ngIf"],["class","bb-stack__item","color","secondary","data-role","device-item-badge-removed","text",_,4,"ngIf"],["class","bb-stack__item","icon","ellipsis-h","btnColor","link","data-role","device-item-menu",3,"invisible","dropDownButtonLabel","btnCircle","disabled",4,"ngIf"],["defaultFriendlyName",""],["disabledDeviceMenuItems",""],["cancelButtonText",n,"confirmButtonText",i,"modalHeadingText",r,"modalBodyText",a,3,"isOpen","device","iconName","cancel","confirm"],["cancelButtonText",s,"confirmButtonText",f,"modalHeadingText",C,"modalBodyText",M,3,"isOpen","device","iconName","cancel","confirm"],["confirmButtonColor","danger","cancelButtonText",D,"confirmButtonText",U,"modalHeadingText",N,"modalBodyText",W,3,"isOpen","device","iconName","cancel","confirm"],["data-role","device-item-friendly-name"],["color","danger","data-role","device-item-badge-disabled","text",o,1,"bb-stack__item"],["color","secondary","data-role","device-item-badge-removed","text",_,1,"bb-stack__item"],["icon","ellipsis-h","btnColor","link","data-role","device-item-menu",1,"bb-stack__item",3,"btnCircle","disabled",6,"dropDownButtonLabel"],["dropDownButtonLabel",H],["bbDropdownMenuItem",""],["role","menuitem","class","dropdown-item","data-role","device-item-remove",3,"click",4,"ngIf"],["role","menuitem","class","dropdown-item","data-role","device-item-edit",3,"click",4,"ngIf"],["role","menuitem","class","dropdown-item","data-role","device-item-suspend",3,"click",4,"ngIf"],["role","menuitem","data-role","device-item-edit",1,"dropdown-item",3,"click"],y,["role","menuitem","data-role","device-item-suspend",1,"dropdown-item",3,"click"],Y,["role","menuitem","data-role","device-item-remove",1,"dropdown-item",3,"click"],ee,_e,["data-role","device-item-friendly-name-default"],["role","menuitem","class","dropdown-item","data-role","device-item-restore",3,"click",4,"ngIf"],["role","menuitem","data-role","device-item-restore",1,"dropdown-item",3,"click"],te]},template:function(_,n){if(1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"bb-icon-ui",3),e.TgZ(4,"div",1)(5,"div",4),e.YNc(6,wt,3,1,"ng-container",5),e.qZA(),e.TgZ(7,"small",6),e._UZ(8,"bb-device-vendor-model-ui",7),e.qZA(),e._UZ(9,"bb-device-registered-on-ui",8),e.qZA()()(),e.TgZ(10,"div",9)(11,"div",2),e.YNc(12,Kt,1,0,"bb-badge-ui",10),e.YNc(13,Yt,1,0,"bb-badge-ui",11),e.YNc(14,kt,3,5,"bb-dropdown-menu-ui",12),e.qZA()()(),e.YNc(15,Ht,2,0,"ng-template",null,13,e.W1O),e.YNc(17,$t,1,1,"ng-template",null,14,e.W1O),e.TgZ(19,"bb-device-confirmation-modal-ui",15),e.NdJ("cancel",function(){return n.onSuspendCancel()})("confirm",function(){return n.onSuspendConfirm()}),e.qZA(),e.TgZ(20,"bb-device-confirmation-modal-ui",16),e.NdJ("cancel",function(){return n.onRestoreCancel()})("confirm",function(){return n.onRestoreConfirm()}),e.qZA(),e.TgZ(21,"bb-device-confirmation-modal-ui",17),e.NdJ("cancel",function(){return n.onRemoveCancel()})("confirm",function(){return n.onRemoveConfirm()}),e.qZA()),2&_){const i=e.MAs(16);e.xp6(1),e.ekj("bb-text-disabled",n.isDeviceDisabled()||n.isDeviceRemoved()),e.xp6(2),e.Q6J("name",n.icon),e.xp6(3),e.Q6J("ngIf",null==n.device?null:n.device.friendlyName)("ngIfElse",i),e.xp6(1),e.Q6J("ngClass",n.isDeviceDisabled()||n.isDeviceRemoved()?"bb-text-disabled":"bb-text-support"),e.xp6(1),e.Q6J("device",n.device),e.xp6(1),e.Q6J("ngClass",n.isDeviceDisabled()||n.isDeviceRemoved()?"bb-text-disabled":"bb-text-support")("createdDate",null==n.device?null:n.device.created),e.xp6(3),e.Q6J("ngIf",n.isDeviceDisabled()),e.xp6(1),e.Q6J("ngIf",n.isDeviceRemoved()),e.xp6(1),e.Q6J("ngIf",n.configService.renameEnabled||n.configService.restoreEnabled||n.configService.suspendEnabled||n.configService.removeEnabled),e.xp6(5),e.Q6J("isOpen",n.isSuspending)("device",n.device)("iconName",n.icon),e.xp6(1),e.Q6J("isOpen",n.isRestoring)("device",n.device)("iconName",n.icon),e.xp6(1),e.Q6J("isOpen",n.isRemoving)("device",n.device)("iconName",n.icon)}},directives:[K.o,Pe,we,me.F,Ee.N9,f_,d.O5,d.mk,Ee.i4],encapsulation:2,changeDetection:0}),t})(),T_=(()=>{class t{constructor(_,n){this.formBuilder=_,this.cd=n,this.isSaving=!1,this.save=new e.vpe,this.cancel=new e.vpe,this.isSubmitted=!1}set device(_){this.managedDevice=_}get device(){if(this.managedDevice)return this.managedDevice;throw new Error("Device not set")}get control(){return this.form.controls.friendlyName}ngOnInit(){this.form=this.formBuilder.group({friendlyName:[this.device.friendlyName||"",E.kI.required]})}onCancel(){this.cancel.emit()}onSave(){this.isSubmitted=!0,this.control.markAsTouched(),this.cd.markForCheck(),this.form&&this.form.valid&&this.save.emit(Object.assign(Object.assign({},this.device),{friendlyName:this.control.value,oldFriendlyName:this.device.friendlyName}))}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(E.qu),e.Y36(e.sBO))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-manage-device-form-ui"]],inputs:{device:"device",isSaving:"isSaving"},outputs:{save:"save",cancel:"cancel"},decls:18,vars:10,consts:function(){let o,_,n,i,r,a;return o="Edit Name",_="Name of device",n=" Device: ",i=" Save changes ",r=" Cancel ",a=" Device name required. ",[["data-role","device-form"],[1,"bb-block","bb-block--lg"],["headingType","h3","heading",o],[3,"formGroup","submit"],[1,"form-group"],["label",_,"formControlName","friendlyName","data-role","device-form-friendly-name-input",1,"bb-form-field","bb-form-field--md",3,"maxLength","autofocus"],[3,"showErrors"],["data-role","device-form-friendly-name-required",4,"ngIf"],[1,"bb-block","bb-block--xs"],n,[1,"device-information__form-device-type",3,"device"],["class","bb-block bb-block--lg bb-subtitle bb-text-support",4,"ngIf"],[1,"bb-button-bar","bb-button-bar--reverse"],["color","primary","type","submit","data-role","device-form-save",1,"bb-button-bar__button",3,"disabled","isLoading"],i,["bbButton","","color","secondary","data-role","device-form-cancel",1,"bb-button-bar__button",3,"disabled","click"],r,["data-role","device-form-friendly-name-required"],a,[1,"bb-block","bb-block--lg","bb-subtitle","bb-text-support"],[3,"createdDate"]]},template:function(_,n){1&_&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"bb-header-ui",2),e.qZA(),e.TgZ(3,"form",3),e.NdJ("submit",function(){return n.onSave()}),e.TgZ(4,"div",4),e._UZ(5,"bb-input-text-ui",5),e.TgZ(6,"bb-input-validation-message-ui",6),e.YNc(7,qt,2,0,"span",7),e.qZA()(),e.TgZ(8,"div",8)(9,"span"),e.SDv(10,9),e.qZA(),e._UZ(11,"bb-device-vendor-model-ui",10),e.qZA(),e.YNc(12,zt,2,1,"div",11),e.TgZ(13,"div",12)(14,"bb-load-button-ui",13),e.SDv(15,14),e.qZA(),e.TgZ(16,"button",15),e.NdJ("click",function(){return n.onCancel()}),e.SDv(17,16),e.qZA()()()()),2&_&&(e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(2),e.Q6J("maxLength",50)("autofocus",!0),e.xp6(1),e.Q6J("showErrors",n.isSubmitted),e.xp6(1),e.Q6J("ngIf",null==n.control.errors?null:n.control.errors.required),e.xp6(4),e.Q6J("device",n.device),e.xp6(1),e.Q6J("ngIf",null==n.device?null:n.device.created),e.xp6(2),e.Q6J("disabled",n.isSaving)("isLoading",n.isSaving),e.xp6(2),e.Q6J("disabled",n.isSaving))},directives:[R.G,ne.m,k.d,Pe,we,T.K,E._Y,E.JL,E.sg,E.JJ,E.u,d.O5,b.Hq],encapsulation:2,changeDetection:0}),t})(),I_=(()=>{class t{constructor(){this.isLoading=!1,this.save=new e.vpe,this.removeDevice=new e.vpe,this.suspendDevice=new e.vpe,this.restoreDevice=new e.vpe,this.isSavingState=!1}set isSaving(_){this.isSavingState=_,this.isSavingState||this.toggleManageDevice()}get isSaving(){return this.isSavingState}toggleManageDevice(_){this.managedDeviceIndex=_}isManagingDevice(_){return _===this.managedDeviceIndex}onRestore(_){this.restoreDevice.emit(_)}onRemove(_){this.removeDevice.emit(_)}onSuspend(_){this.suspendDevice.emit(_)}onSave(_){this.save.emit(_)}}return t.\u0275fac=function(_){return new(_||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-device-information-ui"]],inputs:{isSaving:"isSaving",devices:"devices",isLoading:"isLoading",errorState:"errorState"},outputs:{save:"save",removeDevice:"removeDevice",suspendDevice:"suspendDevice",restoreDevice:"restoreDevice"},decls:6,vars:3,consts:function(){let o,_,n;return o="Device information",_="Loading...",n="No devices found",[[1,"card","card-lg"],["data-role","device-information-header","headingType","h2","heading",o,1,"card-header"],["class","card-body",4,"ngIf"],[4,"ngIf","ngIfElse"],["emptyState",""],[1,"card-body"],["text",_,4,"ngIf"],["class","bb-state-container","data-role","state-error",3,"error",4,"ngIf"],["text",_],["data-role","state-error",1,"bb-state-container",3,"error"],[4,"ngFor","ngForOf"],["managingDevice",""],[1,"card-section"],[3,"device","isManageDisabled","manageDevice","restoreDevice","removeDevice","suspendDevice"],[1,"card-section","card-section--highlight"],[3,"device","isSaving","save","cancel"],["class","bb-state-container","data-role","state-empty","title",n,"iconSize","xxl","iconModifier","phonelink-off",4,"ngIf"],["data-role","state-empty","title",n,"iconSize","xxl","iconModifier","phonelink-off",1,"bb-state-container"]]},template:function(_,n){if(1&_&&(e.TgZ(0,"div",0),e._UZ(1,"bb-header-ui",1),e.YNc(2,Xt,3,2,"div",2),e.YNc(3,nn,2,1,"ng-container",3),e.YNc(4,rn,1,1,"ng-template",null,4,e.W1O),e.qZA()),2&_){const i=e.MAs(5);e.xp6(2),e.Q6J("ngIf",n.isLoading||n.errorState),e.xp6(1),e.Q6J("ngIf",!n.errorState&&(null==n.devices?null:n.devices.length))("ngIfElse",i)}},directives:[R.G,m.Q,A.v,g_,T_,fe.s,d.O5,d.sg],encapsulation:2,changeDetection:0}),t})(),p_=(()=>{class t{constructor(_){this.configService=_}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(ye))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-device-management-journey"]],decls:2,vars:3,consts:[[3,"ngClass"]],template:function(_,n){1&_&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA()),2&_&&e.Q6J("ngClass",e.VKq(1,an,n.configService.hasFixedWidth))},directives:[d.mk,u.lC],encapsulation:2}),t})(),M_=(()=>{class t{constructor(_){this.deviceManagementService=_,this.dbsUserId=""}getDevices(){return this.deviceManagementService.getDevicesByDbsUserId({dbsUserId:this.dbsUserId}).pipe((0,v.U)(_=>_.devices))}updateDevice(_,n){return this.deviceManagementService.patchUserDeviceByDbsUserIdAndDeviceId({dbsUserId:this.dbsUserId,deviceId:_,patchDeviceRequest:n})}removeDevice(_){return this.deviceManagementService.deleteUserDeviceByDeviceId({dbsUserId:this.dbsUserId,deviceId:_})}set dbsUserIdInput(_){this.dbsUserId=_}get dbsUserIdInput(){return this.dbsUserId}}return t.\u0275fac=function(_){return new(_||t)(e.LFG(ge.d3))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),C_=(()=>{class t{constructor(_){this.deviceManagementService=_}getDevices(){return this.deviceManagementService.getMyDevices().pipe((0,v.U)(_=>_.devices))}updateDevice(_,n){return this.deviceManagementService.patchMyDeviceByDeviceId({deviceId:_,patchDeviceRequest:n})}removeDevice(_){return this.deviceManagementService.deleteMyDeviceByDeviceId({deviceId:_})}}return t.\u0275fac=function(_){return new(_||t)(e.LFG(ge.kf))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),We=(()=>{class t{constructor(_,n,i,r,a){this.configService=_,this.userDataService=n,this.adminDataService=i,this.notificationService=r,this.route=a,this.successHeader="",this.successMessage="",this.failureHeader="",this.failureMessage="",this.failurePermissionsMessage="",this.updateActions=de,this.refreshDevicesSubject$$=new O.X(void 0),this.isLoadingSubject$$=new O.X(!1),this.isSavingSubject$$=new O.X(!1),this.errorSubject$$=new O.X(void 0),this.userId$=Ae(this.route,this.configService.routeParamNameUserId).pipe((0,J.b)(s=>{if(!s)throw new Error("userId is required");this.adminDataService.dbsUserIdInput=s})),this.isLoading$=this.isLoadingSubject$$.asObservable(),this.isSaving$=this.isSavingSubject$$.asObservable(),this.errorState$=this.errorSubject$$.asObservable(),this.devices$=this.getDevicesObservable(),this.onError=s=>(this.notificationService.showNotification({header:this.failureHeader,message:this.getErrorMessage(s),messageContext:{device:this.managedDevice},modifier:"error",ttl:this.configService.notificationDismissTime}),(0,w.of)()),this.onSuccess=()=>{this.notificationService.showNotification({header:this.successHeader,headerContext:{actionType:this.updateAction},message:this.successMessage,messageContext:{actionType:this.updateAction,device:this.managedDevice},modifier:"success",ttl:this.configService.notificationDismissTime}),this.refreshDevicesSubject$$.next(void 0)}}ngOnInit(){this.configService.isAdmin&&(this.userIdSubscription=this.userId$.subscribe())}getFriendlyName(_,n){const i=n||this.managedDevice;return i&&i.friendlyName?`'${i.friendlyName}'`:_}getOldFriendlyName(_,n){const i=n||this.managedDevice;return i&&i.oldFriendlyName?`'${i.oldFriendlyName}'`:_}onSave(_){this.isSavingSubject$$.next(!0),this.updateAction=de.Save,this.managedDevice=_,this.dataService.updateDevice(_.deviceId,{friendlyName:_.friendlyName}).pipe((0,J.b)(()=>this.isSavingSubject$$.next(!1)),(0,z.K)(n=>(this.isSavingSubject$$.next(!1),this.onError(n)))).subscribe(this.onSuccess)}onRemove(_){this.updateAction=de.Remove,this.managedDevice=_,this.dataService.removeDevice(_.deviceId).pipe((0,z.K)(this.onError)).subscribe(this.onSuccess)}onSuspend(_){this.updateAction=de.Suspend,this.managedDevice=_,this.updateDevice(_,ge.Ly.DISABLED)}onRestore(_){this.updateAction=de.Restore,this.managedDevice=_,this.updateDevice(_,ge.Ly.ENABLED)}ngOnDestroy(){var _;null===(_=this.userIdSubscription)||void 0===_||_.unsubscribe()}getDevicesObservable(){return this.refreshDevicesSubject$$.pipe((0,J.b)(()=>{this.errorSubject$$.next(void 0),this.isLoadingSubject$$.next(!0)}),(0,P.w)(()=>this.dataService.getDevices()),(0,J.b)(()=>this.isLoadingSubject$$.next(!1)),(0,z.K)(_=>(this.isLoadingSubject$$.next(!1),this.errorSubject$$.next(_),(0,w.of)(void 0))))}updateDevice(_,n){this.dataService.updateDevice(_.deviceId,{status:n}).pipe((0,z.K)(this.onError)).subscribe(this.onSuccess)}getErrorMessage(_){return 403===_.status?this.failurePermissionsMessage:this.failureMessage}get dataService(){return this.configService.isAdmin?this.adminDataService:this.userDataService}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(ye),e.Y36(C_),e.Y36(M_),e.Y36(V.gq),e.Y36(u.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-device-information-view"]],viewQuery:function(_,n){if(1&_&&(e.Gf(sn,5),e.Gf(En,5),e.Gf(dn,5),e.Gf(ln,5),e.Gf(cn,5)),2&_){let i;e.iGM(i=e.CRH())&&(n.successHeader=i.first),e.iGM(i=e.CRH())&&(n.successMessage=i.first),e.iGM(i=e.CRH())&&(n.failureHeader=i.first),e.iGM(i=e.CRH())&&(n.failureMessage=i.first),e.iGM(i=e.CRH())&&(n.failurePermissionsMessage=i.first)}},features:[e._Bn([C_,M_])],decls:16,vars:13,consts:function(){let o,_,n,i,r,a,s,f,C,M,D,U;return o="Devices",_=" Device restored ",n=" Device suspended ",i=" Device removed ",r=" Device name changed ",a=" " + "\ufffd0\ufffd" + " restored successfully. ",s=" " + "\ufffd0\ufffd" + " suspended successfully. ",f=" " + "\ufffd0\ufffd" + " removed successfully. ",C=" " + "\ufffd0\ufffd" + " name changed successfully. ",M=" Device update failed ",D=" Failed to update " + "\ufffd0\ufffd" + ". ",U=" Insufficient permissions to update " + "\ufffd0\ufffd" + ". ",[["class","bb-block bb-block--lg",4,"ngIf"],[3,"devices","isLoading","isSaving","errorState","save","removeDevice","suspendDevice","restoreDevice"],["notificationSuccessHeader",""],["notificationSuccessMessage",""],["notificationFailureHeader",""],["notificationFailureMessage",""],["notificationPermissionsFailureMessage",""],[1,"bb-block","bb-block--lg"],["headingType","h1","data-role","device-information-view-header","heading",o],[3,"ngSwitch"],["data-role","notification-header-restored",4,"ngSwitchCase"],["data-role","notification-header-suspended",4,"ngSwitchCase"],["data-role","notification-header-removed",4,"ngSwitchCase"],["data-role","notification-header-saved",4,"ngSwitchCase"],["data-role","notification-header-restored"],_,["data-role","notification-header-suspended"],n,["data-role","notification-header-removed"],i,["data-role","notification-header-saved"],r,[4,"ngSwitchCase"],a,s,f,C,["data-role","notification-header-failed"],M,D,U]},template:function(_,n){1&_&&(e.YNc(0,Sn,2,0,"div",0),e.TgZ(1,"bb-device-information-ui",1),e.NdJ("save",function(r){return n.onSave(r)})("removeDevice",function(r){return n.onRemove(r)})("suspendDevice",function(r){return n.onSuspend(r)})("restoreDevice",function(r){return n.onRestore(r)}),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e.ALo(5,"async"),e.qZA(),e.YNc(6,gn,5,5,"ng-template",null,2,e.W1O),e.YNc(8,Cn,5,5,"ng-template",null,3,e.W1O),e.YNc(10,bn,2,0,"ng-template",null,4,e.W1O),e.YNc(12,Bn,2,1,"ng-template",null,5,e.W1O),e.YNc(14,On,2,1,"ng-template",null,6,e.W1O)),2&_&&(e.Q6J("ngIf",n.configService.showHeader),e.xp6(1),e.Q6J("devices",e.lcZ(2,5,n.devices$)||void 0)("isLoading",e.lcZ(3,7,n.isLoading$)||!1)("isSaving",e.lcZ(4,9,n.isSaving$)||!1)("errorState",e.lcZ(5,11,n.errorState$)||void 0))},directives:[R.G,I_,d.O5,d.RF,d.n9],pipes:[d.Ov],encapsulation:2,changeDetection:0}),t})();const Rn=[R.O,m.p,A.N,K.Q,b.hJ,k.w,ne.j,T.C,Ee.CK,S.zk,V.PQ,E.UX,fe.P,me.T];let b_=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.ez,u.Bz,...Rn],R.O,m.p,A.N,K.Q,b.hJ,k.w,ne.j,T.C,Ee.CK,S.zk,V.PQ,E.UX,fe.P,me.T]}),t})();const B_={path:"",component:p_,children:[{path:"",component:We}]};let Dn=(()=>{class t{static forRoot({route:_}={route:B_}){return{ngModule:t,providers:[(0,u.co)([_])]}}}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[ye],imports:[[d.ez,u.Bz,b_],u.Bz]}),t})();var Te=c(6888),he=c(8519),O_=c(7579),R_=c(2722),Un=c(3446);function Nn(t,o){1&t&&(e.TgZ(0,"span",26),e.SDv(1,27),e.qZA())}function vn(t,o){1&t&&(e.TgZ(0,"span",28),e.SDv(1,29),e.qZA())}function hn(t,o){1&t&&(e.TgZ(0,"span",30),e.SDv(1,31),e.qZA())}function Ln(t,o){1&t&&(e.TgZ(0,"span",32),e.SDv(1,33),e.qZA())}function Fn(t,o){1&t&&(e.TgZ(0,"span",34),e.SDv(1,35),e.qZA())}function yn(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"div")(1,"div",1),e._UZ(2,"bb-header-ui",2),e.qZA(),e.TgZ(3,"div",1),e.SDv(4,3),e.qZA(),e.TgZ(5,"form",4),e.NdJ("submit",function(){return e.CHM(_),e.oxw().onSubmit()}),e.TgZ(6,"div",5)(7,"div",6),e._UZ(8,"bb-input-password-ui",7),e.TgZ(9,"bb-input-validation-message-ui",8),e.YNc(10,Nn,2,0,"span",9),e.qZA()(),e.TgZ(11,"div",1)(12,"div",1),e.SDv(13,10),e.qZA(),e.TgZ(14,"ul")(15,"li"),e.SDv(16,11),e.qZA(),e.TgZ(17,"li"),e.SDv(18,12),e.qZA(),e.TgZ(19,"li"),e.SDv(20,13),e.qZA()()(),e.TgZ(21,"div",14),e._UZ(22,"bb-input-password-ui",15),e.TgZ(23,"bb-input-validation-message-ui",8),e.YNc(24,vn,2,0,"span",16),e.YNc(25,hn,2,0,"span",17),e.qZA()(),e.TgZ(26,"div",1),e._UZ(27,"bb-input-password-ui",18),e.TgZ(28,"bb-input-validation-message-ui",8),e.YNc(29,Ln,2,0,"span",19),e.YNc(30,Fn,2,0,"span",20),e.qZA()()(),e.TgZ(31,"div",21)(32,"bb-load-button-ui",22),e.SDv(33,23),e.qZA(),e.TgZ(34,"button",24),e.NdJ("click",function(){return e.CHM(_),e.oxw().closePasswordModal()})("mousedown",function(){return e.CHM(_),e.oxw().closePasswordModal()}),e.SDv(35,25),e.qZA()()()()}if(2&t){const _=e.oxw();e.xp6(5),e.Q6J("formGroup",_.form),e.xp6(3),e.Q6J("autofocus",!0)("maxLength",255)("showVisibilityControl",!0),e.xp6(1),e.Q6J("showErrors",_.showErrors(_.form.controls.currentPassword)),e.xp6(1),e.Q6J("ngIf",null==_.form.controls.currentPassword.errors?null:_.form.controls.currentPassword.errors.required),e.xp6(12),e.Q6J("maxLength",255)("showVisibilityControl",!0),e.xp6(1),e.Q6J("showErrors",_.showErrors(_.form.controls.inputNewPassword)),e.xp6(1),e.Q6J("ngIf",null==_.form.controls.inputNewPassword.errors?null:_.form.controls.inputNewPassword.errors.required),e.xp6(1),e.Q6J("ngIf",null==_.form.controls.inputNewPassword.errors?null:_.form.controls.inputNewPassword.errors.usedPassword),e.xp6(2),e.Q6J("maxLength",255)("showVisibilityControl",!0),e.xp6(1),e.Q6J("showErrors",_.showErrors(_.form.controls.confirmNewPassword)),e.xp6(1),e.Q6J("ngIf",null==_.form.controls.confirmNewPassword.errors?null:_.form.controls.confirmNewPassword.errors.mismatched),e.xp6(1),e.Q6J("ngIf",null==_.form.controls.confirmNewPassword.errors?null:_.form.controls.confirmNewPassword.errors.required),e.xp6(2),e.Q6J("isLoading",_.isSubmitting)}}const Pn=function(t){return{"container container--fixed-width":t}},wn=["notificationSuccess"],Kn=["notificationFailure"],Yn=["notificationFailureLogin"];function xn(t,o){1&t&&(e.TgZ(0,"div",9),e._UZ(1,"bb-header-ui",10),e.qZA())}function Jn(t,o){if(1&t){const _=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"div",12)(3,"strong",13),e.SDv(4,14),e.qZA(),e.TgZ(5,"div",15)(6,"button",16),e.NdJ("click",function(){return e.CHM(_),e.oxw().toggleChangePassword()}),e.SDv(7,17),e.qZA()()()(),e.BQk()}}function Wn(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"div",18)(1,"bb-user-identity-security-center-journey-change-password-form",19),e.NdJ("closeModal",function(){return e.CHM(_),e.oxw().toggleChangePassword()})("passwordChange",function(){return e.CHM(_),e.oxw().emitPasswordChanged()})("errorResponse",function(i){return e.CHM(_),e.oxw().emitError(i)}),e.qZA()()}}function Gn(t,o){1&t&&(e.TgZ(0,"span",20),e.SDv(1,21),e.qZA())}function Zn(t,o){1&t&&(e.TgZ(0,"span",22),e.SDv(1,23),e.qZA())}function kn(t,o){1&t&&(e.TgZ(0,"span",24),e.SDv(1,25),e.qZA())}let D_=(()=>{class t{constructor(_,n){this.formBuilder=_,this.identityManagementService=n,this.closeModal=new e.vpe,this.passwordChange=new e.vpe,this.errorResponse=new e.vpe,this.isSubmitted=!1,this.componentDestroyed=new O_.x,this.isSubmitting=!1,this.isPasswordUnique=()=>!!this.passwordForm&&(this.form.controls.inputNewPassword.value===this.form.controls.currentPassword.value&&this.form.controls.inputNewPassword.value?{usedPassword:!0}:null),this.passwordMatchesValidator=()=>!!this.passwordForm&&(this.form.controls.inputNewPassword.value===this.form.controls.confirmNewPassword.value?null:{mismatched:!0})}ngOnDestroy(){this.componentDestroyed.next(),this.componentDestroyed.complete()}ngOnInit(){this.passwordForm=this.formBuilder.group({currentPassword:["",E.kI.required],inputNewPassword:["",[E.kI.required,this.isPasswordUnique]],confirmNewPassword:["",[E.kI.required,this.passwordMatchesValidator]]}),this.form.controls.currentPassword.valueChanges.pipe((0,h.x)(),(0,R_.R)(this.componentDestroyed)).subscribe(()=>{this.form.controls.inputNewPassword.updateValueAndValidity()}),this.form.controls.inputNewPassword.valueChanges.pipe((0,h.x)(),(0,R_.R)(this.componentDestroyed)).subscribe(()=>{this.form.controls.confirmNewPassword.updateValueAndValidity()})}showErrors(_){return _.invalid&&this.isSubmitted}closePasswordModal(){this.form.reset(),this.closeModal.emit()}onSubmit(){if(this.isSubmitted=!0,!this.form.valid)return;const i={existingPassword:this.form.controls.currentPassword.value,newPassword:this.form.controls.confirmNewPassword.value};this.isSubmitting=!0,this.identityManagementService.changePassword({changePasswordRequest:i}).pipe((0,J.b)(()=>this.passwordChange.emit()),(0,z.K)(r=>(this.handleError(r),(0,w.of)(void 0))),(0,J.b)(()=>{this.isSubmitting=!1,this.closePasswordModal(),this.form.enable({emitEvent:!1})}),(0,Un.n)()).connect()}handleError(_){this.errorResponse.emit(_)}get form(){if(!this.passwordForm)throw new Error("Form is undefined.");return this.passwordForm}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(E.qu),e.Y36(G.oR))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-user-identity-security-center-journey-change-password-form"]],outputs:{closeModal:"closeModal",passwordChange:"passwordChange",errorResponse:"errorResponse"},decls:1,vars:1,consts:function(){let o,_,n,i,r,a,s,f,C,M,D,U,N,W,H,y;return o="Change Password",_=" To change your password, we must verify your current one first. ",n="Current password",i=" Your new password must contain: ",r=" A minimum of 6 characters ",a=" At least one UPPERCASE letter ",s=" At least one lowercase letter ",f="New password",C="Confirm new password",M=" Confirm changes ",D=" Cancel ",U=" You must enter your current password ",N=" You must enter a new password ",W=" New password must be different to current password ",H=" Passwords don't match ",y=" You must re-type your new password ",[[4,"ngIf"],[1,"bb-block","bb-block--lg"],["headingType","h3","heading",o],_,[3,"formGroup","submit"],["data-role","identity-security-center-change-password-form"],[1,"bb-block","bb-block--xl"],["label",n,"formControlName","currentPassword","data-role","identity-security-center-current-password-input",1,"bb-form-field","bb-form-field--md",3,"autofocus","maxLength","showVisibilityControl"],[3,"showErrors"],["data-role","identity-security-center-current-password-error",4,"ngIf"],i,r,a,s,[1,"form-group"],["label",f,"formControlName","inputNewPassword","data-role","identity-security-center-new-password-input",1,"bb-form-field","bb-form-field--md",3,"maxLength","showVisibilityControl"],["data-role","identity-security-center-new-password-error",4,"ngIf"],["data-role","identity-security-center-old-password-error",4,"ngIf"],["label",C,"formControlName","confirmNewPassword","data-role","identity-security-center-confirm-password-input",1,"bb-form-field","bb-form-field--md",3,"maxLength","showVisibilityControl"],["data-role","identity-security-center-confirm-password-mismatch-error",4,"ngIf"],["data-role","identity-security-center-confirm-password-blank-error",4,"ngIf"],[1,"bb-button-bar--reverse"],["color","primary","button-size","md","data-role","password-form-change-password-button","type","submit",1,"bb-button-bar__button",3,"isLoading"],M,["bbButton","","color","secondary","button-size","md","data-role","identity-security-center-cancel-button","type","button",1,"bb-button-bar__button",3,"click","mousedown"],D,["data-role","identity-security-center-current-password-error"],U,["data-role","identity-security-center-new-password-error"],N,["data-role","identity-security-center-old-password-error"],W,["data-role","identity-security-center-confirm-password-mismatch-error"],H,["data-role","identity-security-center-confirm-password-blank-error"],y]},template:function(_,n){1&_&&e.YNc(0,yn,36,17,"div",0),2&_&&e.Q6J("ngIf",n.form)},directives:[R.G,he.P,k.d,T.K,d.O5,E._Y,E.JL,E.sg,E.JJ,E.u,b.Hq],encapsulation:2}),t})();const Hn=[Te.n,b.hJ,A.N,R.O,m.p,S.zk,he.M,k.w,E.UX,T.C];let U_=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.ez,...Hn],Te.n,b.hJ,A.N,R.O,m.p,S.zk,he.M,k.w,E.UX,T.C]}),t})();const N_=new e.OlP("IdentityLoginSecurityJourneyConfiguration injection token"),v_=Object.freeze({notificationDismissTime:3,showHeader:!0,hasFixedWidth:!0});let Ge=(()=>{class t{constructor(_){this.config=Je(v_,_)}get notificationDismissTime(){return 1e3*this.config.notificationDismissTime}get showHeader(){return this.config.showHeader}get hasFixedWidth(){return this.config.hasFixedWidth}}return t.\u0275fac=function(_){return new(_||t)(e.LFG(N_,8))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),Vn=(()=>{class t{constructor(_){this.configService=_}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(Ge))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-login-security-journey"]],decls:2,vars:3,consts:[[3,"ngClass"]],template:function(_,n){1&_&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA()),2&_&&e.Q6J("ngClass",e.VKq(1,Pn,n.configService.hasFixedWidth))},directives:[d.mk,u.lC],encapsulation:2,changeDetection:0}),t})(),h_=(()=>{class t{constructor(_,n){this.configService=_,this.notificationService=n,this.openPassword=!1}toggleChangePassword(){this.openPassword=!this.openPassword}emitPasswordChanged(){this.showNotification(this.notificationSuccessTemplate,"success")}emitError(_){this.showNotification(400===_.status?this.notificationFailureTemplateLogin:this.notificationFailureTemplate,"error")}showNotification(_,n){this.notificationService.showNotification({message:_,modifier:n,ttl:this.configService.notificationDismissTime})}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(Ge),e.Y36(V.gq))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-security-settings-password"]],viewQuery:function(_,n){if(1&_&&(e.Gf(wn,7),e.Gf(Kn,7),e.Gf(Yn,5)),2&_){let i;e.iGM(i=e.CRH())&&(n.notificationSuccessTemplate=i.first),e.iGM(i=e.CRH())&&(n.notificationFailureTemplate=i.first),e.iGM(i=e.CRH())&&(n.notificationFailureTemplateLogin=i.first)}},features:[e._Bn([G.oR])],decls:13,vars:3,consts:function(){let o,_,n,i,r,a,s,f;return o="Security settings",_="Login & Security",n=" Password ",i="Change My Password",r=" Change ",a=" Password changed successfully. ",s=" Could not change password. ",f=" Could not change password. Incorrect login credentials or password policy not met. ",[["class","bb-block bb-block--lg",4,"ngIf"],[1,"card"],[1,"card-header"],["headingType","h2","heading",o],[4,"ngIf","ngIfElse"],["passwordForm",""],["notificationSuccess",""],["notificationFailure",""],["notificationFailureLogin",""],[1,"bb-block","bb-block--lg"],["headingType","h1","data-role","login-security-view-header","heading",_],[1,"card-section"],[1,"bb-stack"],[1,"bb-stack__item","bb-stack__item--fill"],n,[1,"bb-stack__item"],["bbButton","","color","link","buttonSize","md","type","submit","data-role","identity-security-center-password-change-button","aria-label",i,3,"click"],r,[1,"card-section","card-section--highlight"],[3,"closeModal","passwordChange","errorResponse"],["data-role","user-change-password-success-notification"],a,["data-role","user-change-password-failure-notification"],s,["data-role","user-change-password-login-failure-notification"],f]},template:function(_,n){if(1&_&&(e.YNc(0,xn,2,0,"div",0),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"bb-header-ui",3),e.qZA(),e.YNc(4,Jn,8,0,"ng-container",4),e.qZA(),e.YNc(5,Wn,2,0,"ng-template",null,5,e.W1O),e.YNc(7,Gn,2,0,"ng-template",null,6,e.W1O),e.YNc(9,Zn,2,0,"ng-template",null,7,e.W1O),e.YNc(11,kn,2,0,"ng-template",null,8,e.W1O)),2&_){const i=e.MAs(6);e.Q6J("ngIf",n.configService.showHeader),e.xp6(4),e.Q6J("ngIf",!n.openPassword)("ngIfElse",i)}},directives:[R.G,D_,d.O5,b.Hq],encapsulation:2}),t})();const $n=[Te.n,b.hJ,A.N,R.O,m.p,S.zk,he.M,k.w];let L_=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.ez,u.Bz,E.UX,U_,...$n],U_,Te.n,b.hJ,A.N,R.O,m.p,S.zk,he.M,k.w]}),t})();const F_={path:"",component:Vn,children:[{path:"",component:h_},{path:"**",redirectTo:""}]};let qn=(()=>{class t{static forRoot({route:_}={route:F_}){return{ngModule:t,providers:[(0,u.co)([_])]}}}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[Ge],imports:[[d.ez,u.Bz,L_]]}),t})();var Ie=c(8675),pe=c(3099),y_=c(9300),zn=c(5698),oe=c(8746),Me=c(230),Ce=c(4619),Q=c(7504),re=c(6858),be=c(4291),Se=c(520),P_=c(9158);const Qn=new e.OlP("ADDRESS_AUTOCOMPLETE_BASE_PATH");class w_{constructor(o={}){this.apiKeys=o.apiKeys,this.username=o.username,this.password=o.password,this.accessToken=o.accessToken,this.basePath=o.basePath,this.withCredentials=o.withCredentials,this.encoder=o.encoder,this.credentials=o.credentials?o.credentials:{}}selectHeaderContentType(o){if(0===o.length)return;const _=o.find(n=>this.isJsonMime(n));return void 0===_?o[0]:_}selectHeaderAccept(o){if(0===o.length)return;const _=o.find(n=>this.isJsonMime(n));return void 0===_?o[0]:_}isJsonMime(o){const _=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==o&&(_.test(o)||"application/json-patch+json"===o.toLowerCase())}lookupCredential(o){const _=this.credentials[o];return"function"==typeof _?_():_}}new e.OlP("api-data-module AddressAutocompleteConfiguration");class jn{encodeKey(o){return encodeURIComponent(o)}encodeValue(o){return encodeURIComponent(o)}decodeKey(o){return decodeURIComponent(o)}decodeValue(o){return decodeURIComponent(o)}}let Xn=(()=>{class t{constructor(_,n,i){this.httpClient=_,this.basePath="",this.defaultHeaders=new Se.WM,this.configuration=new w_,i&&(this.configuration=i),"string"!=typeof this.configuration.basePath&&("string"!=typeof n&&(n=this.basePath),this.configuration.basePath=n),this.encoder=this.configuration.encoder||new jn}addToHttpParams(_,n,i){return"object"!=typeof n||n instanceof Date?this.addToHttpParamsRecursive(_,n,i):this.addToHttpParamsRecursive(_,n)}addToHttpParamsRecursive(_,n,i){if(null==n)return _;if("object"==typeof n)if(Array.isArray(n))n.forEach(r=>_=this.addToHttpParamsRecursive(_,r,i));else if(n instanceof Date){if(null==i)throw Error("key may not be null if value is Date");_=_.append(i,n.toISOString().substr(0,10))}else Object.keys(n).forEach(r=>_=this.addToHttpParamsRecursive(_,n[r],null!=i?`${i}.${r}`:r));else{if(null==i)throw Error("key may not be null if value is not object or array");_=_.append(i,n)}return _}searchAddress(_,n="body",i=!1,r){const a=_.search;if(null==a)throw new Error("Required parameter search was null or undefined when calling searchAddress.");const s=_.country,f=_.selected;let C=new Se.LE({encoder:this.encoder});null!=a&&(C=this.addToHttpParams(C,a,"search")),null!=s&&(C=this.addToHttpParams(C,s,"country")),null!=f&&(C=this.addToHttpParams(C,f,"selected"));let M=this.defaultHeaders,D=r&&r.httpHeaderAccept;void 0===D&&(D=this.configuration.selectHeaderAccept(["application/json"])),void 0!==D&&(M=M.set("Accept",D));let U="json";return D&&D.startsWith("text")&&(U="text"),this.httpClient.get(`${this.configuration.basePath}/client-api/v1/address`,{params:C,responseType:U,withCredentials:this.configuration.withCredentials,headers:M,observe:n,reportProgress:i})}searchAddressUrl(_){const n=_.search;if(null==n)throw new Error("Required parameter search was null or undefined when calling searchAddress.");const i=_.country,r=_.selected;let a=new Se.LE({encoder:this.encoder});null!=n&&(a=this.addToHttpParams(a,n,"search")),null!=i&&(a=this.addToHttpParams(a,i,"country")),null!=r&&(a=this.addToHttpParams(a,r,"selected"));const s=a.toString();return`${this.configuration.basePath}/client-api/v1/address${s?`?${s}`:""}`}}return t.\u0275fac=function(_){return new(_||t)(e.LFG(Se.eN),e.LFG(Qn,8),e.LFG(w_,8))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();(0,P_.Ov)([{urlPattern:"/client-api/v1/address",method:"GET",responses:[{status:200,body:{suggestions:[{street:"123 E 103rd St",secondary:"",city:"Chicago",administrativeArea:"IL",postalCode:"60628",country:"USA",entries:0}]}},{status:400,body:{message:"Bad Request",errors:[{message:"Value Exceeded. Must be between {min} and {max}.",key:"common.api.shoesize",context:{max:"50",min:"1"}}]}}]}]),(0,P_.Ov)([{urlPattern:"/client-api/v1/address",method:"GET",responses:[{status:200,body:{suggestions:[{street:"123 E 103rd St",secondary:"",city:"Chicago",administrativeArea:"IL",postalCode:"60628",country:"USA",entries:0}]}},{status:400,body:{message:"Bad Request",errors:[{message:"Value Exceeded. Must be between {min} and {max}.",key:"common.api.shoesize",context:{max:"50",min:"1"}}]}}]}]);var Ze=c(5413);const K_=new e.OlP("IdentityUserProfileJourneyConfiguration injection token");var Be=(()=>{return(t=Be||(Be={})).None="",t.FullName="fullName",t.MobileNumber="mobileNumber",t.EmailAddress="emailAddress",Be;var t})();const He=["EDIT","REMOVE"],Oe="../",Y_=Object.freeze({notificationDismissTime:3,emailAddressTypes:["Personal","Work"],postalAddressTypes:["Home","Business","Mailing"],phoneNumberTypes:["Home","Work","Mobile"],maxEmailAddresses:3,maxPhoneNumbers:3,maxPostalAddresses:3,showWidgetHeader:!0,hasFixedWidth:!0,phoneNumberCountryCode:"CA",phoneNumberDebounceTime:1,enablePhoneNumberFormatter:!0,emailOperationsEnabled:[...He],phoneOperationsEnabled:[...He],addressOperationsEnabled:[...He],isAddressSearchAutocompleteActive:!1,searchAddressDebounceTime:.1,onAddEmailSaveSuccessPath:Oe,onAddPhoneSaveSuccessPath:Oe,onAddAddressSaveSuccessPath:Oe,onEditEmailSaveSuccessPath:Oe,onEditPhoneSaveSuccessPath:Oe,onEditAddressSaveSuccessPath:Oe,addEmailPath:"email/add",addPhonePath:"phone/add",addAddressPath:"address/add",editEmailPath:t=>`email/${t.key}/edit`,editPhonePath:t=>`phone/${t.key}/edit`,editAddressPath:t=>`address/${t.key}/edit`,isAdmin:!1,routeParamNameUserId:"userId"}),Ve=t=>1e3*t;let q=(()=>{class t{constructor(_){this.config=Je(Y_,_)}get notificationDismissTime(){return Ve(this.config.notificationDismissTime)}get emailAddressTypes(){return this.config.emailAddressTypes}get postalAddressTypes(){return this.config.postalAddressTypes}get phoneNumberTypes(){return this.config.phoneNumberTypes}get maxEmailAddresses(){return this.config.maxEmailAddresses}get maxPhoneNumbers(){return this.config.maxPhoneNumbers}get maxPostalAddresses(){return this.config.maxPostalAddresses}get showWidgetHeader(){return this.config.showWidgetHeader}get phoneNumberCountryCode(){return this.config.phoneNumberCountryCode}get phoneNumberDebounceTime(){return Ve(this.config.phoneNumberDebounceTime)}get enablePhoneNumberFormatter(){return this.config.enablePhoneNumberFormatter}get emailOperationsEnabled(){return this.config.emailOperationsEnabled}get phoneOperationsEnabled(){return this.config.phoneOperationsEnabled}get addressOperationsEnabled(){return this.config.addressOperationsEnabled}get isAddressSearchAutocompleteActive(){return this.config.isAddressSearchAutocompleteActive}get searchAddressDebounceTime(){return Ve(this.config.searchAddressDebounceTime)}get hasFixedWidth(){return this.config.hasFixedWidth}get onAddEmailSaveSuccessPath(){return this.config.onAddEmailSaveSuccessPath}get onAddPhoneSaveSuccessPath(){return this.config.onAddPhoneSaveSuccessPath}get onAddAddressSaveSuccessPath(){return this.config.onAddAddressSaveSuccessPath}get onEditEmailSaveSuccessPath(){return this.config.onEditEmailSaveSuccessPath}get onEditPhoneSaveSuccessPath(){return this.config.onEditPhoneSaveSuccessPath}get onEditAddressSaveSuccessPath(){return this.config.onEditAddressSaveSuccessPath}get addEmailPath(){return this.config.addEmailPath}get addPhonePath(){return this.config.addPhonePath}get addAddressPath(){return this.config.addAddressPath}get editEmailPath(){return this.config.editEmailPath}get editPhonePath(){return this.config.editPhonePath}get editAddressPath(){return this.config.editAddressPath}get isAdmin(){return this.config.isAdmin}get routeParamNameUserId(){return this.config.routeParamNameUserId}}return t.\u0275fac=function(_){return new(_||t)(e.LFG(K_,8))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();var eo=c(1989);function _o(t,o){if(1&t&&e._UZ(0,"bb-input-radio-ui",15),2&t){const _=o.$implicit;e.Q6J("value",_)("label",_)}}function to(t,o){if(1&t&&(e.TgZ(0,"bb-load-button-ui",16),e.SDv(1,17),e.qZA()),2&t){const _=e.oxw(2);e.Q6J("isLoading",_.saveLoading)}}function no(t,o){if(1&t&&(e.TgZ(0,"bb-load-button-ui",16),e.SDv(1,18),e.qZA()),2&t){const _=e.oxw(2);e.Q6J("isLoading",_.saveLoading)}}function oo(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"form",1),e.NdJ("submit",function(){return e.CHM(_),e.oxw().formSubmit$.next(!0)}),e.TgZ(1,"div",2),e._UZ(2,"bb-input-email-ui",3),e.TgZ(3,"bb-input-validation-message-ui",4),e.ALo(4,"async"),e.TgZ(5,"span"),e.SDv(6,5),e.qZA()(),e.TgZ(7,"bb-input-validation-message-ui",4),e.ALo(8,"async"),e.TgZ(9,"span"),e.SDv(10,6),e.qZA()()(),e.TgZ(11,"div",2),e._UZ(12,"bb-input-checkbox-ui",7),e.qZA(),e.TgZ(13,"div",2)(14,"bb-input-radio-group-ui",8),e.YNc(15,_o,1,2,"bb-input-radio-ui",9),e.qZA(),e.TgZ(16,"bb-input-validation-message-ui",4),e.ALo(17,"async"),e.TgZ(18,"span"),e.SDv(19,10),e.qZA()()(),e.TgZ(20,"div",11),e.YNc(21,to,2,1,"bb-load-button-ui",12),e.YNc(22,no,2,1,"bb-load-button-ui",12),e.TgZ(23,"button",13),e.NdJ("click",function(){return e.CHM(_),e.oxw().cancelClick.emit()}),e.SDv(24,14),e.qZA()()()}if(2&t){const _=e.oxw();e.Q6J("formGroup",_.form),e.xp6(2),e.Q6J("required",!0)("maxLength",255),e.xp6(1),e.Q6J("showErrors",e.lcZ(4,11,_.showEmailAddressRequiredError$)||!1),e.xp6(4),e.Q6J("showErrors",e.lcZ(8,13,_.showEmailAddressInvalidError$)||!1),e.xp6(7),e.Q6J("preselect",!1)("required",!0),e.xp6(1),e.Q6J("ngForOf",_.emailTypeOptions),e.xp6(1),e.Q6J("showErrors",e.lcZ(17,15,_.showEmailAddressTypeError$)||!1),e.xp6(5),e.Q6J("ngIf",!_.emailAddressRecordValue),e.xp6(1),e.Q6J("ngIf",_.emailAddressRecordValue)}}function io(t,o){if(1&t&&e._UZ(0,"bb-input-radio-ui",15),2&t){const _=o.$implicit;e.Q6J("value",_)("label",_)}}function ro(t,o){if(1&t&&(e.TgZ(0,"bb-load-button-ui",16),e.SDv(1,17),e.qZA()),2&t){const _=e.oxw(2);e.Q6J("isLoading",_.saveLoading)}}function ao(t,o){if(1&t&&(e.TgZ(0,"bb-load-button-ui",16),e.SDv(1,18),e.qZA()),2&t){const _=e.oxw(2);e.Q6J("isLoading",_.saveLoading)}}function so(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"form",1),e.NdJ("submit",function(){return e.CHM(_),e.oxw().formSubmit$.next(!0)}),e.TgZ(1,"div",2),e._UZ(2,"bb-input-phone-ui",3),e.TgZ(3,"bb-input-validation-message-ui",4),e.ALo(4,"async"),e.TgZ(5,"span"),e.SDv(6,5),e.qZA()(),e.TgZ(7,"bb-input-validation-message-ui",4),e.ALo(8,"async"),e.TgZ(9,"span"),e.SDv(10,6),e.qZA()()(),e.TgZ(11,"div",2),e._UZ(12,"bb-input-checkbox-ui",7),e.qZA(),e.TgZ(13,"div",2)(14,"bb-input-radio-group-ui",8),e.YNc(15,io,1,2,"bb-input-radio-ui",9),e.qZA(),e.TgZ(16,"bb-input-validation-message-ui",4),e.ALo(17,"async"),e.TgZ(18,"span"),e.SDv(19,10),e.qZA()()(),e.TgZ(20,"div",11),e.YNc(21,ro,2,1,"bb-load-button-ui",12),e.YNc(22,ao,2,1,"bb-load-button-ui",12),e.TgZ(23,"button",13),e.NdJ("click",function(){return e.CHM(_),e.oxw().cancelClick.emit()}),e.SDv(24,14),e.qZA()()()}if(2&t){const _=e.oxw();e.Q6J("formGroup",_.form),e.xp6(2),e.Q6J("required",!0)("maxLength",30),e.xp6(1),e.Q6J("showErrors",e.lcZ(4,11,_.showPhoneNumberRequiredError$)||!1),e.xp6(4),e.Q6J("showErrors",e.lcZ(8,13,_.showPhoneNumberInvalidError$)||!1),e.xp6(7),e.Q6J("preselect",!1)("required",!0),e.xp6(1),e.Q6J("ngForOf",_.phoneNumberTypeOptions),e.xp6(1),e.Q6J("showErrors",e.lcZ(17,15,_.showPhoneNumberTypeError$)||!1),e.xp6(5),e.Q6J("ngIf",!_.phoneNumberRecordValue),e.xp6(1),e.Q6J("ngIf",_.phoneNumberRecordValue)}}function Eo(t,o){if(1&t&&e._UZ(0,"bb-input-radio-ui",21),2&t){const _=o.$implicit;e.Q6J("value",_)("label",_)}}function lo(t,o){if(1&t&&(e.TgZ(0,"bb-load-button-ui",22),e.SDv(1,23),e.qZA()),2&t){const _=e.oxw(2);e.Q6J("isLoading",_.saveLoading)}}function co(t,o){if(1&t&&(e.TgZ(0,"bb-load-button-ui",22),e.SDv(1,24),e.qZA()),2&t){const _=e.oxw(2);e.Q6J("isLoading",_.saveLoading)}}function So(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"form",1),e.NdJ("submit",function(){return e.CHM(_),e.oxw().formSubmit$.next(!0)}),e.TgZ(1,"div",2),e._UZ(2,"bb-input-text-ui",3),e.TgZ(3,"bb-input-validation-message-ui",4),e.ALo(4,"async"),e.TgZ(5,"span"),e.SDv(6,5),e.qZA()()(),e.TgZ(7,"div",2),e._UZ(8,"bb-input-text-ui",6),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"bb-input-text-ui",7),e.TgZ(11,"bb-input-validation-message-ui",4),e.ALo(12,"async"),e.TgZ(13,"span"),e.SDv(14,8),e.qZA()()(),e.TgZ(15,"div",2),e._UZ(16,"bb-input-text-ui",9),e.TgZ(17,"bb-input-validation-message-ui",4),e.ALo(18,"async"),e.TgZ(19,"span"),e.SDv(20,10),e.qZA()()(),e.TgZ(21,"div",2),e._UZ(22,"bb-input-text-ui",11),e.TgZ(23,"bb-input-validation-message-ui",4),e.ALo(24,"async"),e.TgZ(25,"span"),e.SDv(26,12),e.qZA()()(),e.TgZ(27,"div",2),e._UZ(28,"bb-input-checkbox-ui",13),e.qZA(),e.TgZ(29,"div",2)(30,"bb-input-radio-group-ui",14),e.YNc(31,Eo,1,2,"bb-input-radio-ui",15),e.qZA(),e.TgZ(32,"bb-input-validation-message-ui",4),e.ALo(33,"async"),e.TgZ(34,"span"),e.SDv(35,16),e.qZA()()(),e.TgZ(36,"div",17),e.YNc(37,lo,2,1,"bb-load-button-ui",18),e.YNc(38,co,2,1,"bb-load-button-ui",18),e.TgZ(39,"button",19),e.NdJ("click",function(){return e.CHM(_),e.oxw().cancelClick.emit()}),e.SDv(40,20),e.qZA()()()}if(2&t){const _=e.oxw();e.Q6J("formGroup",_.form),e.xp6(2),e.Q6J("required",!0)("maxLength",255),e.xp6(1),e.Q6J("showErrors",e.lcZ(4,20,_.showBuildingNumberRequiredError$)||!1),e.xp6(5),e.Q6J("maxLength",255),e.xp6(2),e.Q6J("required",!0)("maxLength",35),e.xp6(1),e.Q6J("showErrors",e.lcZ(12,22,_.showCityTownRequiredError$)||!1),e.xp6(5),e.Q6J("required",!0)("maxLength",35),e.xp6(1),e.Q6J("showErrors",e.lcZ(18,24,_.showCountrySubDivisionRequiredError$)||!1),e.xp6(5),e.Q6J("required",!0)("maxLength",16),e.xp6(1),e.Q6J("showErrors",e.lcZ(24,26,_.showPostcodeRequiredError$)||!1),e.xp6(7),e.Q6J("preselect",!1)("required",!0),e.xp6(1),e.Q6J("ngForOf",_.addressTypeOptions),e.xp6(1),e.Q6J("showErrors",e.lcZ(33,28,_.showAddressTypeError$)||!1),e.xp6(5),e.Q6J("ngIf",!_.postalAddressRecordValue),e.xp6(1),e.Q6J("ngIf",_.postalAddressRecordValue)}}c(2591);const uo=["noItemsNotice"];function Ao(t,o){1&t&&(e.TgZ(0,"p",17,18),e.SDv(2,19),e.qZA())}function mo(t,o){if(1&t&&e._UZ(0,"bb-input-radio-ui",41),2&t){const _=o.$implicit;e.Q6J("value",_)("label",_)}}function fo(t,o){if(1&t&&(e.TgZ(0,"form",20)(1,"div",21),e._UZ(2,"bb-input-text-ui",22),e.TgZ(3,"bb-input-validation-message-ui",23),e.ALo(4,"async"),e.TgZ(5,"span"),e.SDv(6,24),e.qZA()()(),e.TgZ(7,"div",21),e._UZ(8,"bb-input-text-ui",25),e.qZA(),e.TgZ(9,"div",26)(10,"div",27),e._UZ(11,"bb-input-text-ui",28),e.TgZ(12,"bb-input-validation-message-ui",29),e.ALo(13,"async"),e.TgZ(14,"span"),e.SDv(15,30),e.qZA()()(),e.TgZ(16,"div",27),e._UZ(17,"bb-input-text-ui",31),e.TgZ(18,"bb-input-validation-message-ui",32),e.ALo(19,"async"),e.TgZ(20,"span"),e.SDv(21,33),e.qZA()()(),e.TgZ(22,"div",27),e._UZ(23,"bb-input-text-ui",34),e.TgZ(24,"bb-input-validation-message-ui",35),e.ALo(25,"async"),e.TgZ(26,"span"),e.SDv(27,36),e.qZA()()()(),e.TgZ(28,"div",21),e._UZ(29,"bb-input-checkbox-ui",37),e.qZA(),e.TgZ(30,"div",21)(31,"bb-input-radio-group-ui",38),e.YNc(32,mo,1,2,"bb-input-radio-ui",39),e.qZA(),e.TgZ(33,"bb-input-validation-message-ui",9),e.ALo(34,"async"),e.TgZ(35,"span"),e.SDv(36,40),e.qZA()()()()),2&t){const _=e.oxw();e.Q6J("formGroup",_.form)("hidden",!_.isAddressFormShowing),e.xp6(2),e.Q6J("required",!0)("maxLength",70),e.xp6(1),e.Q6J("showErrors",e.lcZ(4,19,_.showStreetAddressRequiredError$)||!1),e.xp6(5),e.Q6J("maxLength",255),e.xp6(3),e.Q6J("required",!0)("maxLength",35),e.xp6(1),e.Q6J("showErrors",e.lcZ(13,21,_.showCityRequiredError$)||!1),e.xp6(5),e.Q6J("required",!0)("maxLength",35),e.xp6(1),e.Q6J("showErrors",e.lcZ(19,23,_.showAdministrativeAreaRequiredError$)||!1),e.xp6(5),e.Q6J("required",!0)("maxLength",16),e.xp6(1),e.Q6J("showErrors",e.lcZ(25,25,_.showPostalCodeRequiredError$)||!1),e.xp6(7),e.Q6J("preselect",!1)("required",!0),e.xp6(1),e.Q6J("ngForOf",_.addressTypeOptions),e.xp6(1),e.Q6J("showErrors",e.lcZ(34,27,_.showAddressTypeError$)||!1)}}function go(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"bb-load-button-ui",42),e.NdJ("click",function(){return e.CHM(_),e.oxw().saveAddressClick()}),e.SDv(1,43),e.qZA()}if(2&t){const _=e.oxw();e.Q6J("isLoading",_.saveLoading)}}function To(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"bb-load-button-ui",44),e.NdJ("click",function(){return e.CHM(_),e.oxw().saveAddressClick()}),e.SDv(1,45),e.qZA()}if(2&t){const _=e.oxw();e.Q6J("isLoading",_.saveLoading)}}const Re=["notificationSuccessHeader"],ue=["notificationFailure"];function Io(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"bb-identity-address-autocomplete-record-form",11),e.NdJ("saveClick",function(i){return e.CHM(_),e.oxw().addAutocompleteAddress(i)})("cancelClick",function(){return e.CHM(_),e.oxw().cancelAddEditAttribute()})("formHasChanges",function(i){return e.CHM(_),e.oxw().setFormHasChanges(i)}),e.ALo(1,"async"),e.qZA()}if(2&t){const _=e.oxw();e.Q6J("addressTypeOptions",_.configService.postalAddressTypes)("searchAddressDebounceTime",_.configService.searchAddressDebounceTime)("saveLoading",e.lcZ(1,3,_.isSaveLoadingSubject$)||!1)}}function po(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"bb-identity-address-record-form",12),e.NdJ("saveClick",function(i){return e.CHM(_),e.oxw().addAddress(i)})("cancelClick",function(){return e.CHM(_),e.oxw().cancelAddEditAttribute()})("formHasChanges",function(i){return e.CHM(_),e.oxw().setFormHasChanges(i)}),e.ALo(1,"async"),e.qZA()}if(2&t){const _=e.oxw();e.Q6J("addressTypeOptions",_.configService.postalAddressTypes)("saveLoading",e.lcZ(1,2,_.isSaveLoadingSubject$)||!1)}}function Mo(t,o){1&t&&(e.TgZ(0,"span",13),e.SDv(1,14),e.qZA())}function Co(t,o){1&t&&(e.TgZ(0,"span",15),e.SDv(1,16),e.qZA())}function bo(t,o){1&t&&(e.TgZ(0,"span",10),e.SDv(1,11),e.qZA())}function Bo(t,o){1&t&&(e.TgZ(0,"span",12),e.SDv(1,13),e.qZA())}function Oo(t,o){1&t&&(e.TgZ(0,"span",10),e.SDv(1,11),e.qZA())}function Ro(t,o){1&t&&(e.TgZ(0,"span",12),e.SDv(1,13),e.qZA())}function Do(t,o){1&t&&(e.TgZ(0,"span"),e.SDv(1,12),e.qZA())}function Uo(t,o){1&t&&(e.TgZ(0,"span"),e.SDv(1,13),e.qZA())}function No(t,o){1&t&&(e.TgZ(0,"span"),e.SDv(1,14),e.qZA())}function vo(t,o){1&t&&(e.TgZ(0,"span"),e.SDv(1,15),e.qZA())}function ho(t,o){1&t&&(e.TgZ(0,"span"),e.SDv(1,12),e.qZA())}const Lo=["notificationUpdateSuccess"];function Fo(t,o){1&t&&e._UZ(0,"bb-loading-indicator-ui",7)}function yo(t,o){if(1&t&&(e._UZ(0,"bb-common-error-state-ui",8),e.ALo(1,"async")),2&t){const _=e.oxw();e.Q6J("error",e.lcZ(1,1,_.loadingErrorState$$)||"")}}function Po(t,o){if(1&t){const _=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"span",28),e.SDv(6,29),e.qZA(),e._UZ(7,"div",17),e.TgZ(8,"span",30),e._uU(9),e.qZA()()(),e.TgZ(10,"button",31),e.NdJ("click",function(){e.CHM(_);const i=e.oxw(2);return i.setManagementState(i.formStates.FullName)}),e.SDv(11,32),e.qZA()()(),e.BQk()}if(2&t){const _=e.oxw(2);e.xp6(9),e.hij(" ",_.userDetails.fullName," "),e.xp6(1),e.Q6J("disabled",_.currentState!==_.formStates.None)}}function wo(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"div",33)(1,"bb-identity-admin-user-details-full-name-form",34),e.NdJ("saveClick",function(i){return e.CHM(_),e.oxw(2).handleSaveRequest(i)})("closeClick",function(){e.CHM(_);const i=e.oxw(2);return i.setManagementState(i.formStates.None)}),e.ALo(2,"async"),e.qZA()()}if(2&t){const _=e.oxw(2);e.xp6(1),e.Q6J("givenName",_.userDetails.givenName)("familyName",_.userDetails.familyName)("isSubmitting",e.lcZ(2,3,_.isSubmitting$$)||!1)}}function Ko(t,o){1&t&&e._UZ(0,"bb-badge-ui",41)}function Yo(t,o){1&t&&e._UZ(0,"bb-badge-ui",42)}function xo(t,o){if(1&t){const _=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"span",15),e.SDv(6,35),e.qZA(),e.YNc(7,Ko,1,0,"bb-badge-ui",36),e.YNc(8,Yo,1,0,"bb-badge-ui",37),e._UZ(9,"div",17),e.TgZ(10,"span",38),e._uU(11),e.qZA()()(),e.TgZ(12,"button",39),e.NdJ("click",function(){e.CHM(_);const i=e.oxw(2);return i.setManagementState(i.formStates.EmailAddress)}),e.SDv(13,40),e.qZA()()(),e.BQk()}if(2&t){const _=e.oxw(2);e.xp6(7),e.Q6J("ngIf",_.userDetails.emailVerified),e.xp6(1),e.Q6J("ngIf",!_.userDetails.emailVerified),e.xp6(3),e.hij(" ",_.userDetails.emailAddress," "),e.xp6(1),e.Q6J("disabled",_.currentState!==_.formStates.None)}}function Jo(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"div",33)(1,"bb-identity-admin-user-details-email-form",43),e.NdJ("saveClick",function(i){return e.CHM(_),e.oxw(2).handleSaveRequest(i)})("closeClick",function(){e.CHM(_);const i=e.oxw(2);return i.setManagementState(i.formStates.None)}),e.ALo(2,"async"),e.qZA()()}if(2&t){const _=e.oxw(2);e.xp6(1),e.Q6J("emailValue",_.userDetails.emailAddress)("isSubmitting",e.lcZ(2,2,_.isSubmitting$$)||!1)}}function Wo(t,o){1&t&&e.GkF(0)}function Go(t,o){1&t&&e.GkF(0)}function Zo(t,o){if(1&t&&e.YNc(0,Go,1,0,"ng-container",53),2&t){e.oxw();const _=e.MAs(5),n=e.oxw(3);e.Q6J("ngIf",n.configService.enablePhoneNumberFormatter)("ngIfThen",_)}}function ko(t,o){if(1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"phoneNumber"),e.BQk()),2&t){const _=o.$implicit,n=e.oxw(5);e.xp6(1),e.hij(" ",e.xi3(2,1,n.userDetails.mobileNumber,_)," ")}}function Ho(t,o){if(1&t&&e.YNc(0,ko,3,4,"ng-container",9),2&t){e.oxw();const _=e.MAs(7),n=e.oxw(3);e.Q6J("ngIf",n.configService.phoneNumberCountryCode)("ngIfElse",_)}}function Vo(t,o){if(1&t&&e._uU(0),2&t){const _=e.oxw(4);e.hij(" ",_.userDetails.mobileNumber," ")}}function $o(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Wo,1,0,"ng-container",49),e.YNc(2,Zo,1,2,"ng-template",null,50,e.W1O),e.YNc(4,Ho,1,2,"ng-template",null,51,e.W1O),e.YNc(6,Vo,1,1,"ng-template",null,52,e.W1O),e.BQk()),2&t){const _=e.MAs(3),n=e.MAs(7),i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!1!==i.configService.enablePhoneNumberFormatter)("ngIfThen",_)("ngIfElse",n)}}function qo(t,o){1&t&&(e.TgZ(0,"span",54),e.SDv(1,55),e.qZA())}function zo(t,o){if(1&t){const _=e.EpF();e.ynx(0),e.TgZ(1,"div",44)(2,"div",12)(3,"div",13)(4,"div",14)(5,"span",15),e.SDv(6,45),e.qZA(),e._UZ(7,"div",17),e.TgZ(8,"div",18),e.YNc(9,$o,8,3,"ng-container",9),e.YNc(10,qo,2,0,"ng-template",null,46,e.W1O),e.qZA()()(),e.TgZ(12,"button",47),e.NdJ("click",function(){e.CHM(_);const i=e.oxw(2);return i.setManagementState(i.formStates.MobileNumber)}),e.SDv(13,48),e.qZA()()(),e.BQk()}if(2&t){const _=e.MAs(11),n=e.oxw(2);e.xp6(9),e.Q6J("ngIf",n.userDetails.mobileNumber)("ngIfElse",_),e.xp6(3),e.Q6J("disabled",n.currentState!==n.formStates.None)}}function Qo(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"div",33)(1,"bb-identity-admin-user-details-mobile-form",56),e.NdJ("saveClick",function(i){return e.CHM(_),e.oxw(2).handleSaveRequest(i)})("closeClick",function(){e.CHM(_);const i=e.oxw(2);return i.setManagementState(i.formStates.None)}),e.ALo(2,"async"),e.qZA()()}if(2&t){const _=e.oxw(2);e.xp6(1),e.Q6J("mobileValue",_.userDetails.mobileNumber||"")("phoneNumberCountryCode",_.configService.phoneNumberCountryCode)("phoneNumberDebounceTime",_.configService.phoneNumberDebounceTime)("enablePhoneNumberFormatter",_.configService.enablePhoneNumberFormatter)("isSubmitting",e.lcZ(2,5,_.isSubmitting$$)||!1)}}function jo(t,o){if(1&t&&(e.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"span",15),e.SDv(5,57),e.qZA(),e._UZ(6,"div",17),e.TgZ(7,"span",58),e._uU(8),e.qZA()()(),e.TgZ(9,"button",59),e.SDv(10,60),e.qZA()()()),2&t){const _=e.oxw(2);e.xp6(8),e.hij(" ",_.legalEntityDetails.name," ")}}function Xo(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Po,12,2,"ng-container",9),e.YNc(2,wo,3,5,"ng-template",null,10,e.W1O),e.TgZ(4,"div",11)(5,"div",12)(6,"div",13)(7,"div",14)(8,"span",15),e.SDv(9,16),e.qZA(),e._UZ(10,"div",17),e.TgZ(11,"span",18),e._uU(12),e.qZA()()(),e.TgZ(13,"button",19),e.SDv(14,20),e.qZA()()(),e.YNc(15,xo,14,4,"ng-container",9),e.YNc(16,Jo,3,4,"ng-template",null,21,e.W1O),e.YNc(18,zo,14,3,"ng-container",9),e.YNc(19,Qo,3,7,"ng-template",null,22,e.W1O),e.YNc(21,jo,11,1,"div",23),e.TgZ(22,"div",11)(23,"div",12)(24,"div",13)(25,"div",14)(26,"span",15),e.SDv(27,24),e.qZA(),e._UZ(28,"div",17),e.TgZ(29,"span",25),e._uU(30),e.ALo(31,"date"),e.qZA()()(),e.TgZ(32,"button",26),e.SDv(33,27),e.qZA()()(),e.BQk()),2&t){const _=e.MAs(3),n=e.MAs(17),i=e.MAs(20),r=e.oxw();e.xp6(1),e.Q6J("ngIf",!r.hasState(r.formStates.FullName))("ngIfElse",_),e.xp6(11),e.hij(" ",r.userDetails.externalId," "),e.xp6(3),e.Q6J("ngIf",!r.hasState(r.formStates.EmailAddress))("ngIfElse",n),e.xp6(3),e.Q6J("ngIf",!r.hasState(r.formStates.MobileNumber))("ngIfElse",i),e.xp6(3),e.Q6J("ngIf",r.legalEntityDetails),e.xp6(9),e.hij(" ",e.xi3(31,9,r.userDetails.createdDate,"d MMM yyyy, HH:mm")," ")}}function ei(t,o){1&t&&(e.TgZ(0,"span",61),e.SDv(1,62),e.qZA())}function _i(t,o){1&t&&(e.ynx(0),e.SDv(1,66),e.BQk())}function ti(t,o){1&t&&(e.ynx(0),e.SDv(1,67),e.BQk())}function ni(t,o){1&t&&(e.TgZ(0,"span",63),e.YNc(1,_i,2,0,"ng-container",64),e.YNc(2,ti,2,0,"ng-container",65),e.qZA()),2&t&&(e.Q6J("ngSwitch",o.errorCode),e.xp6(1),e.Q6J("ngSwitchCase","user.identity.message.IDENTITY_EMAIL_ALREADY_EXISTS"))}function oi(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"bb-identity-address-autocomplete-record-form",13),e.NdJ("saveClick",function(i){e.CHM(_);const r=e.oxw().ngIf,a=e.oxw();return a.editAutocompleteAddress.bind(a,r.postalAddress.key)(i)})("cancelClick",function(){return e.CHM(_),e.oxw(2).cancelAddEditAttribute()})("formHasChanges",function(i){return e.CHM(_),e.oxw(2).setFormHasChanges(i)}),e.ALo(1,"async"),e.qZA()}if(2&t){const _=e.oxw().ngIf,n=e.oxw();e.Q6J("postalAddressRecord",_.postalAddress)("addressTypeOptions",n.configService.postalAddressTypes)("searchAddressDebounceTime",n.configService.searchAddressDebounceTime)("saveLoading",e.lcZ(1,4,n.isSaveLoadingSubject$)||!1)}}function ii(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"bb-identity-address-record-form",14),e.NdJ("saveClick",function(i){e.CHM(_);const r=e.oxw().ngIf,a=e.oxw();return a.editPostalAddress.bind(a,r.postalAddress.key)(i)})("cancelClick",function(){return e.CHM(_),e.oxw(2).cancelAddEditAttribute()})("formHasChanges",function(i){return e.CHM(_),e.oxw(2).setFormHasChanges(i)}),e.ALo(1,"async"),e.qZA()}if(2&t){const _=e.oxw().ngIf,n=e.oxw();e.Q6J("postalAddressRecord",_.postalAddress)("addressTypeOptions",n.configService.postalAddressTypes)("saveLoading",e.lcZ(1,3,n.isSaveLoadingSubject$)||!1)}}function ri(t,o){1&t&&(e.TgZ(0,"span",15),e.SDv(1,16),e.qZA())}function ai(t,o){1&t&&(e.TgZ(0,"span",17),e.SDv(1,18),e.qZA())}function si(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"div",1)(1,"bb-identity-back-button",2),e.NdJ("backClick",function(){return e.CHM(_),e.oxw().cancelAddEditAttribute()}),e.qZA(),e.TgZ(2,"div",3),e._UZ(3,"bb-header-ui",4),e.qZA(),e.TgZ(4,"div",5)(5,"div",6)(6,"bb-identity-view-state-container-component",7),e.YNc(7,oi,2,6,"bb-identity-address-autocomplete-record-form",8),e.YNc(8,ii,2,5,"bb-identity-address-record-form",9),e.qZA()()(),e.TgZ(9,"bb-identity-discard-modal-component",10),e.NdJ("cancelModalClick",function(){return e.CHM(_),e.oxw().cancelModal()})("discardChangesClick",function(){return e.CHM(_),e.oxw().discardChanges()}),e.qZA(),e.YNc(10,ri,2,0,"ng-template",null,11,e.W1O),e.YNc(12,ai,2,0,"ng-template",null,12,e.W1O),e.qZA()}if(2&t){const _=o.ngIf,n=e.oxw();e.xp6(6),e.Q6J("error",_.error)("loading",_.loading),e.xp6(1),e.Q6J("ngIf",n.configService.isAddressSearchAutocompleteActive&&_.postalAddress),e.xp6(1),e.Q6J("ngIf",!n.configService.isAddressSearchAutocompleteActive&&_.postalAddress),e.xp6(1),e.Q6J("modalOpen",n.modalOpen)}}function Ei(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"bb-identity-email-record-form",12),e.NdJ("saveClick",function(i){e.CHM(_);const r=e.oxw().ngIf,a=e.oxw();return a.editEmailAddress.bind(a,r.emailAddress.key)(i)})("cancelClick",function(){return e.CHM(_),e.oxw(2).cancelAddEditAttribute()})("formHasChanges",function(i){return e.CHM(_),e.oxw(2).setFormHasChanges(i)}),e.ALo(1,"async"),e.qZA()}if(2&t){const _=e.oxw().ngIf,n=e.oxw();e.Q6J("emailAddressRecord",_.emailAddress)("emailTypeOptions",n.configService.emailAddressTypes)("saveLoading",e.lcZ(1,3,n.isSaveLoadingSubject$)||!1)}}function di(t,o){1&t&&(e.TgZ(0,"span",13),e.SDv(1,14),e.qZA())}function li(t,o){1&t&&(e.TgZ(0,"span",15),e.SDv(1,16),e.qZA())}function ci(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"div",1)(1,"bb-identity-back-button",2),e.NdJ("backClick",function(){return e.CHM(_),e.oxw().cancelAddEditAttribute()}),e.qZA(),e.TgZ(2,"div",3),e._UZ(3,"bb-header-ui",4),e.qZA(),e.TgZ(4,"div",5)(5,"div",6)(6,"bb-identity-view-state-container-component",7),e.YNc(7,Ei,2,5,"bb-identity-email-record-form",8),e.qZA()()(),e.TgZ(8,"bb-identity-discard-modal-component",9),e.NdJ("cancelModalClick",function(){return e.CHM(_),e.oxw().cancelModal()})("discardChangesClick",function(){return e.CHM(_),e.oxw().discardChanges()}),e.qZA(),e.YNc(9,di,2,0,"ng-template",null,10,e.W1O),e.YNc(11,li,2,0,"ng-template",null,11,e.W1O),e.qZA()}if(2&t){const _=o.ngIf,n=e.oxw();e.xp6(6),e.Q6J("error",_.error)("loading",_.loading),e.xp6(1),e.Q6J("ngIf",_.emailAddress),e.xp6(1),e.Q6J("modalOpen",n.modalOpen)}}function Si(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"bb-identity-phone-record-form",12),e.NdJ("saveClick",function(i){e.CHM(_);const r=e.oxw().ngIf,a=e.oxw();return a.editPhoneNumber.bind(a,r.phoneNumber.key)(i)})("cancelClick",function(){return e.CHM(_),e.oxw(2).cancelAddEditAttribute()})("formHasChanges",function(i){return e.CHM(_),e.oxw(2).setFormHasChanges(i)}),e.ALo(1,"async"),e.qZA()}if(2&t){const _=e.oxw().ngIf,n=e.oxw();e.Q6J("phoneNumberRecord",_.phoneNumber)("phoneNumberTypeOptions",n.configService.phoneNumberTypes)("saveLoading",e.lcZ(1,6,n.isSaveLoadingSubject$)||!1)("enablePhoneNumberFormatter",n.configService.enablePhoneNumberFormatter)("phoneNumberCountryCode",n.configService.phoneNumberCountryCode)("phoneNumberDebounceTime",n.configService.phoneNumberDebounceTime)}}function ui(t,o){1&t&&(e.TgZ(0,"span",13),e.SDv(1,14),e.qZA())}function Ai(t,o){1&t&&(e.TgZ(0,"span",15),e.SDv(1,16),e.qZA())}function mi(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"div",1)(1,"bb-identity-back-button",2),e.NdJ("backClick",function(){return e.CHM(_),e.oxw().cancelAddEditAttribute()}),e.qZA(),e.TgZ(2,"div",3),e._UZ(3,"bb-header-ui",4),e.qZA(),e.TgZ(4,"div",5)(5,"div",6)(6,"bb-identity-view-state-container-component",7),e.YNc(7,Si,2,8,"bb-identity-phone-record-form",8),e.qZA()()(),e.TgZ(8,"bb-identity-discard-modal-component",9),e.NdJ("cancelModalClick",function(){return e.CHM(_),e.oxw().cancelModal()})("discardChangesClick",function(){return e.CHM(_),e.oxw().discardChanges()}),e.qZA(),e.YNc(9,ui,2,0,"ng-template",null,10,e.W1O),e.YNc(11,Ai,2,0,"ng-template",null,11,e.W1O),e.qZA()}if(2&t){const _=o.ngIf,n=e.oxw();e.xp6(6),e.Q6J("error",_.error)("loading",_.loading),e.xp6(1),e.Q6J("ngIf",_.phoneNumber),e.xp6(1),e.Q6J("modalOpen",n.modalOpen)}}const fi=["mainContent"],gi=function(t){return{"container container--fixed-width":t}},Ti=[[["","left",""]],[["","right",""]]],Ii=["[left]","[right]"];function pi(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){e.CHM(_);const i=e.oxw().$implicit,r=e.oxw(2);return i.action(r.itemRef)}),e._uU(1),e.qZA()}if(2&t){const _=e.oxw().$implicit;e.uIk("data-role",_.dataRole),e.xp6(1),e.hij(" ",_.label," ")}}function Mi(t,o){if(1&t&&(e.ynx(0),e.YNc(1,pi,2,2,"button",3),e.BQk()),2&t){const _=o.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!(1===n.totalItems&&"REMOVE"===_.type))}}function Ci(t,o){if(1&t&&e.YNc(0,Mi,2,1,"ng-container",2),2&t){const _=e.oxw();e.Q6J("ngForOf",_.options)}}const bi=["removeEmailNotificationSuccessHeader"],Bi=["removeEmailNotificationFailure"],Oi=["removePhoneNotificationSuccessHeader"],Ri=["removePhoneNotificationFailure"],Di=["removePostalAddressNotificationSuccessHeader"],Ui=["removePostalAddressNotificationFailure"];function Ni(t,o){if(1&t&&(e.TgZ(0,"div",19),e._UZ(1,"bb-header-ui",25),e.TgZ(2,"p",26),e.SDv(3,27),e.qZA()()),2&t){const _=e.oxw().ngIf;e.xp6(1),e.Q6J("heading",null==_||null==_.userProfile?null:_.userProfile.fullName)}}function vi(t,o){1&t&&e._UZ(0,"bb-identity-admin-user-details-view")}function hi(t,o){1&t&&(e.TgZ(0,"span",37),e.SDv(1,38),e.qZA())}function Li(t,o){if(1&t&&(e.ynx(0,39),e._UZ(1,"bb-identity-profile-operations",40),e.BQk()),2&t){const _=e.oxw().$implicit,n=e.oxw(2).ngIf,i=e.oxw();e.xp6(1),e.Q6J("options",i.emailOptions)("itemRef",_)("totalItems",(null==n||null==n.userProfile||null==n.userProfile["electronic-addresses"]?null:n.userProfile["electronic-addresses"].length)||0)}}function Fi(t,o){if(1&t&&(e.TgZ(0,"li",31)(1,"bb-identity-profile-item-layout"),e.ynx(2,32),e.TgZ(3,"p",33),e._uU(4),e.YNc(5,hi,2,0,"span",34),e.qZA(),e.TgZ(6,"div",35),e._uU(7),e.qZA(),e.BQk(),e.YNc(8,Li,2,3,"ng-container",36),e.qZA()()),2&t){const _=o.$implicit,n=e.oxw(3);e.xp6(4),e.hij(" ",_.type," "),e.xp6(1),e.Q6J("ngIf",_.primary),e.xp6(2),e.hij(" ",_.address," "),e.xp6(1),e.Q6J("ngIf",n.emailOptions.length)}}function yi(t,o){1&t&&e._UZ(0,"li",41)}function Pi(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"ul",28),e.YNc(2,Fi,9,4,"li",29),e.YNc(3,yi,1,0,"li",30),e.qZA(),e.BQk()),2&t){const _=e.oxw().ngIf;e.xp6(2),e.Q6J("ngForOf",null==_||null==_.userProfile?null:_.userProfile["electronic-addresses"]),e.xp6(1),e.Q6J("ngIf",_.showEmailAddButton)}}function wi(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"div",42)(1,"button",43),e.NdJ("click",function(){return e.CHM(_),e.oxw(2).navigateEmailPath()}),e._UZ(2,"bb-icon-ui",44),e.TgZ(3,"span"),e.SDv(4,45),e.qZA()()()}}function Ki(t,o){1&t&&(e.TgZ(0,"span",51),e.SDv(1,52),e.qZA())}function Yi(t,o){if(1&t&&(e.ynx(0,39),e._UZ(1,"bb-identity-profile-operations",53),e.BQk()),2&t){const _=e.oxw().$implicit,n=e.oxw(2).ngIf,i=e.oxw();e.xp6(1),e.Q6J("options",i.phoneOptions)("itemRef",_)("totalItems",(null==n||null==n.userProfile||null==n.userProfile["phone-addresses"]?null:n.userProfile["phone-addresses"].length)||0)}}function xi(t,o){if(1&t&&(e.TgZ(0,"li",47)(1,"bb-identity-profile-item-layout"),e.ynx(2,32),e.TgZ(3,"p",48),e._uU(4),e.YNc(5,Ki,2,0,"span",49),e.qZA(),e.TgZ(6,"div",50),e._uU(7),e.ALo(8,"phoneNumber"),e.qZA(),e.BQk(),e.YNc(9,Yi,2,3,"ng-container",36),e.qZA()()),2&t){const _=o.$implicit,n=e.oxw(3);e.xp6(4),e.hij(" ",_.type," "),e.xp6(1),e.Q6J("ngIf",_.primary),e.xp6(2),e.hij(" ",e.xi3(8,4,_.number,n.configService.phoneNumberCountryCode)," "),e.xp6(2),e.Q6J("ngIf",n.phoneOptions.length)}}function Ji(t,o){1&t&&e._UZ(0,"li",41)}function Wi(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"ul",28),e.YNc(2,xi,10,7,"li",46),e.YNc(3,Ji,1,0,"li",30),e.qZA(),e.BQk()),2&t){const _=e.oxw().ngIf;e.xp6(2),e.Q6J("ngForOf",null==_||null==_.userProfile?null:_.userProfile["phone-addresses"]),e.xp6(1),e.Q6J("ngIf",_.showPhoneAddButton)}}function Gi(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"div",42)(1,"button",54),e.NdJ("click",function(){return e.CHM(_),e.oxw(2).navigateAddPhonePath()}),e._UZ(2,"bb-icon-ui",44),e.TgZ(3,"span"),e.SDv(4,55),e.qZA()()()}}function Zi(t,o){1&t&&(e.TgZ(0,"span",62),e.SDv(1,63),e.qZA())}function ki(t,o){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const _=e.oxw().$implicit;e.xp6(1),e.Oqu(_.department)}}function Hi(t,o){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const _=e.oxw().$implicit;e.xp6(1),e.Oqu(_.subDepartment)}}function Vi(t,o){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const _=e.oxw().$implicit;e.xp6(1),e.Oqu(_.addressLine)}}function $i(t,o){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const _=e.oxw().$implicit;e.xp6(1),e.Oqu(_.buildingNumber)}}function qi(t,o){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const _=e.oxw().$implicit;e.xp6(1),e.Oqu(_.streetName)}}function zi(t,o){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const _=e.oxw().$implicit;e.xp6(1),e.Oqu(_.townName)}}function Qi(t,o){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const _=e.oxw().$implicit;e.xp6(1),e.Oqu(_.countrySubDivision)}}function ji(t,o){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const _=e.oxw().$implicit;e.xp6(1),e.Oqu(_.postalCode)}}function Xi(t,o){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const _=e.oxw().$implicit;e.xp6(1),e.Oqu(_.country)}}function er(t,o){if(1&t&&(e.ynx(0,39),e._UZ(1,"bb-identity-profile-operations",64),e.BQk()),2&t){const _=e.oxw().$implicit,n=e.oxw(2).ngIf,i=e.oxw();e.xp6(1),e.Q6J("options",i.addressOptions)("itemRef",_)("totalItems",(null==n||null==n.userProfile||null==n.userProfile["postal-addresses"]?null:n.userProfile["postal-addresses"].length)||0)}}function _r(t,o){if(1&t&&(e.TgZ(0,"li",57)(1,"bb-identity-profile-item-layout",58),e.ynx(2,32),e.TgZ(3,"p",59),e._uU(4),e.YNc(5,Zi,2,0,"span",60),e.qZA(),e.TgZ(6,"div",61),e.YNc(7,ki,2,1,"div",2),e.YNc(8,Hi,2,1,"div",2),e.YNc(9,Vi,2,1,"div",2),e.YNc(10,$i,2,1,"div",2),e.YNc(11,qi,2,1,"div",2),e.YNc(12,zi,2,1,"div",2),e.YNc(13,Qi,2,1,"div",2),e.YNc(14,ji,2,1,"div",2),e.YNc(15,Xi,2,1,"div",2),e.qZA(),e.BQk(),e.YNc(16,er,2,3,"ng-container",36),e.qZA()()),2&t){const _=o.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("alignTop",!0),e.xp6(3),e.hij(" ",_.type," "),e.xp6(1),e.Q6J("ngIf",_.primary),e.xp6(2),e.Q6J("ngIf",_.department),e.xp6(1),e.Q6J("ngIf",_.subDepartment),e.xp6(1),e.Q6J("ngIf",_.addressLine),e.xp6(1),e.Q6J("ngIf",_.buildingNumber),e.xp6(1),e.Q6J("ngIf",_.streetName),e.xp6(1),e.Q6J("ngIf",_.townName),e.xp6(1),e.Q6J("ngIf",_.countrySubDivision),e.xp6(1),e.Q6J("ngIf",_.postalCode),e.xp6(1),e.Q6J("ngIf",_.country),e.xp6(1),e.Q6J("ngIf",n.phoneOptions.length)}}function tr(t,o){1&t&&e._UZ(0,"li",41)}function nr(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"ul",28),e.YNc(2,_r,17,13,"li",56),e.YNc(3,tr,1,0,"li",30),e.qZA(),e.BQk()),2&t){const _=e.oxw().ngIf;e.xp6(2),e.Q6J("ngForOf",null==_||null==_.userProfile?null:_.userProfile["postal-addresses"]),e.xp6(1),e.Q6J("ngIf",_.showAddressAddButton)}}function or(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"div",42)(1,"button",65),e.NdJ("click",function(){return e.CHM(_),e.oxw(2).navigateAddAddressPath()}),e._UZ(2,"bb-icon-ui",44),e.TgZ(3,"span"),e.SDv(4,66),e.qZA()()()}}function ir(t,o){if(1&t&&(e.TgZ(0,"div",14)(1,"bb-identity-view-state-container-component",15),e.YNc(2,Ni,4,1,"div",16),e.YNc(3,vi,1,0,"bb-identity-admin-user-details-view",2),e.TgZ(4,"div",17)(5,"div",18)(6,"div",19),e._UZ(7,"bb-header-ui",20),e.qZA(),e.YNc(8,Pi,4,2,"ng-container",21),e.YNc(9,wi,5,0,"div",22),e.qZA()(),e.TgZ(10,"div",17)(11,"div",18)(12,"div",19),e._UZ(13,"bb-header-ui",23),e.qZA(),e.YNc(14,Wi,4,2,"ng-container",21),e.YNc(15,Gi,5,0,"div",22),e.qZA()(),e.TgZ(16,"div",17)(17,"div",18)(18,"div",19),e._UZ(19,"bb-header-ui",24),e.qZA(),e.YNc(20,nr,4,2,"ng-container",21),e.YNc(21,or,5,0,"div",22),e.qZA()()()()),2&t){const _=o.ngIf,n=e.oxw(),i=e.MAs(12),r=e.MAs(14),a=e.MAs(16);e.xp6(1),e.Q6J("error",_.error)("loading",_.loading),e.xp6(1),e.Q6J("ngIf",n.configService.showWidgetHeader),e.xp6(1),e.Q6J("ngIf",n.configService.isAdmin),e.xp6(5),e.Q6J("ngIf",null==_||null==_.userProfile||null==_.userProfile["electronic-addresses"]?null:_.userProfile["electronic-addresses"].length)("ngIfElse",i),e.xp6(1),e.Q6J("ngIf",_.showEmailAddButton),e.xp6(5),e.Q6J("ngIf",null==_||null==_.userProfile||null==_.userProfile["phone-addresses"]?null:_.userProfile["phone-addresses"].length)("ngIfElse",r),e.xp6(1),e.Q6J("ngIf",_.showPhoneAddButton),e.xp6(5),e.Q6J("ngIf",null==_||null==_.userProfile||null==_.userProfile["postal-addresses"]?null:_.userProfile["postal-addresses"].length)("ngIfElse",a),e.xp6(1),e.Q6J("ngIf",_.showAddressAddButton)}}function rr(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"bb-identity-confirm-action-modal-component",67),e.DtL(1,68),e.NdJ("cancelModalClick",function(){return e.CHM(_),e.oxw().cancelDeleteModal()})("confirmActionClick",function(){const r=e.CHM(_).emailAddressContext;return e.oxw().removeEmailAddressConfirm(r)}),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA()}if(2&t){const _=o.emailAddressContext,n=e.oxw();e.pQV(_.address),e.QtT(1),e.Q6J("confirmLoading",!!e.lcZ(2,4,n.isRemoveEmailLoadingSubject$))("confirmDisabled",!!e.lcZ(3,6,n.isRemoveEmailLoadingSubject$))("modalOpen",!!n.removeEmailAddressContext)}}function ar(t,o){1&t&&e.GkF(0)}const sr=function(t){return{emailAddressContext:t}};function Er(t,o){if(1&t&&(e.ynx(0),e.YNc(1,ar,1,0,"ng-container",69),e.BQk()),2&t){const _=e.oxw(),n=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(2,sr,_.removeEmailAddressContext))}}function dr(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"bb-identity-confirm-action-modal-component",70),e.DtL(1,71),e.NdJ("cancelModalClick",function(){return e.CHM(_),e.oxw().cancelDeleteModal()})("confirmActionClick",function(){const r=e.CHM(_).phoneNumberContext;return e.oxw().removePhoneNumberConfirm(r)}),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA()}if(2&t){const _=o.phoneNumberContext,n=e.oxw();e.pQV(_.number),e.QtT(1),e.Q6J("confirmLoading",!!e.lcZ(2,4,n.isRemovePhoneLoadingSubject$))("confirmDisabled",!!e.lcZ(3,6,n.isRemovePhoneLoadingSubject$))("modalOpen",!!n.removePhoneNumberContext)}}function lr(t,o){1&t&&e.GkF(0)}const cr=function(t){return{phoneNumberContext:t}};function Sr(t,o){if(1&t&&(e.ynx(0),e.YNc(1,lr,1,0,"ng-container",69),e.BQk()),2&t){const _=e.oxw(),n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(2,cr,_.removePhoneNumberContext))}}function ur(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"bb-identity-confirm-action-modal-component",72),e.NdJ("cancelModalClick",function(){return e.CHM(_),e.oxw().cancelDeleteModal()})("confirmActionClick",function(){const r=e.CHM(_).postalAddressContext;return e.oxw().removePostalAddressConfirm(r)}),e.ALo(1,"async"),e.ALo(2,"async"),e.qZA()}if(2&t){const _=e.oxw();e.Q6J("confirmLoading",!!e.lcZ(1,3,_.isRemoveAddressLoadingSubject$))("confirmDisabled",!!e.lcZ(2,5,_.isRemoveAddressLoadingSubject$))("modalOpen",!!_.removePostalAddressContext)}}function Ar(t,o){1&t&&e.GkF(0)}const mr=function(t){return{postalAddressContext:t}};function fr(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Ar,1,0,"ng-container",69),e.BQk()),2&t){const _=e.oxw(),n=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(2,mr,_.removePostalAddressContext))}}function gr(t,o){1&t&&(e.TgZ(0,"div",73),e._UZ(1,"bb-empty-state-ui",74),e.qZA()),2&t&&(e.xp6(1),e.Q6J("showIcon",!1))}function Tr(t,o){1&t&&(e.TgZ(0,"div",73),e._UZ(1,"bb-empty-state-ui",75),e.qZA()),2&t&&(e.xp6(1),e.Q6J("showIcon",!1))}function Ir(t,o){1&t&&(e.TgZ(0,"div",73),e._UZ(1,"bb-empty-state-ui",76),e.qZA()),2&t&&(e.xp6(1),e.Q6J("showIcon",!1))}function pr(t,o){1&t&&(e.TgZ(0,"span",77),e.SDv(1,78),e.qZA())}function Mr(t,o){1&t&&(e.TgZ(0,"span",79),e.SDv(1,80),e.qZA())}function Cr(t,o){1&t&&(e.TgZ(0,"span",81),e.SDv(1,82),e.qZA())}function br(t,o){1&t&&(e.TgZ(0,"span",83),e.SDv(1,84),e.qZA())}function Br(t,o){1&t&&(e.TgZ(0,"span",85),e.SDv(1,86),e.qZA())}function Or(t,o){1&t&&(e.TgZ(0,"span",87),e.SDv(1,88),e.qZA())}let Ke=(()=>{class t{constructor(){this.saveLoading=!1,this.cancelClick=new e.vpe,this.saveClick=new e.vpe,this.formHasChanges=new e.vpe,this.formSubmit$=new O_.x}ngOnInit(){this.formSubmit$.asObservable().subscribe({next:_=>{var n,i;null===(n=this.form)||void 0===n||n.markAllAsTouched(),_&&(null===(i=this.form)||void 0===i?void 0:i.valid)&&this.saveClick.emit(this.form.value)}})}ngAfterViewInit(){if(!this.form)throw Error("You must initialise the 'form' in ngOnInit");this.formSubscription=this.form.valueChanges.subscribe({next:()=>this.formHasChanges.emit(this.form.dirty)})}ngOnDestroy(){var _,n;null===(_=this.formSubmitSubscription)||void 0===_||_.unsubscribe(),null===(n=this.formSubscription)||void 0===n||n.unsubscribe()}setupRequiredFieldValidationMessage(_){return(0,p.a)([this.formSubmit$,_.valueChanges.pipe((0,Ie.O)(_.value))]).pipe((0,v.U)(([n,i])=>!i&&n),(0,pe.B)())}}return t.\u0275fac=function(_){return new(_||t)},t.\u0275dir=e.lG2({type:t,inputs:{saveLoading:"saveLoading"},outputs:{cancelClick:"cancelClick",saveClick:"saveClick",formHasChanges:"formHasChanges"}}),t})(),$e=(()=>{class t extends Ke{constructor(_){super(),this.formBuilder=_}set emailAddressRecord(_){var n,i,r,a;this.emailAddressRecordValue=_,null===(n=this.form)||void 0===n||n.setValue({address:null===(i=this.emailAddressRecordValue)||void 0===i?void 0:i.address,type:null===(r=this.emailAddressRecordValue)||void 0===r?void 0:r.type,primary:null===(a=this.emailAddressRecordValue)||void 0===a?void 0:a.primary})}ngOnInit(){var _,n,i;super.ngOnInit(),this.form=this.formBuilder.group({address:[(null===(_=this.emailAddressRecordValue)||void 0===_?void 0:_.address)||"",E.kI.required],type:[(null===(n=this.emailAddressRecordValue)||void 0===n?void 0:n.type)||"",E.kI.required],primary:[(null===(i=this.emailAddressRecordValue)||void 0===i?void 0:i.primary)||!1]}),this.showEmailAddressRequiredError$=this.setupRequiredFieldValidationMessage(this.form.controls.address),this.showEmailAddressInvalidError$=(0,p.a)([this.formSubmit$,this.showEmailAddressRequiredError$]).pipe((0,v.U)(([r,a])=>{var s,f;return!a&&!!(null===(f=null===(s=this.form)||void 0===s?void 0:s.controls)||void 0===f?void 0:f.address.errors)&&r}),(0,pe.B)()),this.showEmailAddressTypeError$=this.setupRequiredFieldValidationMessage(this.form.controls.type)}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(E.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-email-record-form"]],inputs:{emailTypeOptions:"emailTypeOptions",emailAddressRecord:"emailAddressRecord"},features:[e.qOj],decls:1,vars:1,consts:function(){let o,_,n,i,r,a,s,f,C;return o="Email address",_=" Provide an email address ",n=" Email format is invalid ",i="Primary email address",r="Email address type",a=" Choose an email address type ",s=" Cancel ",f=" Add email address ",C=" Save changes ",[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"bb-block","bb-block--lg"],["data-role","user-manage-profile-email-manage-email","label",o,"formControlName","address",1,"bb-form-field","bb-form-field--lg",3,"required","maxLength"],[3,"showErrors"],_,n,["data-role","user-manage-profile-email-manage-primary","label",i,"formControlName","primary"],["data-role","user-manage-profile-email-manage-type","formControlName","type","label",r,3,"preselect","required"],[3,"value","label",4,"ngFor","ngForOf"],a,[1,"bb-button-bar","bb-button-bar--reverse"],["type","submit","data-role","user-manage-profile-email-manage-save","class","bb-button-bar__button",3,"isLoading",4,"ngIf"],["bbButton","","data-role","user-manage-profile-manage-cancel-button","color","secondary","type","button",1,"bb-button-bar__button",3,"click"],s,[3,"value","label"],["type","submit","data-role","user-manage-profile-email-manage-save",1,"bb-button-bar__button",3,"isLoading"],f,C]},template:function(_,n){1&_&&e.YNc(0,oo,25,17,"form",0),2&_&&e.Q6J("ngIf",n.form)},directives:[Me.v,k.d,Ce.r,Q.Af,Q.f2,T.K,d.O5,E._Y,E.JL,E.sg,E.JJ,E.u,E.Q7,d.sg,b.Hq],pipes:[d.Ov],encapsulation:2,changeDetection:0}),t})(),qe=(()=>{class t extends Ke{constructor(_,n){super(),this.formBuilder=_,this.phoneNumberFormatter=n}set phoneNumberRecord(_){var n,i,r,a,s;this.phoneNumberRecordValue=_,null===(n=this.phoneNumberFormatterSubscription)||void 0===n||n.unsubscribe(),null===(i=this.form)||void 0===i||i.setValue({number:null===(r=this.phoneNumberRecordValue)||void 0===r?void 0:r.number,type:null===(a=this.phoneNumberRecordValue)||void 0===a?void 0:a.type,primary:null===(s=this.phoneNumberRecordValue)||void 0===s?void 0:s.primary}),this.setupPhoneNumberFormatting()}ngOnInit(){var _,n,i;super.ngOnInit(),this.form=this.formBuilder.group({number:[(null===(_=this.phoneNumberRecordValue)||void 0===_?void 0:_.number)||"",E.kI.required],type:[(null===(n=this.phoneNumberRecordValue)||void 0===n?void 0:n.type)||"",E.kI.required],primary:[(null===(i=this.phoneNumberRecordValue)||void 0===i?void 0:i.primary)||!1]}),this.setupPhoneNumberFormatting(),this.showPhoneNumberRequiredError$=this.setupRequiredFieldValidationMessage(this.form.controls.number),this.showPhoneNumberInvalidError$=(0,p.a)([this.formSubmit$,this.showPhoneNumberRequiredError$]).pipe((0,v.U)(([r,a])=>{var s,f;return!a&&!!(null===(f=null===(s=this.form)||void 0===s?void 0:s.controls)||void 0===f?void 0:f.number.errors)&&r}),(0,pe.B)()),this.showPhoneNumberTypeError$=this.setupRequiredFieldValidationMessage(this.form.controls.type)}ngOnDestroy(){var _;super.ngOnDestroy(),null===(_=this.phoneNumberFormatterSubscription)||void 0===_||_.unsubscribe()}setupPhoneNumberFormatting(){if(this.enablePhoneNumberFormatter){if(!this.phoneNumberCountryCode)throw Error("phoneNumberCountryCode input must be set to use formatting");this.enablePhoneNumberFormatting()}}enablePhoneNumberFormatting(){var _;const n=null===(_=this.form)||void 0===_?void 0:_.get("number");this.phoneNumberFormatterSubscription=null==n?void 0:n.valueChanges.pipe((0,h.x)(),(0,F.b)(this.phoneNumberDebounceTime||0)).subscribe(i=>{n.setValue(this.phoneNumberFormatter.transform(i,this.phoneNumberCountryCode,!0))})}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(E.qu),e.Y36(re.X))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-phone-record-form"]],inputs:{phoneNumberTypeOptions:"phoneNumberTypeOptions",phoneNumberRecord:"phoneNumberRecord",enablePhoneNumberFormatter:"enablePhoneNumberFormatter",phoneNumberDebounceTime:"phoneNumberDebounceTime",phoneNumberCountryCode:"phoneNumberCountryCode"},features:[e.qOj],decls:1,vars:1,consts:function(){let o,_,n,i,r,a,s,f,C;return o="Phone number",_=" Provide a phone number ",n=" Phone number format is invalid ",i="Primary phone number",r="Phone number type",a=" Choose a phone number type ",s=" Cancel ",f=" Add phone number ",C=" Save changes ",[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"bb-block","bb-block--lg"],["data-role","user-manage-profile-phone-manage-phone","label",o,"formControlName","number",1,"bb-form-field","bb-form-field--md",3,"required","maxLength"],[3,"showErrors"],_,n,["data-role","user-manage-profile-phone-manage-primary","label",i,"formControlName","primary"],["data-role","user-manage-profile-phone-manage-type","formControlName","type","label",r,3,"preselect","required"],[3,"value","label",4,"ngFor","ngForOf"],a,[1,"bb-button-bar","bb-button-bar--reverse"],["type","submit","data-role","user-manage-profile-phone-manage-save","class","bb-button-bar__button",3,"isLoading",4,"ngIf"],["bbButton","","data-role","user-manage-profile-manage-cancel-button","color","secondary","type","button",1,"bb-button-bar__button",3,"click"],s,[3,"value","label"],["type","submit","data-role","user-manage-profile-phone-manage-save",1,"bb-button-bar__button",3,"isLoading"],f,C]},template:function(_,n){1&_&&e.YNc(0,so,25,17,"form",0),2&_&&e.Q6J("ngIf",n.form)},directives:[be.W,k.d,Ce.r,Q.Af,Q.f2,T.K,d.O5,E._Y,E.JL,E.sg,E.JJ,E.u,E.Q7,d.sg,b.Hq],pipes:[d.Ov],encapsulation:2,changeDetection:0}),t})(),ze=(()=>{class t extends Ke{constructor(_){super(),this.formBuilder=_,this.form=this.formBuilder.group({type:["",E.kI.required],primary:[!1],buildingNumber:["",E.kI.required],streetName:[""],townName:["",E.kI.required],countrySubDivision:["",E.kI.required],postalCode:["",E.kI.required]})}set postalAddressRecord(_){this.postalAddressRecordValue=_,this.form.patchValue(this.postalAddressRecordValue)}ngOnInit(){super.ngOnInit(),this.showBuildingNumberRequiredError$=this.setupRequiredFieldValidationMessage(this.form.controls.buildingNumber),this.showCityTownRequiredError$=this.setupRequiredFieldValidationMessage(this.form.controls.townName),this.showCountrySubDivisionRequiredError$=this.setupRequiredFieldValidationMessage(this.form.controls.countrySubDivision),this.showPostcodeRequiredError$=this.setupRequiredFieldValidationMessage(this.form.controls.postalCode),this.showAddressTypeError$=this.setupRequiredFieldValidationMessage(this.form.controls.type)}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(E.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-address-record-form"]],inputs:{addressTypeOptions:"addressTypeOptions",postalAddressRecord:"postalAddressRecord"},features:[e.qOj],decls:1,vars:1,consts:function(){let o,_,n,i,r,a,s,f,C,M,D,U,N,W,H;return o="Address line 1",_=" You must enter a value for Address line 1. ",n="Address line 2 (optional)",i="City or town",r=" You must enter a value for City or town. ",a="State, province or region",s=" You must enter a value for State, province or region. ",f="Postal or ZIP code",C=" You must enter a value for Postal or ZIP code. ",M="Primary address",D="Address type",U=" Choose an address type ",N=" Cancel ",W=" Add address ",H=" Save changes ",[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"bb-block","bb-block--lg"],["data-role","user-manage-profile-postal-manage-line-1","label",o,"formControlName","buildingNumber",1,"bb-form-field","bb-form-field--md",3,"required","maxLength"],[3,"showErrors"],_,["data-role","user-manage-profile-postal-manage-line-2","label",n,"formControlName","streetName",1,"bb-form-field","bb-form-field--md",3,"maxLength"],["data-role","user-manage-profile-postal-manage-city","label",i,"formControlName","townName",1,"bb-form-field","bb-form-field--md",3,"required","maxLength"],r,["data-role","user-manage-profile-postal-manage-state","label",a,"formControlName","countrySubDivision",1,"bb-form-field","bb-form-field--sm",3,"required","maxLength"],s,["data-role","user-manage-profile-postal-manage-post-code","label",f,"formControlName","postalCode",1,"bb-form-field","bb-form-field--xs",3,"required","maxLength"],C,["data-role","user-manage-profile-address-manage-primary","label",M,"formControlName","primary"],["data-role","user-manage-profile-address-manage-type","formControlName","type","label",D,3,"preselect","required"],[3,"value","label",4,"ngFor","ngForOf"],U,[1,"bb-button-bar","bb-button-bar--reverse"],["type","submit","data-role","user-manage-profile-address-manage-save","class","bb-button-bar__button",3,"isLoading",4,"ngIf"],["bbButton","","data-role","user-manage-profile-manage-cancel-button","color","secondary","type","button",1,"bb-button-bar__button",3,"click"],N,[3,"value","label"],["type","submit","data-role","user-manage-profile-address-manage-save",1,"bb-button-bar__button",3,"isLoading"],W,H]},template:function(_,n){1&_&&e.YNc(0,So,41,30,"form",0),2&_&&e.Q6J("ngIf",n.form)},directives:[ne.m,k.d,Ce.r,Q.Af,Q.f2,T.K,d.O5,E._Y,E.JL,E.sg,E.JJ,E.u,E.Q7,d.sg,b.Hq],pipes:[d.Ov],encapsulation:2,changeDetection:0}),t})();const Rr={suggestions:[]};let Qe=(()=>{class t extends Ke{constructor(_,n){super(),this.formBuilder=_,this.addressService=n,this.isShowingErrorSubject$$=new O.X(!1),this.isShowingNotFoundSubject$$=new O.X(!1),this.isShowingOfflineSubject$$=new O.X(!1),this.typeaheadOptions={ngbTypeahead:this.createSearch.bind(this),selectItem:this.selectAddress.bind(this)},this.isAddressFormShowing=!1,this.addressMap={},this.form=this.formBuilder.group({type:["",E.kI.required],primary:[!1],street:["",E.kI.required],secondary:[""],city:["",E.kI.required],administrativeArea:["",E.kI.required],postalCode:["",E.kI.required]})}set postalAddressRecord(_){this.postalAddressRecordValue=_,this.form.patchValue(this.postalAddressRecordValue),this.isAddressFormShowing=!0,this.form.markAllAsTouched()}ngOnInit(){super.ngOnInit(),this.showStreetAddressRequiredError$=this.setupRequiredFieldValidationMessage(this.form.controls.street),this.showCityRequiredError$=this.setupRequiredFieldValidationMessage(this.form.controls.city),this.showAdministrativeAreaRequiredError$=this.setupRequiredFieldValidationMessage(this.form.controls.administrativeArea),this.showPostalCodeRequiredError$=this.setupRequiredFieldValidationMessage(this.form.controls.postalCode),this.showAddressTypeError$=this.setupRequiredFieldValidationMessage(this.form.controls.type)}createSearch(_){return _.pipe((0,J.b)(()=>{this.isShowingErrorSubject$$.next(!1),this.isShowingNotFoundSubject$$.next(!1),this.isShowingOfflineSubject$$.next(!1)}),(0,y_.h)(n=>n.length>2),(0,F.b)(this.searchAddressDebounceTime),(0,P.w)(this.searchAddresses.bind(this)),(0,v.U)(n=>{const i=n.suggestions.map(this.mapSuggestionToCacheableReadableAddress.bind(this));return i.forEach(r=>this.addressMap[btoa(r.val)]=r.suggestion),i.map(r=>r.val)}))}showFormClick(){this.isAddressFormShowing=!0}saveAddressClick(){this.isAddressFormShowing=!0,this.formSubmit$.next(!0)}selectAddress(_){const{street:n,secondary:i,city:r,administrativeArea:a,postalCode:s}=this.addressMap[btoa(_.item)];this.form.reset(),this.form.patchValue({street:n,secondary:i,city:r,administrativeArea:a,postalCode:s}),this.form.markAsDirty(),this.isAddressFormShowing=!0}mapSuggestionToCacheableReadableAddress(_){return{val:`${this.spaceSuffix(_.street)}${(this.spaceSuffix(_.secondary)+(_.city||"")).trim()},${this.spacePrefix(_.postalCode)}`.replace(/(^,)|(,$)/g,""),suggestion:_}}searchAddresses(_){return!1===window.navigator.onLine?(this.isShowingOfflineSubject$$.next(!0),(0,w.of)(Rr)):this.addressService.searchAddress({search:_}).pipe((0,J.b)(n=>{var i;return!(null===(i=n.suggestions)||void 0===i?void 0:i.length)&&this.isShowingNotFoundSubject$$.next(!0)}),(0,z.K)(()=>(this.isShowingErrorSubject$$.next(!0),(0,w.of)({suggestions:[]}))))}spaceSuffix(_){return _?`${_} `:""}spacePrefix(_){return _?` ${_}`:""}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(E.qu),e.Y36(Xn))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-address-autocomplete-record-form"]],viewQuery:function(_,n){if(1&_&&e.Gf(uo,7),2&_){let i;e.iGM(i=e.CRH())&&(n.noItemsNotice=i.first)}},inputs:{addressTypeOptions:"addressTypeOptions",postalAddressRecord:"postalAddressRecord",searchAddressDebounceTime:"searchAddressDebounceTime"},features:[e.qOj],decls:21,vars:14,consts:function(){let o,_,n,i,r,a,s,f,C,M,D,U,N,W,H,y,Y,ee,_e,te;return o="Start typing your address",_=" Can't find your address? Enter manually ",n=" We've ran into an error. Please refresh and try again\n",i=" No internet connection\n",r=" Cancel ",a=" No addresses found\n",s="Street address",f=" You must enter a value for Street address. ",C="Apt / Suite (Optional)",M="City",D=" You must enter a value for City. ",U="State",N=" You must enter a value for State. ",W="ZIP code",H=" You must enter a value for ZIP code. ",y="Primary address",Y="Address type",ee=" Choose an address type ",_e=" Add address ",te=" Save changes ",[[1,"bb-block","bb-block--md"],["data-role","user-manage-profile-autocomplete-address-search","placeholder",o,1,"full-width-typeahead",3,"showClear","typeaheadOptions"],["addressAutocomplete",""],["bbButton","","color","link-text","buttonSize","sm","data-role","user-profile-autocomplete-search-manual-entry-button",3,"click"],["notFoundButton",""],_,["class","bb-subtitle","data-role","user-profile-autocomplete-search-no-addresses-found",4,"ngIf"],["data-role","user-profile-autocomplete-search-server-error",3,"showErrors"],n,[3,"showErrors"],i,[3,"formGroup","hidden",4,"ngIf"],[1,"bb-button-bar","bb-button-bar--reverse"],["type","button","data-role","user-manage-profile-address-manage-save","class","bb-button-bar__button",3,"isLoading","click",4,"ngIf"],["type","submit","data-role","user-manage-profile-address-manage-save","class","bb-button-bar__button",3,"isLoading","click",4,"ngIf"],["bbButton","","data-role","user-manage-profile-manage-cancel-button","color","secondary","type","button",1,"bb-button-bar__button",3,"click"],r,["data-role","user-profile-autocomplete-search-no-addresses-found",1,"bb-subtitle"],["noItemsNotice",""],a,[3,"formGroup","hidden"],[1,"bb-block","bb-block--lg"],["data-role","user-manage-profile-autocomplete-address-street","label",s,"formControlName","street",1,"bb-form-field","bb-form-field--md",3,"required","maxLength"],["data-role","user-manage-profile-autocomplete-address-street-required",3,"showErrors"],f,["data-role","user-manage-profile-autocomplete-address-secondary","label",C,"formControlName","secondary",1,"bb-form-field","bb-form-field--md",3,"maxLength"],[1,"bb-stack","bb-stack--align-top"],[1,"bb-stack__item","bb-block","bb-block--lg"],["data-role","user-manage-profile-autocomplete-address-city","label",M,"formControlName","city",1,"bb-form-field","bb-form-field--md",3,"required","maxLength"],["data-role","user-manage-profile-autocomplete-address-city-required",3,"showErrors"],D,["data-role","user-manage-profile-autocomplete-address-administrative-area","label",U,"formControlName","administrativeArea",1,"bb-form-field","bb-form-field--md",3,"required","maxLength"],["data-role","user-manage-profile-autocomplete-address-administrative-area-required",3,"showErrors"],N,["data-role","user-manage-profile-autocomplete-address-postal-code","label",W,"formControlName","postalCode",1,"bb-form-field","bb-form-field--md",3,"required","maxLength"],["data-role","user-manage-profile-autocomplete-address-postal-code-required",3,"showErrors"],H,["data-role","user-manage-profile-autocomplete-address-primary","label",y,"formControlName","primary"],["data-role","user-manage-profile-autocomplete-address-type","formControlName","type","label",Y,3,"preselect","required"],[3,"value","label",4,"ngFor","ngForOf"],ee,[3,"value","label"],["type","button","data-role","user-manage-profile-address-manage-save",1,"bb-button-bar__button",3,"isLoading","click"],_e,["type","submit","data-role","user-manage-profile-address-manage-save",1,"bb-button-bar__button",3,"isLoading","click"],te]},template:function(_,n){1&_&&(e.TgZ(0,"div",0),e._UZ(1,"bb-search-box-ui",1,2),e.qZA(),e.TgZ(3,"p")(4,"button",3,4),e.NdJ("click",function(){return n.showFormClick()}),e.SDv(6,5),e.qZA()(),e.YNc(7,Ao,3,0,"p",6),e.ALo(8,"async"),e.TgZ(9,"bb-input-validation-message-ui",7),e.SDv(10,8),e.ALo(11,"async"),e.qZA(),e.TgZ(12,"bb-input-validation-message-ui",9),e.SDv(13,10),e.ALo(14,"async"),e.qZA(),e.YNc(15,fo,37,29,"form",11),e.TgZ(16,"div",12),e.YNc(17,go,2,1,"bb-load-button-ui",13),e.YNc(18,To,2,1,"bb-load-button-ui",14),e.TgZ(19,"button",15),e.NdJ("click",function(){return n.cancelClick.emit()}),e.SDv(20,16),e.qZA()()),2&_&&(e.xp6(1),e.Q6J("showClear",!0)("typeaheadOptions",n.typeaheadOptions),e.xp6(6),e.Q6J("ngIf",e.lcZ(8,8,n.isShowingNotFoundSubject$$)),e.xp6(2),e.Q6J("showErrors",e.lcZ(11,10,n.isShowingErrorSubject$$)||!1),e.xp6(3),e.Q6J("showErrors",e.lcZ(14,12,n.isShowingOfflineSubject$$)||!1),e.xp6(3),e.Q6J("ngIf",n.form),e.xp6(2),e.Q6J("ngIf",!n.postalAddressRecordValue),e.xp6(1),e.Q6J("ngIf",n.postalAddressRecordValue))},directives:[Ze.B,k.d,ne.m,Ce.r,Q.Af,Q.f2,T.K,b.Hq,d.O5,E._Y,E.JL,E.sg,E.JJ,E.u,E.Q7,d.sg],pipes:[d.Ov],encapsulation:2,changeDetection:0}),t})(),De=(()=>{class t{constructor(_,n,i,r){this.configService=_,this.router=n,this.activatedRoute=i,this.notificationService=r,this.modalOpen=!1,this.formHasChanges=!1}cancelAddEditAttribute(){this.formHasChanges?this.modalOpen=!0:this.navigate("../")}cancelModal(){this.modalOpen=!1}discardChanges(){this.modalOpen=!1,this.navigate("../")}setFormHasChanges(_){this.formHasChanges=_}navigate(_){this.router.navigate([_],{relativeTo:this.activatedRoute})}showNotification(_="",n,i){this.notificationService.showNotification({header:n,message:_,modifier:i||"success",ttl:this.configService.notificationDismissTime})}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(q),e.Y36(u.F0),e.Y36(u.gz),e.Y36(V.gq))},t.\u0275dir=e.lG2({type:t}),t})(),je=(()=>{class t{constructor(_){this.userProfileDataService=_,this.getUserProfileCacheItem=xe(this.userProfileDataService.getOwnUserProfile.bind(this.userProfileDataService)),this.getUserProfile$=this.getUserProfileCacheItem.state$,this.getUserProfile=this.getUserProfileCacheItem.update}createEmailAddress(_){return this.userProfileDataService.addOwnElectronicAddress({electronicAddress:_})}createPhoneNumber(_){return this.userProfileDataService.addOwnPhoneAddress({phoneAddress:_})}createPostalAddress(_){return this.userProfileDataService.addOwnPostalAddress({postalAddress:_})}deleteEmailAddress({key:_}){return this.userProfileDataService.deleteOwnElectronicAddress({electronicAddressKey:_})}deletePhoneAddress({key:_}){return this.userProfileDataService.deleteOwnPhoneAddress({phoneAddressKey:_})}deletePostalAddress({key:_}){return this.userProfileDataService.deleteOwnPostalAddress({postalAddressKey:_})}updateEmailAddress(_,n){return this.userProfileDataService.updateOwnElectronicAddress({electronicAddressKey:_,electronicAddress:n})}updatePhoneNumber(_,n){return this.userProfileDataService.updateOwnPhoneAddress({phoneAddressKey:_,phoneAddress:n})}updatePostalAddress(_,n){return this.userProfileDataService.updateOwnPostalAddress({postalAddressKey:_,postalAddress:n})}}return t.\u0275fac=function(_){return new(_||t)(e.LFG(G.bg))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),Ye=(()=>{class t{constructor(_,n,i){this.data=_,this.activatedRoute=n,this.configService=i,this.getUserProfileCacheItem=xe(this.getUserProfileData.bind(this)),this.userId$=Ae(this.activatedRoute,this.configService.routeParamNameUserId).pipe((0,J.b)(r=>{if(this.configService.isAdmin){if(!r)throw new Error("No user id found. Unable to perform action.");this.userIdValue=r}})),this.getUserProfile$=this.getUserProfileCacheItem.state$,this.getUserProfile=this.getUserProfileCacheItem.update,this.userId$.subscribe()}get userId(){if(!this.userIdValue)throw new Error("No user id found. Unable to perform action.");return this.userIdValue}getUserProfileData(){return this.userId$.pipe((0,zn.q)(1),(0,v.U)(_=>null!=_?_:""),(0,y_.h)(_=>!!_),(0,P.w)(_=>this.data.getUserProfile({internalId:_})))}createEmailAddress(_){return this.data.addElectronicAddress({internalId:this.userId,electronicAddress:_})}createPhoneNumber(_){return this.data.addPhoneAddress({internalId:this.userId,phoneAddress:_})}createPostalAddress(_){return this.data.addPostalAddress({internalId:this.userId,postalAddress:_})}deleteEmailAddress({key:_}){return this.data.deleteElectronicAddress({internalId:this.userId,electronicAddressKey:_})}deletePhoneAddress({key:_}){return this.data.deletePhoneAddress({internalId:this.userId,phoneAddressKey:_})}deletePostalAddress({key:_}){return this.data.deletePostalAddress({internalId:this.userId,postalAddressKey:_})}updateEmailAddress(_,n){return this.data.updateElectronicAddress({internalId:this.userId,electronicAddressKey:_,electronicAddress:n})}updatePhoneNumber(_,n){return this.data.updatePhoneAddress({internalId:this.userId,phoneAddressKey:_,phoneAddress:n})}updatePostalAddress(_,n){return this.data.updatePostalAddress({internalId:this.userId,postalAddressKey:_,postalAddress:n})}}return t.\u0275fac=function(_){return new(_||t)(e.LFG(G.bg),e.LFG(u.gz),e.LFG(q))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),ae=(()=>{class t{constructor(_,n,i){this.userProfileDataService=_,this.adminManageProfileService=n,this.configService=i}get dataService(){return this.configService.isAdmin?this.adminManageProfileService:this.userProfileDataService}}return t.\u0275fac=function(_){return new(_||t)(e.LFG(je),e.LFG(Ye),e.LFG(q))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),Xe=(()=>{class t extends De{constructor(_,n,i,r,a){super(_,i,r,a),this.configService=_,this.wrapper=n,this.router=i,this.activatedRoute=r,this.notificationService=a,this.isSaveLoadingSubject$=new O.X(!1)}addAutocompleteAddress(_){this.saveAddress(Object.assign(Object.assign({},E_(_)),{type:_.type,primary:_.primary}))}addAddress(_){this.saveAddress(_)}saveAddress(_){this.isSaveLoadingSubject$.next(!0),this.wrapper.dataService.createPostalAddress(_).pipe((0,P.w)(()=>this.wrapper.dataService.getUserProfile()),(0,oe.x)(()=>this.isSaveLoadingSubject$.next(!1))).subscribe({next:()=>{this.showNotification(void 0,this.notificationSuccessHeader),this.navigate(this.configService.onAddAddressSaveSuccessPath)},error:()=>{this.showNotification(this.notificationFailure,void 0,"error")}})}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(q),e.Y36(ae),e.Y36(u.F0),e.Y36(u.gz),e.Y36(V.gq))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-add-address-view"]],viewQuery:function(_,n){if(1&_&&(e.Gf(Re,5),e.Gf(ue,5)),2&_){let i;e.iGM(i=e.CRH())&&(n.notificationSuccessHeader=i.first),e.iGM(i=e.CRH())&&(n.notificationFailure=i.first)}},features:[e.qOj],decls:13,vars:3,consts:function(){let o,_,n,i;return o="Back to Personal information",_="Add an address",n=" Address added successfully ",i=" An unexpected error occurred ",[["data-role","user-manage-profile-address-add-container"],["page",o,3,"backClick"],[1,"bb-block","bb-block--lg"],["headingType","h1","data-role","user-profile-add-address-heading","heading",_],[1,"card"],[1,"card-body"],[3,"addressTypeOptions","searchAddressDebounceTime","saveLoading","saveClick","cancelClick","formHasChanges",4,"ngIf"],[3,"addressTypeOptions","saveLoading","saveClick","cancelClick","formHasChanges",4,"ngIf"],[3,"modalOpen","cancelModalClick","discardChangesClick"],["notificationSuccessHeader",""],["notificationFailure",""],[3,"addressTypeOptions","searchAddressDebounceTime","saveLoading","saveClick","cancelClick","formHasChanges"],[3,"addressTypeOptions","saveLoading","saveClick","cancelClick","formHasChanges"],["data-role","user-manage-profile-address-add-success-notification",1,"bb-text-bold"],n,["data-role","user-profile-add-address-error-notification"],i]},template:function(_,n){1&_&&(e.TgZ(0,"div",0)(1,"bb-identity-back-button",1),e.NdJ("backClick",function(){return n.cancelAddEditAttribute()}),e.qZA(),e.TgZ(2,"div",2),e._UZ(3,"bb-header-ui",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5),e.YNc(6,Io,2,5,"bb-identity-address-autocomplete-record-form",6),e.YNc(7,po,2,4,"bb-identity-address-record-form",7),e.qZA()()(),e.TgZ(8,"bb-identity-discard-modal-component",8),e.NdJ("cancelModalClick",function(){return n.cancelModal()})("discardChangesClick",function(){return n.discardChanges()}),e.qZA(),e.YNc(9,Mo,2,0,"ng-template",null,9,e.W1O),e.YNc(11,Co,2,0,"ng-template",null,10,e.W1O)),2&_&&(e.xp6(6),e.Q6J("ngIf",n.configService.isAddressSearchAutocompleteActive),e.xp6(1),e.Q6J("ngIf",!n.configService.isAddressSearchAutocompleteActive),e.xp6(1),e.Q6J("modalOpen",n.modalOpen))},directives:[se,R.G,Qe,ze,X,d.O5],pipes:[d.Ov],encapsulation:2,changeDetection:0}),t})(),e_=(()=>{class t extends De{constructor(_,n,i,r,a){super(_,i,r,a),this.configService=_,this.wrapper=n,this.router=i,this.activatedRoute=r,this.notificationService=a,this.isSaveLoadingSubject$=new O.X(!1)}addEmailAddress(_){this.isSaveLoadingSubject$.next(!0),this.wrapper.dataService.createEmailAddress(_).pipe((0,P.w)(()=>this.wrapper.dataService.getUserProfile()),(0,oe.x)(()=>this.isSaveLoadingSubject$.next(!1))).subscribe({next:()=>{this.showNotification(void 0,this.notificationSuccessHeader),this.navigate(this.configService.onAddEmailSaveSuccessPath)},error:()=>{this.showNotification(this.notificationFailure,void 0,"error")}})}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(q),e.Y36(ae),e.Y36(u.F0),e.Y36(u.gz),e.Y36(V.gq))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-add-email-view"]],viewQuery:function(_,n){if(1&_&&(e.Gf(Re,5),e.Gf(ue,5)),2&_){let i;e.iGM(i=e.CRH())&&(n.notificationSuccessHeader=i.first),e.iGM(i=e.CRH())&&(n.notificationFailure=i.first)}},features:[e.qOj],decls:13,vars:5,consts:function(){let o,_,n,i;return o="Back to Personal information",_="Add an email address",n=" Email added successfully ",i=" An unexpected error occurred ",[["data-role","user-manage-profile-email-add-container"],["page",o,3,"backClick"],[1,"bb-block","bb-block--lg"],["headingType","h1","data-role","user-profile-add-email-heading","heading",_],[1,"card"],[1,"card-body"],[3,"emailTypeOptions","saveLoading","saveClick","cancelClick","formHasChanges"],[3,"modalOpen","cancelModalClick","discardChangesClick"],["notificationSuccessHeader",""],["notificationFailure",""],["data-role","user-manage-profile-email-add-success-notification",1,"bb-text-bold"],n,["data-role","user-profile-add-email-error-notification"],i]},template:function(_,n){1&_&&(e.TgZ(0,"div",0)(1,"bb-identity-back-button",1),e.NdJ("backClick",function(){return n.cancelAddEditAttribute()}),e.qZA(),e.TgZ(2,"div",2),e._UZ(3,"bb-header-ui",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"bb-identity-email-record-form",6),e.NdJ("saveClick",function(r){return n.addEmailAddress(r)})("cancelClick",function(){return n.cancelAddEditAttribute()})("formHasChanges",function(r){return n.setFormHasChanges(r)}),e.ALo(7,"async"),e.qZA()()()(),e.TgZ(8,"bb-identity-discard-modal-component",7),e.NdJ("cancelModalClick",function(){return n.cancelModal()})("discardChangesClick",function(){return n.discardChanges()}),e.qZA(),e.YNc(9,bo,2,0,"ng-template",null,8,e.W1O),e.YNc(11,Bo,2,0,"ng-template",null,9,e.W1O)),2&_&&(e.xp6(6),e.Q6J("emailTypeOptions",n.configService.emailAddressTypes)("saveLoading",e.lcZ(7,3,n.isSaveLoadingSubject$)||!1),e.xp6(2),e.Q6J("modalOpen",n.modalOpen))},directives:[se,R.G,$e,X],pipes:[d.Ov],encapsulation:2,changeDetection:0}),t})(),__=(()=>{class t extends De{constructor(_,n,i,r,a){super(_,i,r,a),this.configService=_,this.wrapper=n,this.router=i,this.activatedRoute=r,this.notificationService=a,this.isSaveLoadingSubject$=new O.X(!1)}addPhoneNumber(_){this.isSaveLoadingSubject$.next(!0),this.wrapper.dataService.createPhoneNumber(_).pipe((0,P.w)(()=>this.wrapper.dataService.getUserProfile()),(0,oe.x)(()=>this.isSaveLoadingSubject$.next(!1))).subscribe({next:()=>{this.showNotification(void 0,this.notificationSuccessHeader),this.navigate(this.configService.onAddPhoneSaveSuccessPath)},error:()=>{this.showNotification(this.notificationFailure,void 0,"error")}})}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(q),e.Y36(ae),e.Y36(u.F0),e.Y36(u.gz),e.Y36(V.gq))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-add-phone-view"]],viewQuery:function(_,n){if(1&_&&(e.Gf(Re,5),e.Gf(ue,5)),2&_){let i;e.iGM(i=e.CRH())&&(n.notificationSuccessHeader=i.first),e.iGM(i=e.CRH())&&(n.notificationFailure=i.first)}},features:[e.qOj],decls:13,vars:8,consts:function(){let o,_,n,i;return o="Back to Personal information",_="Add a phone number",n=" Phone number added successfully ",i=" An unexpected error occurred ",[["data-role","user-manage-profile-phone-add-container"],["page",o,3,"backClick"],[1,"bb-block","bb-block--lg"],["headingType","h1","data-role","user-profile-add-phone-heading","heading",_],[1,"card"],[1,"card-body"],[3,"phoneNumberTypeOptions","enablePhoneNumberFormatter","phoneNumberCountryCode","phoneNumberDebounceTime","saveLoading","saveClick","cancelClick","formHasChanges"],[3,"modalOpen","cancelModalClick","discardChangesClick"],["notificationSuccessHeader",""],["notificationFailure",""],["data-role","user-manage-profile-phone-add-success-notification",1,"bb-text-bold"],n,["data-role","user-profile-add-phone-error-notification"],i]},template:function(_,n){1&_&&(e.TgZ(0,"div",0)(1,"bb-identity-back-button",1),e.NdJ("backClick",function(){return n.cancelAddEditAttribute()}),e.qZA(),e.TgZ(2,"div",2),e._UZ(3,"bb-header-ui",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"bb-identity-phone-record-form",6),e.NdJ("saveClick",function(r){return n.addPhoneNumber(r)})("cancelClick",function(){return n.cancelAddEditAttribute()})("formHasChanges",function(r){return n.setFormHasChanges(r)}),e.ALo(7,"async"),e.qZA()()()(),e.TgZ(8,"bb-identity-discard-modal-component",7),e.NdJ("cancelModalClick",function(){return n.cancelModal()})("discardChangesClick",function(){return n.discardChanges()}),e.qZA(),e.YNc(9,Oo,2,0,"ng-template",null,8,e.W1O),e.YNc(11,Ro,2,0,"ng-template",null,9,e.W1O)),2&_&&(e.xp6(6),e.Q6J("phoneNumberTypeOptions",n.configService.phoneNumberTypes)("enablePhoneNumberFormatter",n.configService.enablePhoneNumberFormatter)("phoneNumberCountryCode",n.configService.phoneNumberCountryCode)("phoneNumberDebounceTime",n.configService.phoneNumberDebounceTime)("saveLoading",e.lcZ(7,6,n.isSaveLoadingSubject$)||!1),e.xp6(2),e.Q6J("modalOpen",n.modalOpen))},directives:[se,R.G,qe,X],pipes:[d.Ov],encapsulation:2,changeDetection:0}),t})(),t_=(()=>{class t{constructor(_){this.formBuilder=_,this.saveClick=new e.vpe,this.closeClick=new e.vpe,this.isCalculating$$=new O.X(!1),this.isModalOpen$$=new O.X(!1)}onDiscard(){this.toggleCancelModal(),this.closeClick.emit()}toggleCancelModal(){this.form.dirty?this.isModalOpen$$.next(!this.isModalOpen$$.value):this.closeClick.emit()}submit(){this.form.markAllAsTouched(),!this.form.invalid&&!this.isCalculating$$.value&&this.saveClick.emit(this.form.value)}get form(){if(!this.formGroup)throw new Error("FormGroup must be defined.");return this.formGroup}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(E.qu))},t.\u0275dir=e.lG2({type:t,inputs:{isSubmitting:"isSubmitting"},outputs:{saveClick:"saveClick",closeClick:"closeClick"}}),t})(),x_=(()=>{class t extends t_{constructor(_){super(_),this.formBuilder=_}ngOnInit(){this.formGroup=this.formBuilder.group({emailAddress:[this.emailValue,E.kI.required]})}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(E.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-admin-user-details-email-form"]],inputs:{emailValue:"emailValue"},features:[e.qOj],decls:15,vars:12,consts:function(){let o,_,n,i,r,a;return o="Edit email address",_="Email address",n=" Save Changes ",i=" Cancel ",r=" You must enter an email address ",a=" You must enter a valid email address ",[[3,"formGroup","submit"],[1,"bb-block","bb-block--lg"],["headingType","h3","heading",o],["label",_,"data-role","admin-user-details-email-input","formControlName","emailAddress","value","value",1,"bb-form-field","bb-form-field--md",3,"autofocus","required","maxLength"],[3,"showErrors"],[4,"ngIf"],[1,"bb-button-bar","bb-button-bar--reverse"],["color","primary","data-role","admin-user-details-email-address-save","type","submit",1,"bb-button-bar__button",3,"isLoading"],n,["bbButton","","type","button","data-role","admin-user-details-email-address-cancel","color","secondary",1,"bb-button-bar__button",3,"disabled","click"],i,[3,"modalOpen","cancelModalClick","discardChangesClick"],r,a]},template:function(_,n){1&_&&(e.TgZ(0,"form",0),e.NdJ("submit",function(){return n.submit()}),e.TgZ(1,"div",1),e._UZ(2,"bb-header-ui",2),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"bb-input-email-ui",3),e.TgZ(5,"bb-input-validation-message-ui",4),e.YNc(6,Do,2,0,"span",5),e.YNc(7,Uo,2,0,"span",5),e.qZA()(),e.TgZ(8,"div",6)(9,"bb-load-button-ui",7),e.SDv(10,8),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return n.toggleCancelModal()}),e.SDv(12,10),e.qZA()()(),e.TgZ(13,"bb-identity-discard-modal-component",11),e.NdJ("cancelModalClick",function(){return n.toggleCancelModal()})("discardChangesClick",function(){return n.onDiscard()}),e.ALo(14,"async"),e.qZA()),2&_&&(e.Q6J("formGroup",n.form),e.xp6(4),e.Q6J("autofocus",!0)("required",!0)("maxLength",255),e.xp6(1),e.Q6J("showErrors",n.form.controls.emailAddress.touched),e.xp6(1),e.Q6J("ngIf",null==n.form.controls.emailAddress.errors?null:n.form.controls.emailAddress.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.form.controls.emailAddress.errors?null:n.form.controls.emailAddress.errors.email),e.xp6(2),e.Q6J("isLoading",n.isSubmitting),e.xp6(2),e.Q6J("disabled",n.isSubmitting),e.xp6(2),e.Q6J("modalOpen",e.lcZ(14,10,n.isModalOpen$$)||!1))},directives:[R.G,Me.v,k.d,T.K,X,E._Y,E.JL,E.sg,E.JJ,E.u,E.Q7,d.O5,b.Hq],pipes:[d.Ov],encapsulation:2,changeDetection:0}),t})(),J_=(()=>{class t extends t_{constructor(_){super(_),this.formBuilder=_}ngOnInit(){this.formGroup=this.formBuilder.group({givenName:[this.givenName,E.kI.required],familyName:[this.familyName,E.kI.required]})}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(E.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-admin-user-details-full-name-form"]],inputs:{givenName:"givenName",familyName:"familyName"},features:[e.qOj],decls:18,vars:15,consts:function(){let o,_,n,i,r,a,s;return o="Edit full name",_="Given name(s)",n="Family name(s)",i=" Save Changes ",r=" Cancel ",a=" You must enter a given name ",s=" You must enter a family name ",[[3,"formGroup","submit"],[1,"bb-block","bb-block--lg"],["headingType","h3","heading",o],[1,"form-group"],["label",_,"data-role","admin-user-details-given-name-input","formControlName","givenName",1,"bb-form-field","bb-form-field--md",3,"autofocus","required","maxLength"],[3,"showErrors"],[4,"ngIf"],["label",n,"data-role","admin-user-details-family-name-input","formControlName","familyName",1,"bb-form-field","bb-form-field--md",3,"required","maxLength"],[1,"bb-button-bar","bb-button-bar--reverse"],["color","primary","data-role","admin-user-details-full-name-save","type","submit",1,"bb-button-bar__button",3,"isLoading"],i,["bbButton","","type","button","data-role","admin-user-details-full-name-cancel","color","secondary",1,"bb-button-bar__button",3,"disabled","click"],r,[3,"modalOpen","cancelModalClick","discardChangesClick"],a,s]},template:function(_,n){1&_&&(e.TgZ(0,"form",0),e.NdJ("submit",function(){return n.submit()}),e.TgZ(1,"div",1),e._UZ(2,"bb-header-ui",2),e.qZA(),e.TgZ(3,"div",3),e._UZ(4,"bb-input-text-ui",4),e.TgZ(5,"bb-input-validation-message-ui",5),e.YNc(6,No,2,0,"span",6),e.qZA()(),e.TgZ(7,"div",1),e._UZ(8,"bb-input-text-ui",7),e.TgZ(9,"bb-input-validation-message-ui",5),e.YNc(10,vo,2,0,"span",6),e.qZA()(),e.TgZ(11,"div",8)(12,"bb-load-button-ui",9),e.SDv(13,10),e.qZA(),e.TgZ(14,"button",11),e.NdJ("click",function(){return n.toggleCancelModal()}),e.SDv(15,12),e.qZA()()(),e.TgZ(16,"bb-identity-discard-modal-component",13),e.NdJ("cancelModalClick",function(){return n.toggleCancelModal()})("discardChangesClick",function(){return n.onDiscard()}),e.ALo(17,"async"),e.qZA()),2&_&&(e.Q6J("formGroup",n.form),e.xp6(4),e.Q6J("autofocus",!0)("required",!0)("maxLength",35),e.xp6(1),e.Q6J("showErrors",n.form.controls.givenName.touched),e.xp6(1),e.Q6J("ngIf",null==n.form.controls.givenName.errors?null:n.form.controls.givenName.errors.required),e.xp6(2),e.Q6J("required",!0)("maxLength",35),e.xp6(1),e.Q6J("showErrors",n.form.controls.familyName.touched),e.xp6(1),e.Q6J("ngIf",null==n.form.controls.familyName.errors?null:n.form.controls.familyName.errors.required),e.xp6(2),e.Q6J("isLoading",n.isSubmitting),e.xp6(2),e.Q6J("disabled",n.isSubmitting),e.xp6(2),e.Q6J("modalOpen",e.lcZ(17,13,n.isModalOpen$$)||!1))},directives:[R.G,ne.m,k.d,T.K,X,E._Y,E.JL,E.sg,E.JJ,E.u,E.Q7,d.O5,b.Hq],pipes:[d.Ov],encapsulation:2,changeDetection:0}),t})(),W_=(()=>{class t extends t_{constructor(_,n){super(_),this.formBuilder=_,this.phoneNumberPipe=n,this.formGroup=this.formBuilder.group({mobileNumber:new E.NI(this.mobileValue,E.kI.required)})}set mobileValue(_){this.form.patchValue({mobileNumber:_})}ngOnInit(){if(this.enablePhoneNumberFormatter){if(!this.phoneNumberCountryCode)throw Error("phoneNumberCountryCode input must be set to use formatting");this.phoneNumberFormatterSubscription=((t,o,_,n)=>t.valueChanges.pipe((0,h.x)(),(0,F.b)(o||0)).subscribe(i=>{t.setValue(n.transform(i,_,!0))}))(this.form.get("mobileNumber"),this.phoneNumberDebounceTime,this.phoneNumberCountryCode,this.phoneNumberPipe),this.form.controls.mobileNumber.setValue(this.phoneNumberPipe.transform(this.form.controls.mobileNumber.value,this.phoneNumberCountryCode,!0),{emitEvent:!1})}}ngOnDestroy(){var _;null===(_=this.phoneNumberFormatterSubscription)||void 0===_||_.unsubscribe()}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(E.qu),e.Y36(re.X))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-admin-user-details-mobile-form"]],inputs:{phoneNumberCountryCode:"phoneNumberCountryCode",phoneNumberDebounceTime:"phoneNumberDebounceTime",enablePhoneNumberFormatter:"enablePhoneNumberFormatter",mobileValue:"mobileValue"},features:[e.qOj],decls:14,vars:11,consts:function(){let o,_,n,i,r;return o="Edit mobile number",_="Mobile number",n=" Save Changes ",i=" Cancel ",r=" You must enter a mobile number ",[[3,"formGroup","submit"],[1,"bb-block","bb-block--lg"],["headingType","h3","heading",o],["label",_,"data-role","admin-user-details-mobile-number-input","formControlName","mobileNumber",1,"bb-form-field","bb-form-field--md",3,"autofocus","required","maxLength"],[3,"showErrors"],[4,"ngIf"],[1,"bb-button-bar","bb-button-bar--reverse"],["color","primary","data-role","admin-user-details-mobile-number-save","type","submit",1,"bb-button-bar__button",3,"isLoading"],n,["bbButton","","type","button","data-role","admin-user-details-mobile-number-cancel","color","secondary",1,"bb-button-bar__button",3,"disabled","click"],i,[3,"modalOpen","cancelModalClick","discardChangesClick"],r]},template:function(_,n){1&_&&(e.TgZ(0,"form",0),e.NdJ("submit",function(){return n.submit()}),e.TgZ(1,"div",1),e._UZ(2,"bb-header-ui",2),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"bb-input-phone-ui",3),e.TgZ(5,"bb-input-validation-message-ui",4),e.YNc(6,ho,2,0,"span",5),e.qZA()(),e.TgZ(7,"div",6)(8,"bb-load-button-ui",7),e.SDv(9,8),e.qZA(),e.TgZ(10,"button",9),e.NdJ("click",function(){return n.toggleCancelModal()}),e.SDv(11,10),e.qZA()()(),e.TgZ(12,"bb-identity-discard-modal-component",11),e.NdJ("cancelModalClick",function(){return n.toggleCancelModal()})("discardChangesClick",function(){return n.onDiscard()}),e.ALo(13,"async"),e.qZA()),2&_&&(e.Q6J("formGroup",n.form),e.xp6(4),e.Q6J("autofocus",!0)("required",!0)("maxLength",35),e.xp6(1),e.Q6J("showErrors",n.form.controls.mobileNumber.touched),e.xp6(1),e.Q6J("ngIf",null==n.form.controls.mobileNumber.errors?null:n.form.controls.mobileNumber.errors.required),e.xp6(2),e.Q6J("isLoading",n.isSubmitting),e.xp6(2),e.Q6J("disabled",n.isSubmitting),e.xp6(2),e.Q6J("modalOpen",e.lcZ(13,9,n.isModalOpen$$)||!1))},directives:[R.G,be.W,k.d,T.K,X,E._Y,E.JL,E.sg,E.JJ,E.u,E.Q7,d.O5,b.Hq],pipes:[d.Ov],encapsulation:2,changeDetection:0}),t})();const Dr=[b.hJ,R.O,Me.f,be.F,ne.j,k.w,T.C,re.b];let Ur=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.ez,E.UX,ve,...Dr],b.hJ,R.O,Me.f,be.F,ne.j,k.w,T.C,re.b]}),t})(),G_=(()=>{class t{constructor(_,n){this.userData=_,this.legalEntityData=n}getLegalEntity(_){return this.legalEntityData.getLegalEntityById({legalEntityId:_})}updateUserDetails(_,n){return this.userData.updateIdentity({internalId:_,updateIdentityRequest:n})}}return t.\u0275fac=function(_){return new(_||t)(e.LFG(G.oR),e.LFG(eo.U6))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),Z_=(()=>{class t{constructor(_,n,i,r,a){this.configService=_,this.adminManageProfileService=n,this.adminUserDetailsService=i,this.notificationService=r,this.userDataService=a,this.currentState=Be.None,this.formStates=Be,this.loadingState$$=new O.X(!0),this.loadingErrorState$$=new O.X(void 0),this.isSubmitting$$=new O.X(!1),this.userDetails$$=new O.X(void 0),this.userDetails$=this.userDetails$$.asObservable().pipe((0,J.b)(()=>this.loadingState$$.next(!0)),(0,P.w)(()=>this.userDataService.getUserDetails(this.adminManageProfileService.userId)),(0,P.w)(s=>this.adminUserDetailsService.getLegalEntity(s.legalEntityInternalId).pipe((0,v.U)(f=>({userDetails:s,legalEntityDetails:f})))),(0,z.K)(s=>(this.loadingState$$.next(!1),this.loadingErrorState$$.next(s),(0,w.of)()))),this.onSuccess=()=>{this.showNotification(this.notificationUpdateSuccessTemplate),this.setManagementState(Be.None),this.userDetails$$.next(void 0)},this.onFail=s=>(this.showNotification(this.notificationFailureTemplate,!0,s),(0,w.of)(void 0)),this.afterUpdate=()=>{this.isSubmitting$$.next(!1)}}ngOnInit(){this.userDetailsSubscription=this.userDetails$.subscribe(_=>{this.loadingState$$.next(!1),this.userDetails=_.userDetails,this.legalEntityDetails=_.legalEntityDetails})}ngOnDestroy(){var _;null===(_=this.userDetailsSubscription)||void 0===_||_.unsubscribe()}setManagementState(_){this.currentState=_}handleSaveRequest(_){this.isSubmitting$$.next(!0),this.adminUserDetailsService.updateUserDetails(this.adminManageProfileService.userId,this.modelToIdentityPut(_)).pipe((0,J.b)(this.onSuccess),(0,z.K)(n=>this.onFail(n)),(0,J.b)(this.afterUpdate)).subscribe()}hasState(_){return this.currentState===_}showNotification(_,n,i){var r,a;const s=Array.isArray(null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.errors)&&(null===(a=null==i?void 0:i.error)||void 0===a?void 0:a.errors)||[];this.notificationService.showNotification({message:_,messageContext:{errorCode:(s.find(f=>"user.identity.message.IDENTITY_EMAIL_ALREADY_EXISTS"===f.key)||{}).key},modifier:n?"error":"success",ttl:this.configService.notificationDismissTime})}modelToIdentityPut(_){return Object.assign(Object.assign({},this.userDetails),_)}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(q),e.Y36(Ye),e.Y36(G_),e.Y36(V.gq),e.Y36(pt))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-admin-user-details-view"]],viewQuery:function(_,n){if(1&_&&(e.Gf(Lo,5),e.Gf(ue,5)),2&_){let i;e.iGM(i=e.CRH())&&(n.notificationUpdateSuccessTemplate=i.first),e.iGM(i=e.CRH())&&(n.notificationFailureTemplate=i.first)}},decls:13,vars:11,consts:function(){let o,_,n,i,r,a,s,f,C,M,D,U,N,W,H,y,Y,ee,_e,te;return o="User details",_="Loading...",n=" Username ",i=" Manage ",r=" Date created ",a=" Manage ",s=" Full name ",f=" Manage ",C=" Email address ",M="Verified",D="Unverified",U=" Manage ",N=" Mobile number ",W=" Manage ",H=" Not provided ",y=" Legal entity ",Y=" Manage ",ee=" Changes saved successfully ",_e=" An Identity with this email already exists. ",te=" Something went wrong. Please try again or contact support if the issue persists ",[[1,"card","bb-block","bb-block--lg"],["headingType","h2","data-role","admin-user-details-title","heading",o,1,"card-header"],["text",_,4,"ngIf"],["class","bb-state-container",3,"error",4,"ngIf"],[4,"ngIf"],["notificationUpdateSuccess",""],["notificationFailure",""],["text",_],[1,"bb-state-container",3,"error"],[4,"ngIf","ngIfElse"],["manageFullName",""],[1,"card-section"],[1,"bb-stack"],[1,"bb-stack__item","bb-stack__item--fill"],[1,"bb-stack","bb-stack--wrap"],[1,"bb-text-bold","bb-stack__item"],n,[1,"bb-stack__break","bb-stack__break--sm-down"],["data-role","admin-user-details-username",1,"bb-stack__item","bb-stack__item--fill","bb-text-align-right","bb-text-align-left--sm-down","break-word"],["bbButton","","data-role","admin-user-details-username-manage","buttonSize","sm","color","link",1,"bb-stack__item","invisible"],i,["manageEmailAddress",""],["manageMobileNumber",""],["class","card-section",4,"ngIf"],r,["data-role","admin-user-details-date-created",1,"bb-stack__item","bb-stack__item--fill","bb-text-align-right","bb-text-align-left--sm-down","break-word"],["bbButton","","data-role","admin-user-details-date-created-manage","buttonSize","sm","color","link",1,"bb-stack__item","invisible"],a,[1,"bb-stack__item","bb-text-bold"],s,["data-role","admin-user-details-full-name",1,"bb-stack__item","bb-stack__item--fill","bb-text-align-right","bb-text-align-left--sm-down","break-word"],["bbButton","","data-role","admin-user-details-full-name-manage","color","link","buttonSize","sm",1,"bb-stack__item",3,"disabled","click"],f,[1,"card-section","card-section--highlight"],[3,"givenName","familyName","isSubmitting","saveClick","closeClick"],C,["class","bb-stack__item","color","success","data-role","admin-user-details-verified","text",M,4,"ngIf"],["class","bb-stack__item","color","warning","data-role","admin-user-details-not-verified","text",D,4,"ngIf"],["data-role","admin-user-details-email",1,"bb-stack__item","bb-stack__item--fill","bb-text-align-right","bb-text-align-left--sm-down","break-word"],["bbButton","","data-role","admin-user-details-email-address-manage","color","link","buttonSize","sm",1,"bb-stack__item",3,"disabled","click"],U,["color","success","data-role","admin-user-details-verified","text",M,1,"bb-stack__item"],["color","warning","data-role","admin-user-details-not-verified","text",D,1,"bb-stack__item"],[3,"emailValue","isSubmitting","saveClick","closeClick"],["data-role","admin-user-details-mobile",1,"card-section"],N,["phoneNumberNotProvided",""],["bbButton","","data-role","admin-user-details-mobile-number-manage","color","link","buttonSize","sm",1,"bb-stack__item",3,"disabled","click"],W,[4,"ngIf","ngIfThen","ngIfElse"],["chooseTemplate",""],["inputTemplate",""],["defaultPhoneNumber",""],[4,"ngIf","ngIfThen"],[1,"text-muted"],H,[3,"mobileValue","phoneNumberCountryCode","phoneNumberDebounceTime","enablePhoneNumberFormatter","isSubmitting","saveClick","closeClick"],y,["data-role","admin-user-details-legal-entity",1,"bb-stack__item","bb-stack__item--fill","bb-text-align-right","bb-text-align-left--sm-down","break-word"],["bbButton","","data-role","admin-user-details-legal-entity-manage","buttonSize","sm","color","link",1,"bb-stack__item","invisible"],Y,["data-role","admin-user-details-success-notification"],ee,["data-role","admin-user-details-failure-notification",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],_e,te]},template:function(_,n){1&_&&(e.TgZ(0,"div",0),e._UZ(1,"bb-header-ui",1),e.YNc(2,Fo,1,0,"bb-loading-indicator-ui",2),e.ALo(3,"async"),e.YNc(4,yo,2,3,"bb-common-error-state-ui",3),e.ALo(5,"async"),e.YNc(6,Xo,34,12,"ng-container",4),e.ALo(7,"async"),e.ALo(8,"async"),e.qZA(),e.YNc(9,ei,2,0,"ng-template",null,5,e.W1O),e.YNc(11,ni,3,2,"ng-template",null,6,e.W1O)),2&_&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,3,n.loadingState$$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(5,5,n.loadingErrorState$$)),e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(7,7,n.loadingState$$)&&void 0===e.lcZ(8,9,n.loadingErrorState$$)&&n.userDetails))},directives:[R.G,m.Q,A.v,J_,me.F,x_,W_,d.O5,b.Hq,d.RF,d.n9,d.ED],pipes:[d.Ov,re.X,d.uU],encapsulation:2,changeDetection:0}),t})(),n_=(()=>{class t extends De{constructor(_,n,i,r,a){var s,f;super(_,i,r,a),this.configService=_,this.wrapper=n,this.router=i,this.activatedRoute=r,this.notificationService=a,this.viewState$=(0,p.a)([Ae(this.activatedRoute,(null===(f=null===(s=this.activatedRoute.snapshot)||void 0===s?void 0:s.data)||void 0===f?void 0:f.postalAddressKeyParamName)||"postalAddressKey"),this.wrapper.dataService.getUserProfile$]).pipe((0,v.U)(([C,M])=>{var D;const U=this.originalAddress=null===(D=null==M?void 0:M["postal-addresses"])||void 0===D?void 0:D.find(W=>W.key===C),N=U?void 0:new Se.UA({status:404});return{postalAddress:this.configService.isAddressSearchAutocompleteActive&&U?Object.assign(Object.assign({},It(U)),{key:U.key,type:U.type,primary:U.primary}):U,error:N,loading:!1}}),(0,Ie.O)({loading:!0}),(0,z.K)(C=>(0,w.of)({loading:!1,error:C}))),this.isSaveLoadingSubject$=new O.X(!1)}editAutocompleteAddress(_,n){this.editAddress(_,Object.assign(Object.assign({},E_(n)),{type:n.type,primary:n.primary}))}editPostalAddress(_,n){this.editAddress(_,n)}editAddress(_,n){this.isSaveLoadingSubject$.next(!0),this.wrapper.dataService.updatePostalAddress(_,Object.assign(Object.assign({},this.originalAddress),n)).pipe((0,P.w)(()=>this.wrapper.dataService.getUserProfile()),(0,oe.x)(()=>this.isSaveLoadingSubject$.next(!1))).subscribe({next:()=>{this.showNotification(void 0,this.notificationSuccessHeader),this.navigate(this.configService.onEditAddressSaveSuccessPath)},error:()=>{this.showNotification(this.notificationFailure,void 0,"error")}})}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(q),e.Y36(ae),e.Y36(u.F0),e.Y36(u.gz),e.Y36(V.gq))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-edit-adress-view"]],viewQuery:function(_,n){if(1&_&&(e.Gf(Re,5),e.Gf(ue,5)),2&_){let i;e.iGM(i=e.CRH())&&(n.notificationSuccessHeader=i.first),e.iGM(i=e.CRH())&&(n.notificationFailure=i.first)}},features:[e.qOj],decls:2,vars:3,consts:function(){let o,_,n,i;return o="Back to Personal information",_="Change address",n=" Address changed successfully ",i=" An unexpected error occurred ",[["data-role","user-manage-profile-address-edit-container",4,"ngIf"],["data-role","user-manage-profile-address-edit-container"],["page",o,3,"backClick"],[1,"bb-block","bb-block--lg"],["headingType","h1","data-role","user-profile-edit-address-heading","heading",_],[1,"card"],[1,"card-body"],[3,"error","loading"],[3,"postalAddressRecord","addressTypeOptions","searchAddressDebounceTime","saveLoading","saveClick","cancelClick","formHasChanges",4,"ngIf"],[3,"postalAddressRecord","addressTypeOptions","saveLoading","saveClick","cancelClick","formHasChanges",4,"ngIf"],[3,"modalOpen","cancelModalClick","discardChangesClick"],["notificationSuccessHeader",""],["notificationFailure",""],[3,"postalAddressRecord","addressTypeOptions","searchAddressDebounceTime","saveLoading","saveClick","cancelClick","formHasChanges"],[3,"postalAddressRecord","addressTypeOptions","saveLoading","saveClick","cancelClick","formHasChanges"],["data-role","user-manage-profile-address-edit-success-notification",1,"bb-text-bold"],n,["data-role","user-manage-profile-address-edit-fail-notification"],i]},template:function(_,n){1&_&&(e.YNc(0,si,14,5,"div",0),e.ALo(1,"async")),2&_&&e.Q6J("ngIf",e.lcZ(1,1,n.viewState$))},directives:[se,R.G,ce,Qe,ze,X,d.O5],pipes:[d.Ov],encapsulation:2,changeDetection:0}),t})(),o_=(()=>{class t extends De{constructor(_,n,i,r,a){var s,f;super(_,i,r,a),this.configService=_,this.wrapper=n,this.router=i,this.activatedRoute=r,this.notificationService=a,this.viewState$=(0,p.a)([Ae(this.activatedRoute,(null===(f=null===(s=this.activatedRoute.snapshot)||void 0===s?void 0:s.data)||void 0===f?void 0:f.emailAddressKeyParamName)||"emailAddressKey"),this.wrapper.dataService.getUserProfile$]).pipe((0,v.U)(([C,M])=>{var D;const U=null===(D=null==M?void 0:M["electronic-addresses"])||void 0===D?void 0:D.find(W=>W.key===C);return{emailAddress:U,error:U?void 0:new Se.UA({status:404}),loading:!1}}),(0,Ie.O)({loading:!0}),(0,z.K)(C=>(0,w.of)({loading:!1,error:C}))),this.isSaveLoadingSubject$=new O.X(!1)}editEmailAddress(_,n){this.isSaveLoadingSubject$.next(!0),this.wrapper.dataService.updateEmailAddress(_,n).pipe((0,P.w)(()=>this.wrapper.dataService.getUserProfile()),(0,oe.x)(()=>this.isSaveLoadingSubject$.next(!1))).subscribe({next:()=>{this.showNotification(void 0,this.notificationSuccessHeader),this.navigate(this.configService.onEditEmailSaveSuccessPath)},error:()=>{this.showNotification(this.notificationFailure,void 0,"error")}})}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(q),e.Y36(ae),e.Y36(u.F0),e.Y36(u.gz),e.Y36(V.gq))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-edit-email-view"]],viewQuery:function(_,n){if(1&_&&(e.Gf(Re,5),e.Gf(ue,5)),2&_){let i;e.iGM(i=e.CRH())&&(n.notificationSuccessHeader=i.first),e.iGM(i=e.CRH())&&(n.notificationFailure=i.first)}},features:[e.qOj],decls:2,vars:3,consts:function(){let o,_,n,i;return o="Back to Personal information",_="Change email address",n=" Email changed successfully ",i=" An unexpected error occurred ",[["data-role","user-manage-profile-email-edit-container",4,"ngIf"],["data-role","user-manage-profile-email-edit-container"],["page",o,3,"backClick"],[1,"bb-block","bb-block--lg"],["headingType","h1","data-role","user-profile-edit-email-heading","heading",_],[1,"card"],[1,"card-body"],[3,"error","loading"],[3,"emailAddressRecord","emailTypeOptions","saveLoading","saveClick","cancelClick","formHasChanges",4,"ngIf"],[3,"modalOpen","cancelModalClick","discardChangesClick"],["notificationSuccessHeader",""],["notificationFailure",""],[3,"emailAddressRecord","emailTypeOptions","saveLoading","saveClick","cancelClick","formHasChanges"],["data-role","user-manage-profile-email-edit-success-notification",1,"bb-text-bold"],n,["data-role","user-manage-profile-email-edit-fail-notification"],i]},template:function(_,n){1&_&&(e.YNc(0,ci,13,4,"div",0),e.ALo(1,"async")),2&_&&e.Q6J("ngIf",e.lcZ(1,1,n.viewState$))},directives:[se,R.G,ce,$e,X,d.O5],pipes:[d.Ov],encapsulation:2,changeDetection:0}),t})(),i_=(()=>{class t extends De{constructor(_,n,i,r,a){var s,f;super(_,i,r,a),this.configService=_,this.wrapper=n,this.router=i,this.activatedRoute=r,this.notificationService=a,this.viewState$=(0,p.a)([Ae(this.activatedRoute,(null===(f=null===(s=this.activatedRoute.snapshot)||void 0===s?void 0:s.data)||void 0===f?void 0:f.phoneAddressKeyParamName)||"phoneAddressKey"),this.wrapper.dataService.getUserProfile$]).pipe((0,v.U)(([C,M])=>{var D;const U=null===(D=null==M?void 0:M["phone-addresses"])||void 0===D?void 0:D.find(W=>W.key===C);return{phoneNumber:U,error:U?void 0:new Se.UA({status:404}),loading:!1}}),(0,Ie.O)({loading:!0}),(0,z.K)(C=>(0,w.of)({loading:!1,error:C}))),this.isSaveLoadingSubject$=new O.X(!1)}editPhoneNumber(_,n){this.isSaveLoadingSubject$.next(!0),this.wrapper.dataService.updatePhoneNumber(_,n).pipe((0,P.w)(()=>this.wrapper.dataService.getUserProfile()),(0,oe.x)(()=>this.isSaveLoadingSubject$.next(!1))).subscribe({next:()=>{this.showNotification(void 0,this.notificationSuccessHeader),this.navigate(this.configService.onEditPhoneSaveSuccessPath)},error:()=>{this.showNotification(this.notificationFailure,void 0,"error")}})}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(q),e.Y36(ae),e.Y36(u.F0),e.Y36(u.gz),e.Y36(V.gq))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-edit-phone-view"]],viewQuery:function(_,n){if(1&_&&(e.Gf(Re,5),e.Gf(ue,5)),2&_){let i;e.iGM(i=e.CRH())&&(n.notificationSuccessHeader=i.first),e.iGM(i=e.CRH())&&(n.notificationFailure=i.first)}},features:[e.qOj],decls:2,vars:3,consts:function(){let o,_,n,i;return o="Back to Personal information",_="Change phone address",n=" Phone number changed successfully ",i=" An unexpected error occurred ",[["data-role","user-manage-profile-phone-edit-container",4,"ngIf"],["data-role","user-manage-profile-phone-edit-container"],["page",o,3,"backClick"],[1,"bb-block","bb-block--lg"],["headingType","h1","data-role","user-profile-edit-phone-heading","heading",_],[1,"card"],[1,"card-body"],[3,"error","loading"],[3,"phoneNumberRecord","phoneNumberTypeOptions","saveLoading","enablePhoneNumberFormatter","phoneNumberCountryCode","phoneNumberDebounceTime","saveClick","cancelClick","formHasChanges",4,"ngIf"],[3,"modalOpen","cancelModalClick","discardChangesClick"],["notificationSuccessHeader",""],["notificationFailure",""],[3,"phoneNumberRecord","phoneNumberTypeOptions","saveLoading","enablePhoneNumberFormatter","phoneNumberCountryCode","phoneNumberDebounceTime","saveClick","cancelClick","formHasChanges"],["data-role","user-manage-profile-phone-edit-success-notification",1,"bb-text-bold"],n,["data-role","user-manage-profile-phone-edit-fail-notification"],i]},template:function(_,n){1&_&&(e.YNc(0,mi,13,4,"div",0),e.ALo(1,"async")),2&_&&e.Q6J("ngIf",e.lcZ(1,1,n.viewState$))},directives:[se,R.G,ce,qe,X,d.O5],pipes:[d.Ov],encapsulation:2,changeDetection:0}),t})(),k_=(()=>{class t{constructor(_){this.configService=_}onActivate(){if(this.mainContentDiv){const n=-70,i=window;i.scrollTo({top:this.mainContentDiv.nativeElement.getBoundingClientRect().top+i.scrollY+n})}}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(q))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-user-profile-journey"]],viewQuery:function(_,n){if(1&_&&e.Gf(fi,5),2&_){let i;e.iGM(i=e.CRH())&&(n.mainContentDiv=i.first)}},features:[e._Bn([ae,je,Ye,G_])],decls:3,vars:3,consts:[[3,"ngClass"],[3,"activate"],["mainContent",""]],template:function(_,n){1&_&&(e.TgZ(0,"div",0)(1,"router-outlet",1,2),e.NdJ("activate",function(){return n.onActivate()}),e.qZA()()),2&_&&e.Q6J("ngClass",e.VKq(1,gi,n.configService.hasFixedWidth))},directives:[d.mk,u.lC],encapsulation:2,changeDetection:0}),t})(),H_=(()=>{class t{constructor(){this.alignTop=!1}}return t.\u0275fac=function(_){return new(_||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-profile-item-layout"]],inputs:{alignTop:"alignTop"},ngContentSelectors:Ii,decls:6,vars:2,consts:[[1,"bb-stack","bb-stack--wrap"],[1,"bb-stack__item","bb-stack__item--fill"],[1,"bb-stack__break","bb-stack__break--sm-down"],[1,"bb-stack__item","bb-stack__item--fill","bb-text-align-right","break-word"]],template:function(_,n){1&_&&(e.F$t(Ti),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA(),e._UZ(3,"div",2),e.TgZ(4,"div",3),e.Hsn(5,1),e.qZA()()),2&_&&e.ekj("bb-stack--align-top",n.alignTop)},encapsulation:2,changeDetection:0}),t})(),V_=(()=>{class t{constructor(){this.totalItems=0}}return t.\u0275fac=function(_){return new(_||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-profile-operations"]],inputs:{options:"options",itemRef:"itemRef",ariaLabel:"ariaLabel",totalItems:"totalItems"},decls:2,vars:2,consts:[["data-role","user-manage-profile-manage-button","icon","ellipsis-h","btnColor","secondary","iconSize","lg",3,"btnCircle","ariaLabel"],["bbDropdownMenuItem",""],[4,"ngFor","ngForOf"],["role","menuitem","class","dropdown-item",3,"click",4,"ngIf"],["role","menuitem",1,"dropdown-item",3,"click"]],template:function(_,n){1&_&&(e.TgZ(0,"bb-dropdown-menu-ui",0),e.YNc(1,Ci,1,1,"ng-template",1),e.qZA()),2&_&&e.Q6J("btnCircle",!0)("ariaLabel",n.ariaLabel)},directives:[Ee.N9,Ee.i4,d.sg,d.O5],encapsulation:2,changeDetection:0}),t})(),r_=(()=>{class t{constructor(_,n,i,r,a){this.configService=_,this.router=n,this.activatedRoute=i,this.wrapper=r,this.notificationService=a,this.viewStateSubject$=new O.X(void 0),this.viewState$=this.viewStateSubject$.pipe((0,P.w)(()=>this.wrapper.dataService.getUserProfile$.pipe((0,v.U)(s=>({userProfile:this.sortUserContactListsByPrimary(s),loading:!1,showEmailAddButton:!s["electronic-addresses"]||s["electronic-addresses"].length<this.configService.maxEmailAddresses,showPhoneAddButton:!s["phone-addresses"]||s["phone-addresses"].length<this.configService.maxPhoneNumbers,showAddressAddButton:!s["postal-addresses"]||s["postal-addresses"].length<this.configService.maxPostalAddresses})),(0,Ie.O)({loading:!0,showEmailAddButton:!1,showPhoneAddButton:!1,showAddressAddButton:!1}),(0,z.K)(s=>(0,w.of)({loading:!1,error:s})))),(0,pe.B)()),this.isRemoveEmailLoadingSubject$=new O.X(!1),this.isRemovePhoneLoadingSubject$=new O.X(!1),this.isRemoveAddressLoadingSubject$=new O.X(!1),this.EMAIL_OPTIONS_CONFIG=[{type:"EDIT",label:"Change",action:this.changeEmailAddressClick.bind(this),dataRole:"view-user-profile-email-edit-button"},{type:"REMOVE",label:"Remove",action:this.removeEmailAddressClick.bind(this),dataRole:"view-user-profile-email-delete-button"}],this.PHONE_OPTIONS_CONFIG=[{type:"EDIT",label:"Change",action:this.changePhoneNumberClick.bind(this),dataRole:"view-user-profile-phone-edit-button"},{type:"REMOVE",label:"Remove",action:this.removePhoneNumberClick.bind(this),dataRole:"view-user-profile-phone-delete-button"}],this.ADDRESS_OPTIONS_CONFIG=[{type:"EDIT",label:"Change",action:this.changeAddressClick.bind(this),dataRole:"view-user-profile-address-edit-button"},{type:"REMOVE",label:"Remove",action:this.removeAddressClick.bind(this),dataRole:"view-user-profile-postal-delete-button"}],this.removeEmailAddressContext=null,this.removePhoneNumberContext=null,this.removePostalAddressContext=null,this.emailOptions=this.EMAIL_OPTIONS_CONFIG.filter(s=>this.configService.emailOperationsEnabled.includes(s.type)),this.phoneOptions=this.PHONE_OPTIONS_CONFIG.filter(s=>this.configService.phoneOperationsEnabled.includes(s.type)),this.addressOptions=this.ADDRESS_OPTIONS_CONFIG.filter(s=>this.configService.addressOperationsEnabled.includes(s.type)),this.sortUserContactListsByPrimary=s=>Object.assign(Object.assign({},s),{"electronic-addresses":this.createSortByPrimaryList(s["electronic-addresses"]),"phone-addresses":this.createSortByPrimaryList(s["phone-addresses"]),"postal-addresses":this.createSortByPrimaryList(s["postal-addresses"])})}changeEmailAddressClick(_){this.navigate(this.configService.editEmailPath(_))}changePhoneNumberClick(_){this.navigate(this.configService.editPhonePath(_))}changeAddressClick(_){this.navigate(this.configService.editAddressPath(_))}removeEmailAddressClick(_){this.removeEmailAddressContext=_}removeEmailAddressConfirm(_){this.isRemoveEmailLoadingSubject$.next(!0),this.wrapper.dataService.deleteEmailAddress(_).pipe((0,P.w)(()=>this.wrapper.dataService.getUserProfile()),(0,oe.x)(()=>this.isRemoveEmailLoadingSubject$.next(!1))).subscribe({next:()=>{this.showNotification(void 0,this.removeEmailNotificationSuccessHeader),this.removeEmailAddressContext=null},error:()=>{this.showNotification(this.removeEmailNotificationFailure,void 0,"error")}})}removePhoneNumberClick(_){this.removePhoneNumberContext=_}removePhoneNumberConfirm(_){this.isRemovePhoneLoadingSubject$.next(!0),this.wrapper.dataService.deletePhoneAddress(_).pipe((0,P.w)(()=>this.wrapper.dataService.getUserProfile()),(0,oe.x)(()=>this.isRemovePhoneLoadingSubject$.next(!1))).subscribe({next:()=>{this.showNotification(void 0,this.removePhoneNotificationSuccessHeader),this.removePhoneNumberContext=null},error:()=>{this.showNotification(this.removePhoneNotificationFailure,void 0,"error")}})}removeAddressClick(_){this.removePostalAddressContext=_}removePostalAddressConfirm(_){this.isRemoveAddressLoadingSubject$.next(!0),this.wrapper.dataService.deletePostalAddress(_).pipe((0,P.w)(()=>this.wrapper.dataService.getUserProfile()),(0,oe.x)(()=>this.isRemoveAddressLoadingSubject$.next(!1))).subscribe({next:()=>{this.showNotification(void 0,this.removePostalAddressNotificationSuccessHeader),this.removePostalAddressContext=null},error:()=>{this.showNotification(this.removePostalAddressNotificationFailure,void 0,"error")}})}cancelDeleteModal(){this.removeEmailAddressContext=null,this.removePhoneNumberContext=null,this.removePostalAddressContext=null}navigateEmailPath(){this.navigate(this.configService.addEmailPath)}navigateAddPhonePath(){this.navigate(this.configService.addPhonePath)}navigateAddAddressPath(){this.navigate(this.configService.addAddressPath)}createSortByPrimaryList(_=[]){return[..._].sort(this.sortListByPrimary)}sortListByPrimary(_,n){return _.primary===n.primary?0:_.primary?-1:1}showNotification(_="",n,i){this.notificationService.showNotification({header:n,message:_,modifier:i||"success",ttl:this.configService.notificationDismissTime})}navigate(_){this.router.navigate([_],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(q),e.Y36(u.F0),e.Y36(u.gz),e.Y36(ae),e.Y36(V.gq))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-view-user-profile-view"]],viewQuery:function(_,n){if(1&_&&(e.Gf(bi,5),e.Gf(Bi,5),e.Gf(Oi,5),e.Gf(Ri,5),e.Gf(Di,5),e.Gf(Ui,5)),2&_){let i;e.iGM(i=e.CRH())&&(n.removeEmailNotificationSuccessHeader=i.first),e.iGM(i=e.CRH())&&(n.removeEmailNotificationFailure=i.first),e.iGM(i=e.CRH())&&(n.removePhoneNotificationSuccessHeader=i.first),e.iGM(i=e.CRH())&&(n.removePhoneNotificationFailure=i.first),e.iGM(i=e.CRH())&&(n.removePostalAddressNotificationSuccessHeader=i.first),e.iGM(i=e.CRH())&&(n.removePostalAddressNotificationFailure=i.first)}},decls:29,vars:6,consts:function(){let o,_,n,i,r,a,s,f,C,M,D,U,N,W,H,y,Y,ee,_e,te,g,_t,tt,nt,ot,it,rt,at,st,Et,dt,lt,ct,St;return o="Email address",_="Phone number",n="Address",i=" Personal information ",r="(primary)",a="Modify email menu",s=" Add email address",f=" (primary) ",C="Modify phone number menu",M="Add phone number",D=" (primary) ",U="Modify postal address menu",N="Add address",W="Remove email address?",H="Cancel",y="Remove",Y="This will remove " + "\ufffd0\ufffd" + " from your email addresses",ee="Remove phone number?",_e="Cancel",te="Remove",g="This will remove " + "\ufffd0\ufffd" + " from your phone numbers",_t="Remove address?",tt="This will remove the address from your addresses",nt="Cancel",ot="Remove",it="No email addresses",rt="No phone numbers",at="No addresses",st=" Email removed successfully ",Et=" An unexpected error occurred ",dt=" Phone number removed successfully ",lt=" An unexpected error occurred ",ct=" Address removed successfully ",St=" An unexpected error occurred ",[["data-role","view-user-profile",4,"ngIf"],["removeEmailTemplate",""],[4,"ngIf"],["removePhoneTemplate",""],["removePostalAddressTemplate",""],["emailEmptyState",""],["phoneEmptyState",""],["addressEmptyState",""],["removeEmailNotificationSuccessHeader",""],["removeEmailNotificationFailure",""],["removePhoneNotificationSuccessHeader",""],["removePhoneNotificationFailure",""],["removePostalAddressNotificationSuccessHeader",""],["removePostalAddressNotificationFailure",""],["data-role","view-user-profile"],[3,"error","loading"],["class","bb-block bb-block--lg",4,"ngIf"],[1,"card","bb-block","bb-block--lg"],[1,"card-body"],[1,"bb-block","bb-block--lg"],["headingType","h2","data-role","view-user-profile-header-email","heading",o],[4,"ngIf","ngIfElse"],["class","bb-button-bar bb-button-bar--reverse",4,"ngIf"],["headingType","h2","data-role","view-user-profile-header-phone","heading",_],["headingType","h2","data-role","view-user-profile-header-address","heading",n],["headingType","h1","data-role","user-manage-profile-user-name",3,"heading"],[1,"bb-block","bb-block--sm","bb-subtitle","bb-text-support"],i,[1,"bb-list"],["class","bb-list__item","data-role","view-user-profile-email-item",4,"ngFor","ngForOf"],["role","presentation","class","bb-list__item bb-stack bb-stack--wrap",4,"ngIf"],["data-role","view-user-profile-email-item",1,"bb-list__item"],["left",""],["data-role","view-user-profile-email-item-type",1,"bb-block","bb-block--sm","bb-subtitle","bb-text-support"],["data-role","view-user-profile-email-primary-label",4,"ngIf"],["data-role","view-user-profile-email-item-value"],["right","",4,"ngIf"],["data-role","view-user-profile-email-primary-label"],r,["right",""],["ariaLabel",a,3,"options","itemRef","totalItems"],["role","presentation",1,"bb-list__item","bb-stack","bb-stack--wrap"],[1,"bb-button-bar","bb-button-bar--reverse"],["bbButton","","data-role","user-manage-profile-email-add-button","color","secondary",1,"bb-button-bar__button",3,"click"],["name","create-payment"],s,["class","bb-list__item","data-role","view-user-profile-phone-item",4,"ngFor","ngForOf"],["data-role","view-user-profile-phone-item",1,"bb-list__item"],["data-role","view-user-profile-phone-item-type",1,"bb-block","bb-block--sm","bb-subtitle","bb-text-support"],["data-role","view-user-profile-phone-primary-label",4,"ngIf"],["data-role","view-user-profile-phone-item-value"],["data-role","view-user-profile-phone-primary-label"],f,["ariaLabel",C,3,"options","itemRef","totalItems"],["bbButton","","data-role","user-manage-profile-phone-add-button","color","secondary",1,"bb-button-bar__button",3,"click"],M,["class","bb-list__item","data-role","view-user-profile-address-item",4,"ngFor","ngForOf"],["data-role","view-user-profile-address-item",1,"bb-list__item"],[3,"alignTop"],["data-role","view-user-profile-address-item-type",1,"bb-block","bb-block--sm","bb-subtitle","bb-text-support"],["data-role","view-user-profile-address-primary-label",4,"ngIf"],["data-role","view-user-profile-address-item-value"],["data-role","view-user-profile-address-primary-label"],D,["ariaLabel",U,3,"options","itemRef","totalItems"],["bbButton","","data-role","user-manage-profile-address-add-button","color","secondary",1,"bb-button-bar__button",3,"click"],N,["heading",W,"cancelText",H,"confirmText",y,"confirmStyle","danger",3,"confirmLoading","confirmDisabled","modalOpen","cancelModalClick","confirmActionClick",6,"description"],["description",Y],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["heading",ee,"cancelText",_e,"confirmText",te,"confirmStyle","danger",3,"confirmLoading","confirmDisabled","modalOpen","cancelModalClick","confirmActionClick",6,"description"],["description",g],["heading",_t,"description",tt,"cancelText",nt,"confirmText",ot,"confirmStyle","danger",3,"confirmLoading","confirmDisabled","modalOpen","cancelModalClick","confirmActionClick"],[1,"bb-block","bb-block--md"],["data-role","user-manage-profile-email-empty-state","title",it,3,"showIcon"],["data-role","user-manage-profile-phone-empty-state","title",rt,3,"showIcon"],["data-role","user-manage-profile-address-empty-state","title",at,3,"showIcon"],["data-role","user-manage-profile-email-remove-success-notification",1,"bb-text-bold"],st,["data-role","user-profile-remove-email-error-notification"],Et,["data-role","user-manage-profile-delete-phone-success-notification",1,"bb-text-bold"],dt,["data-role","user-profile-remove-phone-error-notification"],lt,["data-role","user-manage-profile-delete-postal-success-notification",1,"bb-text-bold"],ct,["data-role","user-profile-remove-postal-error-notification"],St]},template:function(_,n){1&_&&(e.YNc(0,ir,22,13,"div",0),e.ALo(1,"async"),e.YNc(2,rr,4,8,"ng-template",null,1,e.W1O),e.YNc(4,Er,2,4,"ng-container",2),e.YNc(5,dr,4,8,"ng-template",null,3,e.W1O),e.YNc(7,Sr,2,4,"ng-container",2),e.YNc(8,ur,3,7,"ng-template",null,4,e.W1O),e.YNc(10,fr,2,4,"ng-container",2),e.YNc(11,gr,2,1,"ng-template",null,5,e.W1O),e.YNc(13,Tr,2,1,"ng-template",null,6,e.W1O),e.YNc(15,Ir,2,1,"ng-template",null,7,e.W1O),e.YNc(17,pr,2,0,"ng-template",null,8,e.W1O),e.YNc(19,Mr,2,0,"ng-template",null,9,e.W1O),e.YNc(21,Cr,2,0,"ng-template",null,10,e.W1O),e.YNc(23,br,2,0,"ng-template",null,11,e.W1O),e.YNc(25,Br,2,0,"ng-template",null,12,e.W1O),e.YNc(27,Or,2,0,"ng-template",null,13,e.W1O)),2&_&&(e.Q6J("ngIf",e.lcZ(1,4,n.viewState$)),e.xp6(4),e.Q6J("ngIf",n.removeEmailAddressContext),e.xp6(3),e.Q6J("ngIf",n.removePhoneNumberContext),e.xp6(3),e.Q6J("ngIf",n.removePostalAddressContext))},directives:[ce,R.G,Z_,H_,V_,K.o,S_,fe.s,d.O5,d.sg,b.Hq,d.tP],pipes:[d.Ov,re.X],encapsulation:2,changeDetection:0}),t})();const Nr=[me.T,b.hJ,Ee.CK,fe.P,A.N,R.O,K.Q,Ce.b,Me.f,be.F,Q.m8,ne.j,k.w,T.C,m.p,re.b,Ze.F];let $_=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[q,re.X],imports:[[d.ez,u.Bz,E.UX,...Nr,Ur,ve],me.T,b.hJ,Ee.CK,fe.P,A.N,R.O,K.Q,Ce.b,Me.f,be.F,Q.m8,ne.j,k.w,T.C,m.p,re.b,Ze.F]}),t})();const q_={path:"",component:k_,children:[{path:"",component:r_},{path:"email/add",component:e_},{path:"email/:emailAddressKey/edit",component:o_},{path:"phone/add",component:__},{path:"phone/:phoneAddressKey/edit",component:i_},{path:"address/add",component:Xe},{path:"address/:postalAddressKey/edit",component:n_},{path:"**",redirectTo:""}]};let vr=(()=>{class t{static forRoot({route:_}={route:q_}){return{ngModule:t,providers:[(0,u.co)([_])]}}}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[q],imports:[[d.ez,u.Bz,$_],u.Bz]}),t})();var hr=c(9635);function Fr(t,o){if(1&t&&e._UZ(0,"bb-input-radio-ui",14),2&t){const _=o.$implicit;e.oxw(3);const n=e.MAs(2);e.Q6J("value",_.value)("labelTemplate",n)("labelTemplateContext",_)}}function yr(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Fr,1,3,"bb-input-radio-ui",13),e.BQk()),2&t){const _=o.ngIf;e.xp6(1),e.Q6J("ngForOf",_)}}function Pr(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"form",2),e.NdJ("submit",function(){return e.CHM(_),e.oxw().save()}),e.TgZ(1,"div",3)(2,"bb-input-radio-group-ui",4),e.YNc(3,yr,2,1,"ng-container",5),e.qZA(),e.TgZ(4,"bb-input-validation-message-ui",6)(5,"span"),e.SDv(6,7),e.qZA()()(),e.TgZ(7,"div",8)(8,"bb-load-button-ui",9),e.SDv(9,10),e.qZA(),e.TgZ(10,"button",11),e.NdJ("click",function(){return e.CHM(_),e.oxw().cancelClick.emit()}),e.SDv(11,12),e.qZA()()()}if(2&t){const _=e.oxw();e.Q6J("formGroup",_.form),e.xp6(2),e.Q6J("preselect",!1)("required",!0),e.xp6(1),e.Q6J("ngIf",_.options.length&&_.options||_.defaultLocalizationOptions),e.xp6(1),e.Q6J("showErrors",_.showLanguageControlError),e.xp6(4),e.Q6J("isLoading",_.saveLoading)}}function wr(t,o){if(1&t&&(e.TgZ(0,"span",15),e._uU(1),e.qZA()),2&t){const _=o.labelTemplateContext;e.Q6J("lang",_.value),e.xp6(1),e.hij(" ",_.label," ")}}const Kr=["notificationChangeLanguageSuccess"],Yr=["notificationChangeLanguageSuccessHeader"],xr=["notificationFailure"];function Jr(t,o){1&t&&(e.TgZ(0,"div",3),e._UZ(1,"bb-alert-ui",14),e.qZA())}function Wr(t,o){1&t&&(e.TgZ(0,"strong",15),e.SDv(1,16),e.qZA())}function Gr(t,o){1&t&&(e.TgZ(0,"span",17),e.SDv(1,18),e.qZA())}function Zr(t,o){1&t&&(e.TgZ(0,"span",19),e.SDv(1,20),e.qZA())}function kr(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"div",1)(1,"bb-identity-back-button",2),e.NdJ("backClick",function(){return e.CHM(_),e.oxw().cancelChangeLanguage()}),e.qZA(),e.TgZ(2,"div",3),e._UZ(3,"bb-header-ui",4),e.qZA(),e.YNc(4,Jr,2,0,"div",5),e.TgZ(5,"div",6)(6,"div",7)(7,"bb-identity-view-state-container-component",8)(8,"bb-user-localization-change-language-form",9),e.NdJ("cancelClick",function(){return e.CHM(_),e.oxw().cancelChangeLanguage()})("saveClick",function(i){return e.CHM(_),e.oxw().saveChanges(i)}),e.ALo(9,"async"),e.qZA()()()(),e.TgZ(10,"bb-identity-discard-modal-component",10),e.NdJ("cancelModalClick",function(){return e.CHM(_),e.oxw().cancelModal()})("discardChangesClick",function(){return e.CHM(_),e.oxw().discardChanges()}),e.qZA(),e.YNc(11,Wr,2,0,"ng-template",null,11,e.W1O),e.YNc(13,Gr,2,0,"ng-template",null,12,e.W1O),e.YNc(15,Zr,2,0,"ng-template",null,13,e.W1O),e.qZA()}if(2&t){const _=o.ngIf,n=e.oxw();e.xp6(4),e.Q6J("ngIf",!_.error),e.xp6(3),e.Q6J("error",_.error)("loading",_.loading),e.xp6(1),e.Q6J("selectedLanguageCode",(null==_.languageRegion?null:_.languageRegion.value)||(null==n.localizationOptions[0]?null:n.localizationOptions[0].value))("options",n.localizationOptions)("saveLoading",e.lcZ(9,7,n.isSaveLoadingSubject$)||!1),e.xp6(2),e.Q6J("modalOpen",n.modalOpen)}}function Hr(t,o){if(1&t&&(e.TgZ(0,"p",19),e.SDv(1,20),e.qZA()),2&t){const _=o.ngIf;e.xp6(1),e.pQV(_),e.QtT(1)}}function Vr(t,o){1&t&&(e.TgZ(0,"p",21),e.SDv(1,22),e.qZA())}function $r(t,o){if(1&t){const _=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){return e.CHM(_),e.oxw(2).changeLanguage()}),e._UZ(1,"bb-icon-ui",24),e.qZA()}2&t&&e.Q6J("circle",!0)}function qr(t,o){if(1&t&&(e.TgZ(0,"div",4)(1,"div",5)(2,"bb-identity-view-state-container-component",6)(3,"div",1),e._UZ(4,"bb-header-ui",7),e.qZA(),e.TgZ(5,"div",8)(6,"div",9)(7,"div",10)(8,"div",11)(9,"p",12),e.SDv(10,13),e.qZA(),e.YNc(11,Hr,2,1,"p",14),e.YNc(12,Vr,2,0,"ng-template",null,15,e.W1O),e.qZA(),e._UZ(14,"div",16),e.TgZ(15,"div",17),e.YNc(16,$r,2,1,"button",18),e.qZA()()()()()()()),2&t){const _=o.ngIf,n=e.MAs(13),i=e.oxw();e.xp6(2),e.Q6J("error",_.error)("loading",_.loading),e.xp6(9),e.Q6J("ngIf",(null==_.languageRegion?null:_.languageRegion.label)||i.getLanguageLabelFor((null==_.languageRegion?null:_.languageRegion.isDefault)&&(null==_.languageRegion?null:_.languageRegion.value)||""))("ngIfElse",n),e.xp6(5),e.Q6J("ngIf",i.showEditableLanguage)}}const Le=new e.OlP("IdentitySelfServiceJourneyConfiguration injection token"),a_=[Object.freeze({label:"English (United States)",value:"en-US"}),Object.freeze({label:"Espa\xF1ol (Estados Unidos)",value:"es-US"})],ia={userManageProfile:Y_,userIdentitySecurityCenter:v_,deviceInformation:m_,userLocalization:{notificationDismissTime:3,localizationOptions:[...a_],showEditableLanguage:!0}};let Fe=(()=>{class t{constructor(_){this.config=((t,o)=>((t,o)=>Object.freeze(o?Object.entries(o).reduce((_,[n,i])=>Object.assign(Object.assign({},_),n in _&&i?{[n]:Object.freeze(d_(_[n],i))}:{}),t):t))(t,o))(ia,_)}get userIdentitySecurityCenter(){return this.config.userIdentitySecurityCenter}get userManageProfile(){return this.config.userManageProfile}get deviceInformation(){return this.config.deviceInformation}get userLocalization(){return this.config.userLocalization}}return t.\u0275fac=function(_){return new(_||t)(e.LFG(Le,8))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sa=(t=[],o)=>t.find(_=>_.value===o)||{isDefault:!0,value:"string"==typeof o?o:void 0,label:""},z_=t=>(0,hr.z)((0,P.w)(()=>t.getUser$.pipe((0,v.U)(o=>({loading:!1,languageRegion:sa(t.config.localizationOptions,o.preferredLanguage)})),(0,Ie.O)({loading:!0}),(0,z.K)(o=>(0,w.of)({loading:!1,error:o})))));let s_=(()=>{class t{constructor(_,n){this.dataService=_,this.configService=n,this.getUserCacheItem=xe(this.dataService.getOwnUser.bind(this.dataService)),this.getUser$=this.getUserCacheItem.state$,this.getUser=this.getUserCacheItem.update,this.defaultLocalizationOptions=a_,this.config=Object.freeze(Object.assign(Object.assign({},this.configService.userLocalization),{notificationDismissTime:1e3*(this.configService.userLocalization.notificationDismissTime||0)}))}updateUser(_){return this.dataService.updateOwnLanguage({updatePreferredLanguage:{preferredLanguage:_.preferredLanguage||""}})}}return t.\u0275fac=function(_){return new(_||t)(e.LFG(G.xh),e.LFG(Fe))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),Q_=(()=>{class t{constructor(_){this.formBuilder=_,this.options=[],this.saveLoading=!1,this.cancelClick=new e.vpe,this.saveClick=new e.vpe,this.ids={languageRegionLabel:l_("language-region")},this.isSubmitted=!1}ngOnInit(){this.form=this.formBuilder.group({languageRegion:[{value:this.selectedLanguageCode,disabled:!1},E.kI.required]})}save(){this.isSubmitted=!0,this.form&&this.form.valid&&this.saveClick.emit({preferredLanguage:this.form.value.languageRegion})}get showLanguageControlError(){return!((this.form||{}).controls||{}).languageRegion.value&&this.isSubmitted}get defaultLocalizationOptions(){return a_}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(E.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-user-localization-change-language-form"]],inputs:{options:"options",selectedLanguageCode:"selectedLanguageCode",saveLoading:"saveLoading"},outputs:{cancelClick:"cancelClick",saveClick:"saveClick"},decls:3,vars:1,consts:function(){let o,_,n,i;return o="Language and region",_=" You must choose a language ",n=" Save changes ",i=" Cancel ",[[3,"formGroup","submit",4,"ngIf"],["radioLabelTemplate",""],[3,"formGroup","submit"],[1,"bb-block","bb-block--lg"],["data-role","user-localization-change-language-form-radio-option-group","formControlName","languageRegion","label",o,3,"preselect","required"],[4,"ngIf"],[3,"showErrors"],_,[1,"bb-button-bar","bb-button-bar--reverse"],["type","submit","data-role","user-localization-change-language-form-save-button",1,"bb-button-bar__button",3,"isLoading"],n,["bbButton","","data-role","user-localization-change-language-form-cancel-button","color","secondary","type","button",1,"bb-button-bar__button",3,"click"],i,[3,"value","labelTemplate","labelTemplateContext",4,"ngFor","ngForOf"],[3,"value","labelTemplate","labelTemplateContext"],[1,"bb-input-radio-group__radio-label",3,"lang"]]},template:function(_,n){1&_&&(e.YNc(0,Pr,12,6,"form",0),e.YNc(1,wr,2,2,"ng-template",null,1,e.W1O)),2&_&&e.Q6J("ngIf",n.form)},directives:[Q.Af,Q.f2,k.d,T.K,d.O5,E._Y,E.JL,E.sg,E.JJ,E.u,E.Q7,d.sg,b.Hq],encapsulation:2,changeDetection:0}),t})(),j_=(()=>{class t{constructor(_,n,i,r){this.userLocalizationService=_,this.router=n,this.notificationService=i,this.activatedRoute=r,this.modalOpen=!1,this.isSaveLoadingSubject$=new O.X(!1),this.viewStateSubject$=new O.X(void 0),this.viewState$=this.viewStateSubject$.pipe(z_(this.userLocalizationService),(0,pe.B)()),this.ids={languageRegionLabel:l_("language-region")}}saveChanges({preferredLanguage:_}){this.isSaveLoadingSubject$.next(!0),this.userLocalizationService.updateUser({preferredLanguage:_}).pipe((0,P.w)(()=>this.userLocalizationService.getUser()),(0,oe.x)(()=>this.isSaveLoadingSubject$.next(!1))).subscribe({next:()=>{this.showNotification(this.notificationChangeLanguageSuccess,this.notificationChangeLanguageSuccessHeader),this.navigateCommunications()},error:()=>{this.showNotification(this.notificationFailure,void 0,"error")}})}cancelChangeLanguage(){this.modalOpen=!0}cancelModal(){this.modalOpen=!1}discardChanges(){this.modalOpen=!1,this.navigateCommunications()}navigateCommunications(){var _,n;this.router.navigate([(null===(n=null===(_=this.activatedRoute.snapshot)||void 0===_?void 0:_.data)||void 0===n?void 0:n.communicationsPath)||"../communications"],{relativeTo:this.activatedRoute})}showNotification(_,n,i){this.notificationService.showNotification({header:n,message:_,modifier:i||"success",ttl:this.userLocalizationService.config.notificationDismissTime})}get localizationOptions(){return this.userLocalizationService.config.localizationOptions}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(s_),e.Y36(u.F0),e.Y36(V.gq),e.Y36(u.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-user-localization-change-language-view"]],viewQuery:function(_,n){if(1&_&&(e.Gf(Kr,5),e.Gf(Yr,5),e.Gf(xr,5)),2&_){let i;e.iGM(i=e.CRH())&&(n.notificationChangeLanguageSuccess=i.first),e.iGM(i=e.CRH())&&(n.notificationChangeLanguageSuccessHeader=i.first),e.iGM(i=e.CRH())&&(n.notificationFailure=i.first)}},decls:2,vars:3,consts:function(){let o,_,n,i,r,a;return o="Back to Communications",_="Change language and region",n="This only affects external communication including emails, SMS and push notifications.",i=" Language and region changed successfully ",r=" All future emails, SMS and push notification will use your new language and region. ",a=" An unexpected error occurred ",[["data-role","user-localization-change-language",4,"ngIf"],["data-role","user-localization-change-language"],["page",o,3,"backClick"],[1,"bb-block","bb-block--lg"],["headingType","h1","data-role","user-localization-change-language-header","heading",_],["class","bb-block bb-block--lg",4,"ngIf"],[1,"card"],[1,"card-body"],[3,"error","loading"],[3,"selectedLanguageCode","options","saveLoading","cancelClick","saveClick"],[3,"modalOpen","cancelModalClick","discardChangesClick"],["notificationChangeLanguageSuccessHeader",""],["notificationChangeLanguageSuccess",""],["notificationFailure",""],["modifier","info","title",n],["data-role","user-localization-success-notification-header"],i,["data-role","user-localization-success-notification"],r,["data-role","user-localization-error-notification"],a]},template:function(_,n){1&_&&(e.YNc(0,kr,17,9,"div",0),e.ALo(1,"async")),2&_&&e.Q6J("ngIf",e.lcZ(1,1,n.viewState$))},directives:[se,R.G,Te.w,ce,Q_,X,d.O5],pipes:[d.Ov],encapsulation:2}),t})(),X_=(()=>{class t{constructor(_,n,i){this.router=_,this.userLocalizationService=n,this.activatedRoute=i,this.viewStateSubject$=new O.X(void 0),this.viewState$=this.viewStateSubject$.pipe(z_(this.userLocalizationService),(0,pe.B)())}changeLanguage(){var _,n;this.router.navigate([(null===(n=null===(_=this.activatedRoute.snapshot)||void 0===_?void 0:_.data)||void 0===n?void 0:n.changeLanguagePath)||"../change-language"],{relativeTo:this.activatedRoute})}getLanguageLabelFor(_){var n;return null===(n=this.userLocalizationService.defaultLocalizationOptions.find(i=>i.value===_))||void 0===n?void 0:n.label}get showEditableLanguage(){return this.userLocalizationService.config.showEditableLanguage}}return t.\u0275fac=function(_){return new(_||t)(e.Y36(u.F0),e.Y36(s_),e.Y36(u.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-user-localization-communications-view"]],decls:5,vars:3,consts:function(){let o,_,n,i,r,a;return o="Communications",_="External communications",n=" Language and region ",i="Change your language and region",r=" " + "\ufffd0\ufffd" + " ",a=" No language selected. ",[["data-role","user-localization-communications"],[1,"bb-block","bb-block--lg"],["headingType","h1","data-role","user-localization-communications-header","heading",o],["class","card",4,"ngIf"],[1,"card"],[1,"card-body"],[3,"error","loading"],["headingType","h2","data-role","user-localization-communications-header-external","heading",_],["data-role","user-localization-communications-item",1,"bb-stack"],[1,"bb-stack__item","bb-stack__item--fill"],[1,"bb-stack","bb-stack--wrap"],[1,"bb-stack__item"],[1,"bb-block","bb-block--sm","bb-subtitle","bb-text-support"],n,["data-role","user-localization-communications-chosen-label",4,"ngIf","ngIfElse"],["noSelectedLabel",""],[1,"bb-stack__break","bb-stack__break--sm-down"],[1,"bb-stack__item","bb-stack__item--fill","bb-text-align-right","bb-text-align-left--sm-down","break-word"],["bbButton","","data-role","user-localization-communications-edit-button","aria-label",i,"type","button","color","secondary",3,"circle","click",4,"ngIf"],["data-role","user-localization-communications-chosen-label"],r,["data-role","user-localization-communications-default-label"],a,["bbButton","","data-role","user-localization-communications-edit-button","aria-label",i,"type","button","color","secondary",3,"circle","click"],["name","edit","size","md","color","info"]]},template:function(_,n){1&_&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"bb-header-ui",2),e.qZA(),e.YNc(3,qr,17,5,"div",3),e.ALo(4,"async"),e.qZA()),2&_&&(e.xp6(3),e.Q6J("ngIf",e.lcZ(4,1,n.viewState$)))},directives:[R.G,ce,K.o,d.O5,b.Hq],pipes:[d.Ov],encapsulation:2}),t})(),et=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-user-localization"]],features:[e._Bn([s_])],decls:1,vars:0,template:function(_,n){1&_&&e._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2,changeDetection:0}),t})();const le={editValue:"",paramMap:(0,w.of)(null).pipe((0,P.w)(()=>(0,w.of)({params:{emailAddressKey:le.editValue,phoneAddressKey:le.editValue,postalAddressKey:le.editValue}})))};let da=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.ez,ve]]}),t})();const la=[R.O,K.Q,b.hJ,T.C,Te.n,Q.m8,S.zk,V.PQ,k.w];let ca=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.ez,E.UX,u.Bz,...la,ve,da,b_,$_,L_],u.Bz]}),t})();const Sa={path:"",component:(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bb-identity-self-service-journey"]],decls:1,vars:0,consts:[["data-role","user-context-routable-tab-set"]],template:function(_,n){1&_&&e._UZ(0,"bb-routable-tab-set",0)},directives:[c_],encapsulation:2,changeDetection:0}),t})(),children:[{path:"",redirectTo:"profile",pathMatch:"full"},{path:"profile",data:{title:"Profile"},children:[q_]},{path:"user-localization",data:{title:"Localization"},component:et,children:[{path:"",redirectTo:"communications",pathMatch:"full"},{path:"communications",component:X_},{path:"change-language",component:j_}]},{path:"login-security",data:{title:"Login & Security"},children:[F_]},{path:"devices",data:{title:"Devices"},children:[B_]}]},ua=t=>Object.assign({hasFixedWidth:!1},(null==t?void 0:t.userManageProfile)||{}),Aa=t=>Object.assign({hasFixedWidth:!1},(null==t?void 0:t.userIdentitySecurityCenter)||{}),ma=t=>Object.assign({hasFixedWidth:!1},(null==t?void 0:t.deviceInformation)||{});let fa=(()=>{class t{static forRoot(_={route:Sa}){return{ngModule:t,providers:[(0,u.co)([_.route])]}}}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[Fe,{provide:K_,useFactory:ua,deps:[[new e.FiY,Le]]},{provide:N_,useFactory:Aa,deps:[[new e.FiY,Le]]},{provide:A_,useFactory:ma,deps:[[new e.FiY,Le]]}],imports:[[d.ez,u.Bz,ve,ca,qn,vr,Dn],u.Bz]}),t})();const ga={provide:Le,useValue:{userManageProfile:{maxEmailAddresses:2,maxPhoneNumbers:3,maxPostalAddresses:1,isAddressSearchAutocompleteActive:!0}}};let Ta=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[ga],imports:[[fa.forRoot()]]}),t})()},3601:(Ne,j,c)=>{"use strict";c.d(j,{e:()=>P});var d=c(4986),e=c(4482),u=c(8421),G=c(5403),J=c(2805);function P(w,v=d.P){return function O(w){return(0,e.e)((v,p)=>{let h=!1,F=null,b=null,K=!1;const R=()=>{if(null==b||b.unsubscribe(),b=null,h){h=!1;const A=F;F=null,p.next(A)}K&&p.complete()},S=()=>{b=null,K&&p.complete()};v.subscribe(new G.Q(p,A=>{h=!0,F=A,b||(0,u.Xf)(w(A)).subscribe(b=new G.Q(p,R,S))},()=>{K=!0,(!h||!b||b.closed)&&p.complete()}))})}(()=>(0,J.H)(w,v))}},6406:(Ne,j,c)=>{"use strict";c.d(j,{Z:()=>P});var d=c(4408),e=c(727);const u={schedule(v){let p=requestAnimationFrame,h=cancelAnimationFrame;const{delegate:F}=u;F&&(p=F.requestAnimationFrame,h=F.cancelAnimationFrame);const b=p(K=>{h=void 0,v(K)});return new e.w0(()=>null==h?void 0:h(b))},requestAnimationFrame(...v){const{delegate:p}=u;return((null==p?void 0:p.requestAnimationFrame)||requestAnimationFrame)(...v)},cancelAnimationFrame(...v){const{delegate:p}=u;return((null==p?void 0:p.cancelAnimationFrame)||cancelAnimationFrame)(...v)},delegate:void 0};var O=c(7565);const P=new class J extends O.v{flush(p){this._active=!0,this._scheduled=void 0;const{actions:h}=this;let F,b=-1;p=p||h.shift();const K=h.length;do{if(F=p.execute(p.state,p.delay))break}while(++b<K&&(p=h.shift()));if(this._active=!1,F){for(;++b<K&&(p=h.shift());)p.unsubscribe();throw F}}}(class G extends d.o{constructor(p,h){super(p,h),this.scheduler=p,this.work=h}requestAsyncId(p,h,F=0){return null!==F&&F>0?super.requestAsyncId(p,h,F):(p.actions.push(this),p._scheduled||(p._scheduled=u.requestAnimationFrame(()=>p.flush(void 0))))}recycleAsyncId(p,h,F=0){if(null!=F&&F>0||null==F&&this.delay>0)return super.recycleAsyncId(p,h,F);0===p.actions.length&&(u.cancelAnimationFrame(h),p._scheduled=void 0)}})},3101:(Ne,j,c)=>{"use strict";c.d(j,{E:()=>K});var d=c(4408);let u,e=1;const G={};function O(S){return S in G&&(delete G[S],!0)}const J={setImmediate(S){const A=e++;return G[A]=!0,u||(u=Promise.resolve()),u.then(()=>O(A)&&S()),A},clearImmediate(S){O(S)}},{setImmediate:w,clearImmediate:v}=J,p={setImmediate(...S){const{delegate:A}=p;return((null==A?void 0:A.setImmediate)||w)(...S)},clearImmediate(S){const{delegate:A}=p;return((null==A?void 0:A.clearImmediate)||v)(S)},delegate:void 0};var F=c(7565);const K=new class b extends F.v{flush(A){this._active=!0,this._scheduled=void 0;const{actions:m}=this;let T,ie=-1;A=A||m.shift();const B=m.length;do{if(T=A.execute(A.state,A.delay))break}while(++ie<B&&(A=m.shift()));if(this._active=!1,T){for(;++ie<B&&(A=m.shift());)A.unsubscribe();throw T}}}(class h extends d.o{constructor(A,m){super(A,m),this.scheduler=A,this.work=m}requestAsyncId(A,m,T=0){return null!==T&&T>0?super.requestAsyncId(A,m,T):(A.actions.push(this),A._scheduled||(A._scheduled=p.setImmediate(A.flush.bind(A,void 0))))}recycleAsyncId(A,m,T=0){if(null!=T&&T>0||null==T&&this.delay>0)return super.recycleAsyncId(A,m,T);0===A.actions.length&&(p.clearImmediate(m),A._scheduled=void 0)}})},2591:()=>{},4291:(Ne,j,c)=>{"use strict";c.d(j,{F:()=>ie,W:()=>T});var d=c(9808),e=c(5e3),u=c(4376),G=c(9287),O=c(3075),J=c(9144),P=c(4483),w=c(5413),v=c(3203);const p=["inputPhone"];function h(B,Z){if(1&B&&(e.TgZ(0,"label",6),e._uU(1),e.qZA()),2&B){const l=e.oxw();e.s9C("for",l.id),e.xp6(1),e.Oqu(l.label)}}function F(B,Z){if(1&B&&(e._UZ(0,"i",12),e.ALo(1,"countryFlag"),e._uU(2)),2&B){const l=Z.item;e.Q6J("ngClass",e.lcZ(1,2,l.isoCode)),e.xp6(2),e.hij(" ",l.countryCode," ")}}function b(B,Z){if(1&B){const l=e.EpF();e.TgZ(0,"bb-search-box-ui",13),e.NdJ("clear",function(){return e.CHM(l),e.oxw(2).onClear()})("valueChange",function(x){return e.CHM(l),e.oxw(2).onFilterChange(x)}),e.qZA(),e.TgZ(1,"div",14),e.SDv(2,15),e.qZA()}if(2&B){const l=e.oxw(2);e.Q6J("showSearch",!0)("showClear",!0)("autofocus",!0)("aria-controls",l.statusId)("aria-expanded",null==l.ngSelect?null:l.ngSelect.isOpen)("aria-owns",null!=l.ngSelect&&l.ngSelect.isOpen?null==l.ngSelect?null:l.ngSelect.dropdownId:null)("aria-activedescendant",null!=l.ngSelect&&l.ngSelect.isOpen?null==l.ngSelect||null==l.ngSelect.itemsList||null==l.ngSelect.itemsList.markedItem?null:l.ngSelect.itemsList.markedItem.htmlId:null),e.xp6(1),e.Q6J("id",l.statusId),e.xp6(1),e.pQV(l.resultCount),e.QtT(2)}}function K(B,Z){1&B&&e._UZ(0,"bb-icon-ui",21)}function R(B,Z){if(1&B&&(e.TgZ(0,"div",16),e._UZ(1,"i",17),e.ALo(2,"countryFlag"),e.TgZ(3,"span",18),e._uU(4),e.qZA(),e._uU(5,"\xa0 "),e.TgZ(6,"span",19),e._uU(7),e.qZA(),e.YNc(8,K,1,0,"bb-icon-ui",20),e.qZA()),2&B){const l=Z.item,I=Z.index,x=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.lcZ(2,4,l.isoCode)),e.xp6(3),e.Oqu(l.countryCode),e.xp6(3),e.Oqu(l.countryName),e.xp6(1),e.Q6J("ngIf",null==x.ngSelect?null:x.ngSelect.itemsList.items[I].selected)}}function S(B,Z){if(1&B){const l=e.EpF();e.TgZ(0,"ng-select",7,8),e.NdJ("change",function(x){return e.CHM(l),e.oxw().onChanges(x)})("close",function(){return e.CHM(l),e.oxw().onClose()})("ngModelChange",function(x){return e.CHM(l),e.oxw().defaultCountryCode=x}),e.YNc(2,F,3,4,"ng-template",9),e.YNc(3,b,3,9,"ng-template",10),e.YNc(4,R,9,6,"ng-template",11),e.qZA()}if(2&B){const l=e.oxw();e.Q6J("dropdownPosition",l.dropdownPosition)("clearable",l.clearable)("searchable",l.searchable)("items",l.countryList)("ngModel",l.defaultCountryCode)("searchFn",l.searchFunc)("readonly",l.countryDropdowndisabled),e.uIk("aria-label",l.defaultCountryCode+" "+l.defaultCountryName)}}function A(B,Z){if(1&B&&(e.TgZ(0,"div",22)(1,"span"),e.SDv(2,23),e.qZA(),e._uU(3),e.TgZ(4,"span"),e.SDv(5,24),e.qZA(),e._uU(6),e.qZA()),2&B){const l=e.oxw();e.MGl("id","",l.id,"-country-code"),e.xp6(3),e.hij("",l.defaultCountryName," "),e.xp6(3),e.hij("",l.defaultCountryCode," ")}}let m=(()=>{class B{transform(l){return"flag-icon-"+l.toLowerCase()}}return B.\u0275fac=function(l){return new(l||B)},B.\u0275pipe=e.Yjl({name:"countryFlag",type:B,pure:!0}),B})(),T=(()=>{class B extends J.rA{constructor(l,I,x,$){super($),this.domAttrService=l,this.elem=I,this.renderer2=x,this.cd=$,this.placeholder="",this.readonly=!1,this.ariaLabel="Phone Input",this.clearable=!1,this.searchable=!1,this.enableCountryCode=!1,this.resultCount=0,this._statusId=this.domAttrService.generateId()}get statusId(){return this._statusId}constructCountryData(){if(this.enableCountryCode&&this.countryList)if(this.countryDropdowndisabled=1===this.countryList.length,this.countryDropdowndisabled)this.defaultCountryCode=this.countryList[0].countryCode,this.defaultCountryName=this.countryList[0].countryName;else{const l=this.countryList.find(I=>I.isoCode===this.defaultCountryIsoCode);this.defaultCountryCode=null==l?void 0:l.countryCode,this.defaultCountryName=null==l?void 0:l.countryName}}ngAfterViewInit(){this.ariaLabel||this.domAttrService.moveAriaAttributes(this.elem.nativeElement,this.inputEl&&this.inputEl.nativeElement,this.renderer2),this.constructCountryData()}onChanges(l){this.defaultCountryName=l.countryName}onClose(){this.ngSelect&&!this.ngSelect.isOpen&&this.ngSelect.constructor.prototype.focus.call(this.ngSelect)}onClear(){this.onFilterChange(void 0)}onFilterChange(l){this.ngSelect&&this.ngSelect.filter(l||""),this.updateResultCount()}updateResultCount(){var l;this.resultCount=(null===(l=this.ngSelect)||void 0===l?void 0:l.itemsList.filteredItems.filter(({children:I})=>!I).length)||0}searchFunc(l,I){return l=l.toLocaleLowerCase(),I.countryCode.toLocaleLowerCase().indexOf(l)>-1||I.countryName.toLocaleLowerCase().indexOf(l)>-1||I.isoCode.toLocaleLowerCase().indexOf(l)>-1}}return B.\u0275fac=function(l){return new(l||B)(e.Y36(P.JE),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO))},B.\u0275cmp=e.Xpm({type:B,selectors:[["bb-input-phone-ui"]],viewQuery:function(l,I){if(1&l&&(e.Gf(p,5),e.Gf(u.w9,5)),2&l){let x;e.iGM(x=e.CRH())&&(I.inputEl=x.first),e.iGM(x=e.CRH())&&(I.ngSelect=x.first)}},inputs:{placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",readonly:"readonly",ariaLabel:"ariaLabel",autocomplete:"autocomplete",countryList:"countryList",dropdownPosition:"dropdownPosition",clearable:"clearable",searchable:"searchable",defaultCountryIsoCode:"defaultCountryIsoCode",enableCountryCode:"enableCountryCode"},features:[e._Bn([{provide:O.JU,useExisting:(0,e.Gpc)(()=>B),multi:!0}]),e.qOj],decls:6,vars:25,consts:function(){let Z,l,I,x;return Z="Search",l=" " + "\ufffd0\ufffd" + " options ",I="Selected Country is ",x="and code is ",[[3,"for",4,"ngIf"],[1,"bb-phone"],["bindLabel","countryCode","bindValue","countryCode","class","bb-phone-country-code",3,"dropdownPosition","clearable","searchable","items","ngModel","searchFn","readonly","change","close","ngModelChange",4,"ngIf"],["type","tel",1,"form-control",3,"id","ngModel","disabled","readOnly","placeholder","required","bbFocus","ngClass","ngModelChange","blur","focus"],["inputPhone",""],["class","sr-only",3,"id",4,"ngIf"],[3,"for"],["bindLabel","countryCode","bindValue","countryCode",1,"bb-phone-country-code",3,"dropdownPosition","clearable","searchable","items","ngModel","searchFn","readonly","change","close","ngModelChange"],["countryCodeSelector",""],["ng-label-tmp",""],["ng-header-tmp",""],["ng-option-tmp",""],["aria-hidden","true",1,"flag-icon",3,"ngClass"],["placeholder",Z,3,"showSearch","showClear","autofocus","aria-controls","aria-expanded","aria-owns","aria-activedescendant","clear","valueChange"],["aria-live","polite","aria-atomic","true","role","status",1,"sr-only",3,"id"],l,[1,"dropdown-option-item"],["aria-hidden","true",1,"flag-icon","col-md-1",3,"ngClass"],[1,"col-md-3","pr-0"],[1,"col-md-6","px-0","dropdown-option-item__country-name"],["class","col-md-2 px-0","name","check","color","color-neutral-dark",4,"ngIf"],["name","check","color","color-neutral-dark",1,"col-md-2","px-0"],[1,"sr-only",3,"id"],I,x]},template:function(l,I){1&l&&(e.YNc(0,h,2,2,"label",0),e.TgZ(1,"div",1),e.YNc(2,S,5,8,"ng-select",2),e.TgZ(3,"input",3,4),e.NdJ("ngModelChange",function($){return I.onValueChange($)})("blur",function(){return I.onBlur()})("focus",function(){return I.onFocus()}),e.qZA(),e.YNc(5,A,7,3,"div",5),e.qZA()),2&l&&(e.Q6J("ngIf",I.label),e.xp6(2),e.Q6J("ngIf",I.enableCountryCode),e.xp6(1),e.s9C("id",I.id),e.Q6J("ngModel",I.value)("disabled",I.disabled)("readOnly",I.readonly)("placeholder",I.placeholder)("required",I.required)("bbFocus",I.autofocus)("ngClass",I.inputClassName),e.uIk("aria-autocomplete",I.ariaAutocomplete)("aria-controls",I.ariaControls)("aria-describedby",I.ariaDescribedby?I.ariaDescribedby:I.id+"-country-code")("aria-labelledby",I.ariaLabelledby)("aria-expanded",I.ariaExpanded)("aria-activedescendant",I.ariaActivedescendant)("role",I.role)("aria-invalid",I.ariaInvalid)("aria-owns",I.ariaOwns)("aria-label",!I.label&&I.ariaLabel||null)("maxlength",I.maxLength)("minlength",I.minLength)("size",I.size)("autocomplete",I.autocomplete),e.xp6(2),e.Q6J("ngIf",!I.ariaDescribedby&&I.countryDropdowndisabled))},directives:[u.w9,w.B,G.o,d.O5,O.JJ,O.On,u.mR,d.mk,u.Cm,u.ir,O.Fj,O.Q7,O.nD,O.wO,v.R],pipes:[m],encapsulation:2,changeDetection:0}),B})(),ie=(()=>{class B{}return B.\u0275fac=function(l){return new(l||B)},B.\u0275mod=e.oAB({type:B}),B.\u0275inj=e.cJS({imports:[[d.ez,G.Q,O.u5,J.$B,v.J,u.A0,w.F]]}),B})()},7504:(Ne,j,c)=>{"use strict";c.d(j,{Af:()=>K,f2:()=>b,m8:()=>R});var d=c(9808),e=c(5e3),u=c(3075),G=c(9144),O=c(7656);function J(S,A){if(1&S&&(e.TgZ(0,"legend",4),e._uU(1),e.qZA()),2&S){const m=e.oxw();e.xp6(1),e.Oqu(m.label)}}function P(S,A){if(1&S&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&S){const m=e.oxw().$implicit;e.xp6(1),e.hij(" ",m.label," ")}}function w(S,A){1&S&&e.GkF(0)}const v=function(S){return{labelTemplateContext:S}};function p(S,A){if(1&S&&(e.ynx(0),e.YNc(1,w,1,0,"ng-container",10),e.BQk()),2&S){const m=e.oxw().$implicit;e.xp6(1),e.Q6J("ngTemplateOutlet",m.labelTemplate)("ngTemplateOutletContext",e.VKq(2,v,m.labelTemplateContext))}}function h(S,A){if(1&S&&(e.TgZ(0,"label",5),e._UZ(1,"input",6),e.YNc(2,P,2,1,"span",7),e.YNc(3,p,2,4,"ng-container",8),e.qZA()),2&S){const m=A.$implicit,T=e.oxw();e.ekj("selected",T.val===m.value),e.Q6J("ngClass","bb-input-radio-group__radio--vertical-align-"+T.verticalAlign),e.uIk("data-role","radio-group-option"),e.xp6(1),e.s9C("name",T.name),e.Q6J("value",m.value)("readOnly",T.readonly)("required",T.required)("disabled",T.disabled||m.disabled),e.uIk("aria-label",m.ariaLabel)("aria-labelledby",m.ariaLabelledby)("aria-describedby",m.ariaDescribedby)("aria-expanded",m.ariaExpanded)("role",m.role)("aria-invalid",m.ariaInvalid)("aria-owns",m.ariaOwns),e.xp6(1),e.Q6J("ngIf",m.label),e.xp6(1),e.Q6J("ngIf",!m.label)}}const F=function(S){return{"bb-input-radio-group__list--horizontal":S}};let b=(()=>{class S{constructor(){this.disabled=!1}}return S.\u0275fac=function(m){return new(m||S)},S.\u0275cmp=e.Xpm({type:S,selectors:[["bb-input-radio-ui"]],inputs:{labelTemplate:"labelTemplate",labelTemplateContext:"labelTemplateContext",value:"value",label:"label",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],role:"role",ariaActivedescendant:["aria-activedescendant","ariaActivedescendant"],ariaExpanded:["aria-expanded","ariaExpanded"],ariaInvalid:["aria-invalid","ariaInvalid"],ariaOwns:["aria-owns","ariaOwns"],disabled:"disabled"},decls:0,vars:0,template:function(m,T){},encapsulation:2}),S})(),K=(()=>{class S extends G.rA{constructor(m){super(m),this.cd=m,this.horizontal=!1,this.preselect=!0,this.verticalAlign="middle",this.isComponentDestroyed=!1}ngAfterContentInit(){!this.preselect||setTimeout(()=>{!this.val&&this.radios&&this.radios.first&&(this.val=this.radios.first.value)})}writeValue(m){super.writeValue(m),this.isComponentDestroyed||this.cd.detectChanges()}set val(m){this.value=m,this.onChange(this.value)}get val(){return this.value}trackByFn(m,T){return T.value}ngOnDestroy(){this.isComponentDestroyed=!0}}return S.\u0275fac=function(m){return new(m||S)(e.Y36(e.sBO))},S.\u0275cmp=e.Xpm({type:S,selectors:[["bb-input-radio-group-ui"]],contentQueries:function(m,T,ie){if(1&m&&e.Suo(ie,b,4),2&m){let B;e.iGM(B=e.CRH())&&(T.radios=B)}},inputs:{horizontal:"horizontal",preselect:"preselect",name:"name",verticalAlign:"verticalAlign"},features:[e._Bn([{provide:u.JU,useExisting:(0,e.Gpc)(()=>S),multi:!0}]),e.qOj],decls:4,vars:10,consts:[["ngbRadioGroup","",1,"bb-input-radio-group",3,"ngModel","ngModelChange"],["class","bb-input-radio-group__label",4,"ngIf"],[1,"bb-input-radio-group__list",3,"ngClass"],["ngbButtonLabel","","class","bb-input-radio-group__radio",3,"selected","ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bb-input-radio-group__label"],["ngbButtonLabel","",1,"bb-input-radio-group__radio",3,"ngClass"],["type","radio","ngbButton","",1,"bb-input-radio-group__input",3,"name","value","readOnly","required","disabled"],["class","bb-input-radio-group__radio-label",4,"ngIf"],[4,"ngIf"],[1,"bb-input-radio-group__radio-label"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(m,T){1&m&&(e.TgZ(0,"fieldset",0),e.NdJ("ngModelChange",function(B){return T.val=B}),e.YNc(1,J,2,1,"legend",1),e.TgZ(2,"div",2),e.YNc(3,h,4,18,"label",3),e.qZA()()),2&m&&(e.Q6J("ngModel",T.val),e.uIk("aria-describedby",T.ariaDescribedby)("aria-label",T.ariaLabel)("aria-labelledby",T.ariaLabelledby),e.xp6(1),e.Q6J("ngIf",T.label),e.xp6(1),e.Q6J("ngClass",e.VKq(8,F,T.horizontal)),e.xp6(1),e.Q6J("ngForOf",T.radios)("ngForTrackBy",T.trackByFn))},directives:[O.py,u.JJ,u.On,d.O5,d.mk,d.sg,O.mL,O.aB,d.tP],encapsulation:2}),S})(),R=(()=>{class S{}return S.\u0275fac=function(m){return new(m||S)},S.\u0275mod=e.oAB({type:S}),S.\u0275inj=e.cJS({imports:[[d.ez,O.xZ,u.u5]]}),S})()}}]);