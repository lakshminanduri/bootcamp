(self.webpackChunkretail_usa=self.webpackChunkretail_usa||[]).push([[9623],{1686:(ee,W,c)=>{"use strict";c.r(W),c.d(W,{CardsManagementJourneyBundleModule:()=>No});var N=c(7420),a=c(9808),e=c(5e3),u=c(3075),h=c(6888),w=c(7555),H=c(3533),b=c(7605),y=c(5622),T=c(3203),L=c(9287),m=c(5612),g=c(8519),B=c(7504),d=c(8639),S=c(7287),C=c(4951),E=c(429),f=c(4265),Y=c(5556),D=(()=>{return(n=D||(D={})).Success="SUCCESS",n.Pending="PENDING",n.Failed="FAILED",D;var n})(),J=(()=>{return(n=J||(J={})).Lost="LOST",n.Stolen="STOLEN",n.Damaged="DAMAGED",J;var n})(),s=(()=>{return(n=s||(s={})).Active="ACTIVE",n.Inactive="INACTIVE",n.Canceled="CANCELED",n.Expired="EXPIRED",s;var n})(),p=(()=>{return(n=p||(p={})).NotUnderReplacement="NOT_UNDER_REPLACEMENT",n.UnderReplacement="UNDER_REPLACEMENT",n.Replaced="REPLACED",p;var n})(),U=(()=>{return(n=U||(U={})).Locked="LOCKED",n.Unlocked="UNLOCKED",U;var n})();const A={Active:s.Active,Inactive:s.Inactive,Cancelled:s.Canceled,Expired:s.Expired},I={NotUnderReplacement:p.NotUnderReplacement,ReplacementRequested:p.UnderReplacement,ReplacementInTransit:p.UnderReplacement,ReplacementUnderCancellation:p.UnderReplacement,Replaced:p.Replaced},M={LOCKED:U.Locked,UNLOCKED:U.Unlocked},P={SUCCESS:D.Success,PENDING:D.Pending,FAILED:D.Failed},Q={[J.Lost]:"Lost",[J.Stolen]:"Stolen",[J.Damaged]:"Damaged"},Z={ATM:{name:"withdrawals",description:"The amount you can withdraw from cash machines"},ONLINE:{name:"online purchases",description:"The limit for when using your card for payments online"},POS:{name:"terminal payments",description:"The limit for physical payments with your card (e.g. supermarkets, restaurants, etc.)"}},Ke=n=>o=>{const t=o.value;if(!t)return null;const _=t.replace(/\s/g,"");return new RegExp(`^\\d{${n}}$`).test(_)?null:{cvv:!0}};function Pe(n=new Date){return n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().slice(0,10)}var Be;!function(n){const o=t=>{const _=t.error;if(Array.isArray(_&&_.errors))return _.errors.map(i=>{const r=i.context||{},l=i.message.replace(/{[_a-zA-Z][_a-zA-Z0-9]*}/g,O=>{const v=r[O.replace(/[{}']+/g,"")];return void 0!==v?v:O});return`Error ${t.status}: ${l}`})};n.fromHttpErrorResponse=t=>t.error instanceof ErrorEvent||!t.status?{message:"An unexpected error occurred"}:{message:(o(t)||[])[0]||`Error ${t.status}`},n.fromHttpErrorsResponse=t=>t.error instanceof ErrorEvent||!t.status?[{message:"An unexpected error occurred"}]:(o(t)||[`Error ${t.status}`]).map(i=>({message:i}))}(Be||(Be={}));var Ne,ne=(()=>{return(n=ne||(ne={})).Reset="RESET",n.Request="REQUEST",n.Empty="",ne;var n})();function Ge(n,{country:o,region:t}){if(!n)return o;const _=n.find(i=>i.code===o);if(_&&t){const i=_.regions&&_.regions.find(r=>r.code===t);return i?`${i.name} (${_.code})`:_.name}return _?_.name:o}(Ne||(Ne={})).buildPostCreateTravelNoticeHttpRequest=function o(t){var _;const i=(null===(_=t.cards)||void 0===_?void 0:_.map(O=>O.id))||[],r=t.departureDate instanceof Date?Pe(t.departureDate):t.departureDate,l=t.arrivalDate instanceof Date?Pe(t.arrivalDate):t.arrivalDate;return{travelNotice:{id:t.id,cardIds:i,departureDate:r,arrivalDate:l,destinations:t.destinations,contact:t.contact,additions:t.additions}}};let Ce=(()=>{class n{isPastDate(t){const _=new Date(t);return this.trucanteDate(_)<this.trucanteDate(new Date)}isPastDateOrToday(t){return this.isPastDate(t)||this.areDateEqual(new Date,new Date(t))}isUpcomingDate(t){const _=new Date(t);return this.trucanteDate(_)>this.trucanteDate(new Date)}isUpcomingDateOrToday(t){return this.isUpcomingDate(t)||this.areDateEqual(new Date,new Date(t))}isDateInBetween(t,_){return this.isPastDateOrToday(t)&&this.isUpcomingDateOrToday(_)}areDateEqual(t,_){return this.trucanteDate(t)===this.trucanteDate(_)}trucanteDate(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function Gt(n,o){if(1&n&&(e.TgZ(0,"div",7),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,t.stepDateTime)," at ",e.xi3(3,4,t.stepDateTime,"shortTime")," ")}}const xe=function(n,o){return[n,o]},xt=function(n){return{"bb-text-support":n}};function kt(n,o){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3),e._UZ(2,"bb-icon-ui",4),e.qZA(),e.TgZ(3,"div",5),e._uU(4),e.qZA(),e.YNc(5,Gt,4,7,"div",6),e.qZA()),2&n){const t=o.$implicit,_=e.oxw();e.Q6J("ngClass",e.WLB(7,xe,t===_.currentStep?"active":"",_.getStepClassName(t))),e.xp6(1),e.Q6J("ngClass",e.WLB(10,xe,_.stepColorClassName,"SUCCESS"!==t.status?"bb-delivery-tracker__step-icon--disabled":"")),e.xp6(1),e.Q6J("name",_.getStepIconClassName("SUCCESS"===t.status?"ordered":t.name))("color","SUCCESS"===t.status?_.color:"light"),e.xp6(1),e.Q6J("ngClass",e.VKq(13,xt,"SUCCESS"!==t.status)),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.stepDateTime)}}function Ft(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,31),e.qZA())}function Ht(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,32),e.qZA())}function Wt(n,o){if(1&n&&(e.ynx(0,28),e.YNc(1,Ft,2,0,"span",29),e.YNc(2,Ht,2,0,"span",30),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.key),e.xp6(1),e.Q6J("ngSwitchCase","cvv")}}function wt(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Wt,3,2,"ng-container",27),e.BQk()),2&n){const t=o.last;e.xp6(1),e.Q6J("ngIf",t)}}function Yt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",7),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return i.form.valid&&i.onSubmit(i.form.value)}),e.TgZ(1,"div",8)(2,"div",9)(3,"div",10),e._UZ(4,"div",11),e.qZA(),e.TgZ(5,"div",12)(6,"h3"),e.SDv(7,13),e.qZA(),e.TgZ(8,"p",14),e.SDv(9,15),e.qZA(),e.TgZ(10,"div",9)(11,"div",16),e._UZ(12,"bb-input-password-ui",17),e.qZA(),e.TgZ(13,"div",18)(14,"bb-input-validation-message-ui",19),e.YNc(15,wt,2,1,"ng-container",20),e.ALo(16,"keyvalue"),e.qZA()()()()()(),e.TgZ(17,"div",21)(18,"div",22)(19,"bb-button-ui",23),e.SDv(20,24),e.qZA(),e.TgZ(21,"bb-button-ui",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().onModalClose()}),e.SDv(22,26),e.qZA()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(12),e.Q6J("autofocus",!0)("maxLength",3),e.xp6(2),e.Q6J("showErrors",!t.isFieldValid("token")),e.xp6(1),e.Q6J("ngForOf",e.lcZ(16,5,t.form.controls.token.errors))}}const De=function(){return{centered:!0}};function Zt(n,o){1&n&&(e.ynx(0),e.TgZ(1,"p",9),e.SDv(2,10),e.qZA(),e.BQk())}function Qt(n,o){1&n&&(e.TgZ(0,"strong"),e.SDv(1,25),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"p",26),e.SDv(4,27),e.qZA())}function qt(n,o){1&n&&(e.TgZ(0,"strong"),e.SDv(1,28),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"p",26),e.SDv(4,29),e.qZA())}function zt(n,o){1&n&&(e.TgZ(0,"strong"),e.SDv(1,30),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"p",26),e.SDv(4,31),e.qZA())}function $t(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"bb-input-radio-group-ui",12),e._UZ(3,"bb-input-radio-ui",13)(4,"bb-input-radio-ui",14)(5,"bb-input-radio-ui",15),e.qZA(),e.YNc(6,Qt,5,0,"ng-template",null,16,e.W1O),e.YNc(8,qt,5,0,"ng-template",null,17,e.W1O),e.YNc(10,zt,5,0,"ng-template",null,18,e.W1O),e.qZA(),e.TgZ(12,"div",19)(13,"div",20)(14,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().modalStep=1}),e.SDv(15,22),e.qZA(),e.TgZ(16,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().onModalClose()}),e.SDv(17,24),e.qZA()()(),e.BQk()}if(2&n){const t=e.MAs(7),_=e.MAs(9),i=e.MAs(11);e.xp6(2),e.Q6J("required",!0),e.xp6(1),e.Q6J("labelTemplate",t),e.xp6(1),e.Q6J("labelTemplate",_),e.xp6(1),e.Q6J("labelTemplate",i)}}function Vt(n,o){1&n&&(e.TgZ(0,"button",38),e.SDv(1,39),e.qZA()),2&n&&e.Q6J("bbFocus",!0)}function jt(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"h5",32),e.SDv(3,33),e.qZA(),e.TgZ(4,"p",34),e.SDv(5,35),e.qZA()(),e.TgZ(6,"div",19)(7,"div",20),e.YNc(8,Vt,2,1,"button",36),e.TgZ(9,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().onModalClose()}),e.SDv(10,37),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",1===t.modalStep)}}function Xt(n,o){if(1&n&&(e.TgZ(0,"strong",10),e._UZ(1,"bb-amount-ui",11),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("currency",t.currency)("amount",null==t.limit?null:t.limit.amount)("mapCurrency",!0)("decimalPlaces",0)}}function en(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"bb-payment-card-limit",10),e.NdJ("updateLimit",function(i){return e.CHM(t),e.oxw(3).onUpdateLimit(i)}),e.qZA()()}if(2&n){const t=o.$implicit,_=e.oxw(3);e.xp6(1),e.Q6J("limit",t)("currency",null==_.paymentCard?null:_.paymentCard.currency)}}function tn(n,o){if(1&n&&(e.TgZ(0,"div",7),e.YNc(1,en,2,2,"div",8),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==t.paymentCard?null:t.paymentCard.limits)}}function nn(n,o){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3)(2,"h2"),e.SDv(3,4),e.qZA()(),e.TgZ(4,"div",5),e.YNc(5,tn,2,1,"div",6),e.qZA()()),2&n){const t=e.oxw(),_=e.MAs(2);e.xp6(5),e.Q6J("ngIf",!t.isLimitsLoading)("ngIfElse",_)}}function _n(n,o){1&n&&e._UZ(0,"bb-loading-indicator-ui",11)}function an(n,o){if(1&n&&(e.TgZ(0,"p",3),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.message," ")}}function on(n,o){1&n&&(e.ynx(0),e.SDv(1,5),e.BQk())}function rn(n,o){1&n&&(e.ynx(0),e.SDv(1,6),e.BQk())}function sn(n,o){1&n&&(e.ynx(0),e.TgZ(1,"h2"),e.SDv(2,7),e.qZA(),e.BQk())}function cn(n,o){1&n&&(e.ynx(0),e.TgZ(1,"h2"),e.SDv(2,8),e.qZA(),e.BQk())}function ln(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,35),e.qZA())}function dn(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,36),e.qZA())}function En(n,o){if(1&n&&(e.ynx(0,32),e.YNc(1,ln,2,0,"span",33),e.YNc(2,dn,2,0,"span",34),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.key),e.xp6(1),e.Q6J("ngSwitchCase","cvv")}}function Sn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,En,3,2,"ng-container",31),e.BQk()),2&n){const t=o.last;e.xp6(1),e.Q6J("ngIf",t)}}function An(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.MAs(2),r=e.oxw();return i.valid&&r.gotoNextStep()}),e.TgZ(3,"div",11)(4,"div",12)(5,"div",13),e._UZ(6,"div",14),e.qZA(),e.TgZ(7,"div",15)(8,"h3"),e.SDv(9,16),e.qZA(),e.TgZ(10,"p",17),e.SDv(11,18),e.qZA(),e.TgZ(12,"div",12)(13,"div",19)(14,"bb-input-password-ui",20,21),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().model.token=i}),e.qZA()(),e.TgZ(16,"div",22)(17,"bb-input-validation-message-ui",23),e.YNc(18,Sn,2,1,"ng-container",24),e.ALo(19,"keyvalue"),e.qZA()()()()()(),e.TgZ(20,"div",25)(21,"div",26)(22,"bb-button-ui",27),e.SDv(23,28),e.qZA(),e.TgZ(24,"bb-button-ui",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().onModalClose()}),e.SDv(25,30),e.qZA()()()(),e.BQk()}if(2&n){const t=e.MAs(15),_=e.oxw();e.xp6(14),e.Q6J("bbCvvValidator",_.defaultCvvLengthRef)("autofocus",!0)("ngModel",_.model.token)("required",!0)("minlength",_.defaultCvvLengthRef)("maxLength",_.defaultCvvLengthRef),e.xp6(3),e.Q6J("showErrors",!!t.errors&&!!t.touched),e.xp6(1),e.Q6J("ngForOf",e.lcZ(19,8,t.errors))}}function un(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11),e._UZ(2,"bb-alert-ui",37),e.TgZ(3,"div")(4,"h5",38),e.SDv(5,39),e.qZA(),e.TgZ(6,"p",17),e.SDv(7,40),e.qZA()()(),e.TgZ(8,"div",25)(9,"div",26)(10,"bb-button-ui",41),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSubmit()}),e.SDv(11,42),e.qZA(),e.TgZ(12,"bb-button-ui",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().onModalClose()}),e.SDv(13,43),e.qZA()()(),e.BQk()}}function Cn(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,54),e.qZA())}function pn(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,55),e.qZA())}function Mn(n,o){if(1&n&&(e.ynx(0,32),e.YNc(1,Cn,2,0,"span",33),e.YNc(2,pn,2,0,"span",34),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.key),e.xp6(1),e.Q6J("ngSwitchCase","cvv")}}function mn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Mn,3,2,"ng-container",31),e.BQk()),2&n){const t=o.last;e.xp6(1),e.Q6J("ngIf",t)}}function gn(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-input-password-ui",52,53),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).model.pin=i}),e.qZA(),e.TgZ(3,"bb-input-validation-message-ui",23),e.YNc(4,mn,2,1,"ng-container",24),e.ALo(5,"keyvalue"),e.qZA(),e.BQk()}if(2&n){const t=e.MAs(2),_=e.oxw(3);e.xp6(1),e.Q6J("bbCvvValidator",_.cardPinLength)("minlength",_.cardPinLength)("maxLength",_.cardPinLength)("ngModel",_.model.pin)("autofocus",!0)("required",!0),e.xp6(2),e.Q6J("showErrors",!!t.errors&&!!t.touched),e.xp6(1),e.Q6J("ngForOf",e.lcZ(5,8,t.errors))}}function Bn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,gn,6,10,"ng-container",1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.cardPinLength)}}function Nn(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,58),e.qZA())}function Dn(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,59),e.qZA())}function bn(n,o){if(1&n&&(e.ynx(0,32),e.YNc(1,Nn,2,0,"span",33),e.YNc(2,Dn,2,0,"span",34),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.key),e.xp6(1),e.Q6J("ngSwitchCase","cvv")}}function fn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,bn,3,2,"ng-container",31),e.BQk()),2&n){const t=o.last;e.xp6(1),e.Q6J("ngIf",t)}}function On(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-input-password-ui",56,57),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).modelExclude.pin2=i}),e.qZA(),e.TgZ(3,"bb-input-validation-message-ui",23),e.YNc(4,fn,2,1,"ng-container",24),e.ALo(5,"keyvalue"),e.qZA(),e.BQk()}if(2&n){const t=e.MAs(2),_=e.oxw(3);e.xp6(1),e.Q6J("bbCvvValidator",_.cardPinLength)("maxLength",_.cardPinLength)("minlength",_.cardPinLength)("ngModel",_.modelExclude.pin2)("autofocus",!0)("required",!0),e.xp6(2),e.Q6J("showErrors",!!t.errors&&!!t.touched),e.xp6(1),e.Q6J("ngForOf",e.lcZ(5,8,t.errors))}}function Un(n,o){if(1&n&&(e.ynx(0),e.YNc(1,On,6,10,"ng-container",1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.cardPinLength)}}function Rn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"bb-button-ui",41),e.NdJ("click",function(){e.CHM(t),e.oxw();const i=e.MAs(2),r=e.oxw();return i.valid&&r.gotoNextStep()}),e.SDv(1,60),e.qZA()}}function In(n,o){1&n&&(e.TgZ(0,"bb-button-ui",61),e.SDv(1,62),e.qZA())}function Tn(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.MAs(2),r=e.oxw();return i.valid&&r.onSubmit()}),e.TgZ(3,"div",11)(4,"div",12)(5,"div",44)(6,"div",45)(7,"div",46),e._UZ(8,"bb-payment-card-ui",47),e.qZA()()(),e.TgZ(9,"div",48),e.YNc(10,Bn,2,1,"ng-container",1),e.YNc(11,Un,2,1,"ng-container",1),e.qZA()()(),e.TgZ(12,"div",25)(13,"div",26),e.YNc(14,Rn,2,0,"bb-button-ui",49),e.YNc(15,In,2,0,"bb-button-ui",50),e.TgZ(16,"bb-button-ui",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().onModalClose()}),e.SDv(17,51),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("paymentCard",t.paymentCard),e.xp6(2),e.Q6J("ngIf",2===t.modalStep),e.xp6(1),e.Q6J("ngIf",3===t.modalStep),e.xp6(3),e.Q6J("ngIf",2===t.modalStep),e.xp6(1),e.Q6J("ngIf",3===t.modalStep)}}function vn(n,o){1&n&&(e.ynx(0),e._UZ(1,"bb-icon-ui",5)(2,"bb-badge-ui",6),e.BQk())}function yn(n,o){1&n&&(e.ynx(0),e._UZ(1,"bb-icon-ui",7)(2,"bb-badge-ui",8),e.BQk())}function hn(n,o){1&n&&(e.ynx(0),e._UZ(1,"bb-icon-ui",9)(2,"bb-badge-ui",10),e.BQk())}function Ln(n,o){1&n&&(e.ynx(0),e._UZ(1,"bb-icon-ui",11)(2,"bb-badge-ui",12),e.BQk())}function Jn(n,o){if(1&n&&(e.TgZ(0,"div",3),e.YNc(1,vn,3,0,"ng-container",4),e.YNc(2,yn,3,0,"ng-container",4),e.YNc(3,hn,3,0,"ng-container",4),e.YNc(4,Ln,3,0,"ng-container",4),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","INACTIVE"===t.state),e.xp6(1),e.Q6J("ngIf","LOCKED"===t.state),e.xp6(1),e.Q6J("ngIf","CANCELLED"===t.state),e.xp6(1),e.Q6J("ngIf","EXPIRED"===t.state)}}const Kn=function(n){return{"bb-payment-card-state__overlay":n}},Pn=["*"],ke={header:"",message:"",dismissible:!0,modifier:"success"};let be=(()=>{class n{constructor(t,_){this.cd=t,this.notificationService=_,this.localizations={activationErrorHeader:"",activationErrorMessage:"",activationSuccessHeader:"",lockErrorHeader:"",lockErrorMessage:"",lockSuccessHeader:"",lockSuccessMessage:"",replacementErrorHeader:"",replacementErrorMessage:"",replacementSuccessHeader:"",replacementSuccessMessage:"",requestNewPinSuccessMessage:"",requestPinErrorMessage:"",resetPinSuccessMessage:"",resetPinErrorMessage:"",resetInvalidPinMessage:"",unlockErrorHeader:"",unlockErrorMessage:"",unlockSuccessHeader:"",unlockSuccessMessage:"",updateLimitErrorHeader:"",updateLimitErrorMessage:"",updateLimitSuccessHeader:"",updateLimitSuccessMessage:""},this.selectCard=new e.vpe,this.isLockLoading=!1,this.isInitiateReplacementLoading=!1,this.isInitiateActivationLoading=!1,this.isResetPinLoading=!1,this.isLimitsLoading=!1,this.onInitiateReplacementSuccess=i=>{void 0!==this.paymentCard&&(this.paymentCard=i,this.showNotification({header:this.localizations.replacementSuccessHeader,message:this.localizations.replacementSuccessMessage}))},this.onInitiateReplacementError=()=>{void 0!==this.paymentCard&&this.showNotification({header:this.localizations.replacementErrorHeader,message:this.localizations.replacementErrorMessage,modifier:"error"}),this.isInitiateReplacementLoading=!1,this.cd.markForCheck()},this.onInitiateReplacementComplete=()=>{this.isInitiateReplacementLoading=!1,this.cd.markForCheck()},this.onInitiateActivationSuccess=i=>{void 0!==this.paymentCard&&(this.paymentCard=i,this.showNotification({header:this.localizations.activationSuccessHeader}))},this.onInitiateActivationError=()=>{void 0!==this.paymentCard&&this.showNotification({header:this.localizations.activationErrorHeader,message:this.localizations.activationErrorMessage,modifier:"error"}),this.isInitiateActivationLoading=!1,this.cd.markForCheck()},this.onInitiateActivationComplete=()=>{this.isInitiateActivationLoading=!1,this.cd.markForCheck()},this.onUpdateLimitSuccess=i=>{void 0!==this.paymentCard&&(this.paymentCard=i,this.showNotification({header:this.localizations.updateLimitSuccessHeader,message:this.localizations.updateLimitSuccessMessage}))},this.onUpdateLimitError=()=>{void 0!==this.paymentCard&&this.notificationService.showNotification(Object.assign(Object.assign({},ke),{header:this.localizations.updateLimitErrorHeader,message:this.localizations.updateLimitErrorMessage,modifier:"error"})),this.isLimitsLoading=!1,this.cd.markForCheck()},this.onUpdateLimitComplete=()=>{this.isLimitsLoading=!1,this.cd.markForCheck()},this.onResetPinSuccess=i=>{void 0!==this.paymentCard&&(this.paymentCard=i,this.showNotification({message:this.localizations.resetPinSuccessMessage}))},this.onResetPinError=()=>{void 0!==this.paymentCard&&this.showNotification({message:this.localizations.resetPinErrorMessage,modifier:"error"}),this.isResetPinLoading=!1,this.cd.markForCheck()},this.onResetPinComplete=()=>{this.isResetPinLoading=!1,this.cd.markForCheck()},this.onRequestPinSuccess=i=>{void 0!==this.paymentCard&&(this.paymentCard=i,this.showNotification({message:this.localizations.requestNewPinSuccessMessage}))},this.onRequestPinError=()=>{void 0!==this.paymentCard&&this.showNotification({message:this.localizations.requestPinErrorMessage,modifier:"error"}),this.isResetPinLoading=!1,this.cd.markForCheck()},this.onRequestPinComplete=()=>{this.isResetPinLoading=!1,this.cd.markForCheck()}}showNotification(t){this.notificationService.showNotification(Object.assign(Object.assign(Object.assign({},ke),{ttl:this.notificationTtl}),t))}ngOnInit(){if(void 0===this.paymentCard)throw new Error(`"paymentCard" input is required in "${this.constructor.name}"`)}onOpenDetails(){void 0!==this.paymentCard&&this.selectCard.emit(this.paymentCard)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(Y.gq))},n.\u0275dir=e.lG2({type:n,selectors:[["bb-payment-card-base"]],inputs:{paymentCard:"paymentCard",notificationTtl:"notificationTtl",updateAllLimits:"updateAllLimits",cardPinLength:"cardPinLength"},outputs:{selectCard:"selectCard"}}),n})(),fe=(()=>{class n{constructor(){this.isLockLoading=!1,this.isInitiateReplacementLoading=!1,this.isInitiateActivationLoading=!1,this.isResetPinLoading=!1,this.updateLockStatus=new e.vpe,this.initiateReplacement=new e.vpe,this.initiateActivation=new e.vpe,this.resetPin=new e.vpe,this.requestPin=new e.vpe,this.hostRef=this}ngOnInit(){if(void 0===this.paymentCard)throw new Error(`"paymentCard" input is required in "${this.constructor.name}"`)}onLock(){this.updateLockStatus.emit(U.Locked)}onUnlock(){this.updateLockStatus.emit(U.Unlocked)}get isLocked(){return this.paymentCard&&this.paymentCard.lockStatus===U.Locked}get resetPinMode(){return this.paymentCard?"Credit"===this.paymentCard.type?ne.Request:ne.Reset:ne.Empty}onInitiateReplacement(t){this.initiateReplacement.emit(t)}onInitiateActivation(t){this.initiateActivation.emit(t)}onResetPin(t){this.resetPin.emit(t)}onRequestPin(t){this.requestPin.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["bb-payment-card-controls-base"]],inputs:{paymentCard:"paymentCard",isLockLoading:"isLockLoading",isInitiateReplacementLoading:"isInitiateReplacementLoading",isInitiateActivationLoading:"isInitiateActivationLoading",isResetPinLoading:"isResetPinLoading",cardPinLength:"cardPinLength"},outputs:{updateLockStatus:"updateLockStatus",initiateReplacement:"initiateReplacement",initiateActivation:"initiateActivation",resetPin:"resetPin",requestPin:"requestPin"}}),n})(),Fe=(()=>{class n{constructor(){this.steps=[],this.color="primary"}get currentStep(){const t=this.steps.filter(_=>_.status===D.Success);if(t.length>0)return t[t.length-1]}get stepColorClassName(){return`bb-delivery-tracker__step-icon-${this.color}`}getStepClassName(t){return`bb-delivery-tracker__step--${t.name.toLowerCase().replace(/\W/g,"-").replace(/-{2,}/g,"-")}`}getStepIconClassName(t){return`delivery-tracker__step--${t.toLowerCase().replace(/\W/g,"-").replace(/-{2,}/g,"-")}`}ngOnInit(){if(void 0===this.steps)throw new Error(`"steps" input is required in "${this.constructor.name}"`)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-delivery-tracker"]],inputs:{steps:"steps",color:"color"},decls:2,vars:1,consts:[[1,"bb-delivery-tracker"],["class","bb-delivery-tracker__step",3,"ngClass",4,"ngFor","ngForOf"],[1,"bb-delivery-tracker__step",3,"ngClass"],[1,"bb-delivery-tracker__step-icon",3,"ngClass"],["backgroundType","circle","size","md",3,"name","color"],[1,"bb-delivery-tracker__step-text",3,"ngClass"],["class","bb-delivery-tracker__step-date bb-subtitle",4,"ngIf"],[1,"bb-delivery-tracker__step-date","bb-subtitle"]],template:function(t,_){1&t&&(e.TgZ(0,"div",0),e.YNc(1,kt,6,15,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",_.steps))},directives:[L.o,a.sg,a.mk,a.O5],pipes:[a.uU],encapsulation:2}),n})(),He=(()=>{class n{constructor(){this.deliveryStatus={transitSteps:[]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-delivery-status"]],inputs:{deliveryStatus:"deliveryStatus"},decls:2,vars:1,consts:[[1,"bb-block","bb-block--lg"],["color","success",3,"steps"]],template:function(t,_){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-delivery-tracker",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("steps",_.deliveryStatus.transitSteps))},directives:[Fe],encapsulation:2}),n})(),Oe=(()=>{class n{constructor(){this.isInitiateActivationLoading=!1,this.initiateActivation=new e.vpe,this.isModalOpen=!1,this.form=new u.cw({token:new u.NI("",[u.kI.required,u.kI.minLength(3),Ke(3)])})}ngOnInit(){if(void 0===this.paymentCard)throw new Error(`"paymentCard" input is required in "${this.constructor.name}"`)}onSubmit(t){this.isModalOpen=!1,this.initiateActivation.emit(t.token)}onModalOpen(){this.isModalOpen=!0}onModalClose(){this.isModalOpen=!1,this.form.reset({token:""})}isFieldValid(t){const _=this.form.get(t);return!!_&&(_.valid||_.untouched)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-initiate-activation"]],inputs:{paymentCard:"paymentCard",isInitiateActivationLoading:"isInitiateActivationLoading"},outputs:{initiateActivation:"initiateActivation"},decls:8,vars:7,consts:function(){let o,t,_,i,r,l,O,v,F;return o="Activate card\n",t=" Activate card ",_=" Enter your CVV code ",i=" To activate your card, please enter your CVV code at the back of your card as shown. ",r="CVV code",l="Activate Card ",O="Cancel ",v=" Invalid CVV code ",F=" Full CVV code required ",[["data-role","activate-card-button","color","primary",3,"block","isLoading","disabled","click"],o,[3,"isOpen","modalOptions","cancel"],[1,"modal-header"],[1,"bb-block","bb-block--xs"],t,[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"row"],[1,"col-12","col-sm-6","order-sm-2"],["data-role","modal-card-img",1,"bb-block","bb-block--md","bb-payment-card-back","bb-payment-card-icon-dialog"],[1,"col-12","col-sm-6"],_,[1,"bb-text-support"],i,[1,"col-6"],["data-role","card-details-cvv-input","formControlName","token","label",r,3,"autofocus","maxLength"],[1,"col-12"],[3,"showErrors"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"bb-button-bar"],["type","submit","color","primary",1,"bb-button-bar__button"],l,["type","button","color","link",1,"bb-button-bar__button",3,"click"],O,[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],v,F]},template:function(t,_){1&t&&(e.TgZ(0,"bb-load-button-ui",0),e.NdJ("click",function(){return!_.isInitiateActivationLoading&&"INACTIVE"===(null==_.paymentCard?null:_.paymentCard.status)&&_.onModalOpen()}),e.SDv(1,1),e.qZA(),e.TgZ(2,"bb-modal-ui",2),e.NdJ("cancel",function(){return _.onModalClose()}),e.TgZ(3,"div",3)(4,"div",4)(5,"h2"),e.SDv(6,5),e.qZA()()(),e.YNc(7,Yt,23,7,"form",6),e.qZA()),2&t&&(e.Q6J("block",!0)("isLoading",_.isInitiateActivationLoading)("disabled","INACTIVE"!==(null==_.paymentCard?null:_.paymentCard.status)),e.xp6(2),e.Q6J("isOpen",_.isModalOpen)("modalOptions",e.DdM(6,De)),e.xp6(5),e.Q6J("ngIf",_.isModalOpen))},directives:[S.K,E.zS,g.P,d.d,b.r0,a.O5,u._Y,u.JL,u.sg,u.JJ,u.u,a.sg,a.RF,a.n9,a.ED],pipes:[a.Nd],encapsulation:2}),n})(),Ue=(()=>{class n{constructor(){this.isInitiateReplacementLoading=!1,this.initiateReplacement=new e.vpe,this.isModalOpen=!1,this.modalStep=0,this.form=new u.cw({replacementReason:new u.NI})}ngOnInit(){if(void 0===this.paymentCard)throw new Error(`"paymentCard" input is required in "${this.constructor.name}"`)}onSubmit(t){this.isModalOpen=!1,this.initiateReplacement.emit(t.replacementReason)}onModalOpen(){this.modalStep=0,this.isModalOpen=!0}onModalClose(){this.isModalOpen=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-initiate-replacement"]],inputs:{paymentCard:"paymentCard",isInitiateReplacementLoading:"isInitiateReplacementLoading"},outputs:{initiateReplacement:"initiateReplacement"},decls:12,vars:10,consts:function(){let o,t,_,i,r,l,O,v,F,k,q,z,K,_e,ae,oe,ie,re,X,se,ce;return o="Replace payment card, Replace lost, stolen or damaged cards",t="Replace",_=" Replace card ",i=" Tell us why you want to replace your card. ",r="Tell us why you want to replace your card, select a reason",l="Card lost, Report a missing card and get a new one. Your current card will be locked automatically",O="Card stolen, Report a stolen card and get a new one. Your current card will be locked automatically",v="Card broken, Report a broken card and get a new one",F=" Continue ",k=" Cancel ",q=" Card lost ",z=" Report a missing card and get a new one. Your current card will be locked automatically. ",K=" Card stolen ",_e=" Report a stolen card and get a new one. Your current card will be locked automatically. ",ae=" Card broken ",oe=" Report a broken card and get a new one. ",ie=" Delivery address ",re=" The new card will be delivered at your currently registered address. ",X="order new payment card to the provided delivery address",se=" Cancel ",ce=" Order New ",[["data-role","replace-card-button","color","secondary","aria-label",o,3,"block","isLoading","disabled","click"],t,[3,"isOpen","modalOptions","cancel"],["role","dialog"],[1,"modal-header"],[1,"bb-block"],_,[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"bb-text-support","bb-block","bb-block--no-margin"],i,[1,"modal-body"],["aria-label",r,"formControlName","replacementReason",3,"required"],["value","LOST","aria-label",l,3,"labelTemplate"],["value","STOLEN","aria-label",O,3,"labelTemplate"],["value","BROKEN","aria-label",v,3,"labelTemplate"],["cardLostLabel",""],["cardStolenLabel",""],["cardBrokenLabel",""],[1,"modal-footer"],[1,"bb-button-bar"],["bbButton","","type","submit","color","primary",1,"bb-button-bar__button",3,"click"],F,["bbButton","","type","button","color","link",1,"bb-button-bar__button",3,"click"],k,q,[1,"bb-text-support","bb-text-default"],z,K,_e,ae,oe,[1,"bb-text-semi-bold"],ie,[1,"bb-text-support"],re,["bbButton","","class","bb-button-bar__button","type","submit","color","primary","aria-label",X,3,"bbFocus",4,"ngIf"],se,["bbButton","","type","submit","color","primary","aria-label",X,1,"bb-button-bar__button",3,"bbFocus"],ce]},template:function(t,_){1&t&&(e.TgZ(0,"bb-load-button-ui",0),e.NdJ("click",function(){return!_.isInitiateReplacementLoading&&"NOT_UNDER_REPLACEMENT"===(null==_.paymentCard?null:_.paymentCard.replacementStatus)&&_.onModalOpen()}),e.SDv(1,1),e.qZA(),e.TgZ(2,"bb-modal-ui",2),e.NdJ("cancel",function(){return _.onModalClose()}),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),e.SDv(7,6),e.qZA(),e.YNc(8,Zt,3,0,"ng-container",7),e.qZA()(),e.TgZ(9,"form",8),e.NdJ("ngSubmit",function(){return _.onSubmit(_.form.value)}),e.YNc(10,$t,18,4,"ng-container",7),e.YNc(11,jt,11,1,"ng-container",7),e.qZA()()()),2&t&&(e.Q6J("block",!0)("isLoading",_.isInitiateReplacementLoading)("disabled","NOT_UNDER_REPLACEMENT"!==(null==_.paymentCard?null:_.paymentCard.replacementStatus)),e.xp6(2),e.Q6J("isOpen",_.isModalOpen)("modalOptions",e.DdM(9,De)),e.xp6(6),e.Q6J("ngIf",0===_.modalStep),e.xp6(1),e.Q6J("formGroup",_.form),e.xp6(1),e.Q6J("ngIf",0===_.modalStep),e.xp6(1),e.Q6J("ngIf",1===_.modalStep))},directives:[S.K,E.zS,B.Af,B.f2,a.O5,u._Y,u.JL,u.sg,u.JJ,u.u,u.Q7,b.Hq,T.R],encapsulation:2}),n})(),We=(()=>{class n{constructor(){this.updateLimit=new e.vpe}onUpdateLimit(t){this.limit&&this.updateLimit.emit({amount:t,cardLimit:this.limit})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-limit"]],viewQuery:function(t,_){if(1&t&&e.Gf(m.Oj,5),2&t){let i;e.iGM(i=e.CRH())&&(_.inputEdit=i.first)}},inputs:{currency:"currency",limit:"limit"},outputs:{updateLimit:"updateLimit"},decls:18,vars:13,consts:function(){let o;return o=" Max: ",[[1,"row"],[1,"col-12","col-sm-8"],["data-role","limit-title",1,"bb-block--no-margin"],["data-role","limit-description",1,"bb-text-support","text-small"],[1,"col-12","col-sm-4"],["amountTemplateRef",""],["pattern","[0-9]+",3,"inputText","maxValue","minValue","inputInlineTemplate","accept"],["data-role","limit-max-allowed-amount",1,"bb-text-support","bb-text-align-end","text-small"],o,[3,"currency","amount","mapCurrency","decimalPlaces"],[1,"bb-stack__item","bb-stack__item--push-right","bb-stack__item--spacing-sm"],["data-role","limit-max-amount",3,"currency","amount","mapCurrency","decimalPlaces"]]},template:function(t,_){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2)(3,"span"),e._uU(4),e.ALo(5,"titlecase"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()(),e.TgZ(8,"span",3),e._uU(9),e.qZA()(),e.TgZ(10,"div",4),e.YNc(11,Xt,2,4,"ng-template",null,5,e.W1O),e.TgZ(13,"bb-input-inline-edit-ui",6),e.NdJ("accept",function(r){return _.onUpdateLimit(r)}),e.qZA(),e.TgZ(14,"p",7)(15,"span"),e.SDv(16,8),e.qZA(),e._UZ(17,"bb-amount-ui",9),e.qZA()()()),2&t){const i=e.MAs(12);e.xp6(4),e.hij("",e.lcZ(5,11,null==_.limit?null:_.limit.frequency),"\xa0"),e.xp6(3),e.Oqu(null==_.limit||null==_.limit.channel?null:_.limit.channel.name),e.xp6(2),e.Oqu(null==_.limit||null==_.limit.channel?null:_.limit.channel.description),e.xp6(4),e.Q6J("inputText",null==_.limit||null==_.limit.amount?null:_.limit.amount.toString())("maxValue",null==_.limit?null:_.limit.maxAmount)("minValue",null==_.limit?null:_.limit.minAmount)("inputInlineTemplate",i),e.xp6(4),e.Q6J("currency",_.currency)("amount",null==_.limit?null:_.limit.maxAmount)("mapCurrency",!0)("decimalPlaces",0)}},directives:[w.G4,m.Oj],pipes:[a.rS],encapsulation:2}),n})(),we=(()=>{class n{constructor(){this.updateLimit=new e.vpe}onUpdateLimit(t){if(this.paymentCard){const _=this.paymentCard.limits;_&&this.updateLimit.emit(_.map(i=>{let r=i.amount;return t.cardLimit&&i.id===t.cardLimit.id&&(r=+t.amount),{amount:r,id:i.id,frequency:i.frequency}}))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-limits"]],inputs:{paymentCard:"paymentCard",isLimitsLoading:"isLimitsLoading"},outputs:{updateLimit:"updateLimit"},decls:3,vars:1,consts:function(){let o;return o="Limits",[["class","card bb-list",4,"ngIf"],["loadingTemplate",""],[1,"card","bb-list"],[1,"card-header"],o,[1,"card-body"],["class","bb-list",4,"ngIf","ngIfElse"],[1,"bb-list"],["class","bb-list__item",4,"ngFor","ngForOf"],[1,"bb-list__item"],[3,"limit","currency","updateLimit"],["loaderSize","lg"]]},template:function(t,_){1&t&&(e.YNc(0,nn,6,2,"div",0),e.YNc(1,_n,1,0,"ng-template",null,1,e.W1O)),2&t&&e.Q6J("ngIf",null==_.paymentCard?null:_.paymentCard.limits)},directives:[We,C.Q,a.O5,a.sg],encapsulation:2}),n})(),Re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-multiple-error-state"]],inputs:{errors:"errors"},decls:3,vars:1,consts:function(){let o;return o="Unknown Error",[[1,"card","bb-state-container"],["title",o,"iconModifier","error","iconSize","xxl","iconClasses","text-muted"],["data-role","custom-error-state-message","class","bb-empty-state__message bb-empty-state",4,"ngFor","ngForOf"],["data-role","custom-error-state-message",1,"bb-empty-state__message","bb-empty-state"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-empty-state-ui",1),e.YNc(2,an,2,1,"p",2),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngForOf",_.errors))},directives:[y.s,a.sg],encapsulation:2}),n})(),Ye=(()=>{class n{validate(t){return Ke(this.cvvLength||3)(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","bbCvvValidator",""]],inputs:{cvvLength:["bbCvvValidator","cvvLength"]},features:[e._Bn([{provide:u.Cf,useExisting:n,multi:!0}])]}),n})(),Ze=(()=>{class n{constructor(){this.isResetPinLoading=!1,this.resetPin=new e.vpe,this.requestPin=new e.vpe,this.isModalOpen=!1,this.modalStep=1,this.model={},this.modelExclude={},this.defaultCvvLengthRef=3}onModalOpen(){this.isModalOpen=!0}onSubmit(){const t=Object.assign({},this.model),_=Object.assign(Object.assign({},this.model),this.modelExclude);this.mode===ne.Reset?this.resetPin.emit({raw:_,model:t}):this.mode===ne.Request&&this.requestPin.emit({raw:_,model:t}),this.onModalClose()}onModalClose(){this.modalStep=1,this.model={},this.modelExclude={},this.isModalOpen=!1}gotoNextStep(){this.modalStep=this.modalStep+1}ngOnInit(){if(void 0===this.paymentCard)throw new Error(`"paymentCard" input is required in "${this.constructor.name}"`)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-reset-pin"]],inputs:{paymentCard:"paymentCard",mode:"mode",isResetPinLoading:"isResetPinLoading",cardPinLength:"cardPinLength"},outputs:{resetPin:"resetPin",requestPin:"requestPin"},decls:11,vars:12,consts:function(){let o,t,_,i,r,l,O,v,F,k,q,z,K,_e,ae,oe,ie,re,X,se,ce,x,Se,Ae,ue;return o=" Request ",t="Reset ",_=" Request new PIN ",i="Reset PIN",r=" Enter your CVV code ",l=" Continue by entering your CVV code found on the back of your card as shown in the image. ",O="CVV code",v="Continue ",F="Cancel ",k=" Invalid CVV code ",q=" Full CVV code required ",z="Your new PIN will be delivered to your address within approximately 3 to 5 working days.",K=" Delivery address ",_e=" The card will be delivered at your address currently known by us. ",ae="Request new PIN ",oe="Cancel ",ie="Cancel ",re="Enter new PIN",X=" Invalid PIN code ",se=" Full PIN code required ",ce="Re-enter new PIN",x=" Invalid PIN code ",Se=" Full PIN code required ",Ae="Continue ",ue="Reset PIN ",[["color","secondary",3,"block","isLoading","click"],[4,"ngIf"],[3,"isOpen","modalOptions","cancel"],[1,"modal-header"],[1,"bb-block","bb-block--xs"],o,t,_,i,[3,"ngSubmit"],["pinForm","ngForm"],[1,"modal-body"],[1,"row"],[1,"col-12","col-sm-6","order-sm-2"],["data-role","modal-card-img",1,"bb-block","bb-block--md","bb-payment-card-back","bb-payment-card-icon-dialog"],[1,"col-12","col-sm-6"],r,[1,"bb-text-support"],l,[1,"col-6"],["data-role","card-details-cvv-input","name","token","label",O,3,"bbCvvValidator","autofocus","ngModel","required","minlength","maxLength","ngModelChange"],["cvvToken","ngModel"],[1,"col-12"],[3,"showErrors"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"bb-button-bar"],["type","submit","color","primary",1,"bb-button-bar__button"],v,["type","button","color","link",1,"bb-button-bar__button",3,"click"],F,[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],k,q,["modifier","warning","title",z],[1,"bb-text-semi-bold"],K,_e,["color","primary",1,"bb-button-bar__button",3,"click"],ae,oe,[1,"bb-block","bb-block--md","col-12","col-sm-8","order-sm-2"],[1,"bb-stack"],[1,"bb-stack__item","bb-stack__item--push-right"],[3,"paymentCard"],[1,"col-6","col-sm-4"],["class","bb-button-bar__button","color","primary",3,"click",4,"ngIf"],["class","bb-button-bar__button","color","primary","type","submit",4,"ngIf"],ie,["label",re,"name","pin",3,"bbCvvValidator","minlength","maxLength","ngModel","autofocus","required","ngModelChange"],["resetPin","ngModel"],X,se,["label",ce,"name","pin2",3,"bbCvvValidator","maxLength","minlength","ngModel","autofocus","required","ngModelChange"],["resetPinConfirm","ngModel"],x,Se,Ae,["color","primary","type","submit",1,"bb-button-bar__button"],ue]},template:function(t,_){1&t&&(e.TgZ(0,"bb-load-button-ui",0),e.NdJ("click",function(){return _.onModalOpen()}),e.YNc(1,on,2,0,"ng-container",1),e.YNc(2,rn,2,0,"ng-container",1),e.qZA(),e.TgZ(3,"bb-modal-ui",2),e.NdJ("cancel",function(){return _.onModalClose()}),e.TgZ(4,"div",3)(5,"div",4),e.YNc(6,sn,3,0,"ng-container",1),e.YNc(7,cn,3,0,"ng-container",1),e.qZA()(),e.YNc(8,An,26,10,"ng-container",1),e.YNc(9,un,14,0,"ng-container",1),e.YNc(10,Tn,18,5,"ng-container",1),e.qZA()),2&t&&(e.Q6J("block",!0)("isLoading",_.isResetPinLoading),e.xp6(1),e.Q6J("ngIf","REQUEST"===_.mode),e.xp6(1),e.Q6J("ngIf","RESET"===_.mode),e.xp6(1),e.Q6J("isOpen",_.isModalOpen)("modalOptions",e.DdM(11,De)),e.xp6(3),e.Q6J("ngIf","REQUEST"===_.mode),e.xp6(1),e.Q6J("ngIf","RESET"===_.mode),e.xp6(1),e.Q6J("ngIf",1===_.modalStep&&_.isModalOpen),e.xp6(1),e.Q6J("ngIf",2===_.modalStep&&"REQUEST"===_.mode&&_.isModalOpen),e.xp6(1),e.Q6J("ngIf",(2===_.modalStep||3===_.modalStep)&&"RESET"===_.mode&&_.isModalOpen))},directives:[S.K,E.zS,g.P,d.d,b.r0,h.w,f.u,a.O5,u._Y,u.JL,u.F,Ye,u.JJ,u.On,u.Q7,u.wO,a.sg,a.RF,a.n9,a.ED],pipes:[a.Nd],encapsulation:2}),n})(),pe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-state-wrapper"],["bb-payment-card-state-wrapper-ui"]],inputs:{state:"state"},ngContentSelectors:Pn,decls:4,vars:4,consts:function(){let o,t,_,i;return o="Inactive",t="Locked",_="Cancelled",i="Expired",[[1,"bb-payment-card-state"],["class","bb-payment-card-state__container",4,"ngIf"],[3,"ngClass"],[1,"bb-payment-card-state__container"],[4,"ngIf"],["name","warning","size","xxl","color","white",1,"bb-payment-card-state__icon"],["text",o,"color","secondary"],["name","lock","size","xxl","color","white",1,"bb-payment-card-state__icon"],["text",t,"color","secondary"],["name","not-interested","size","xxl","color","white",1,"bb-payment-card-state__icon"],["text",_,"color","secondary"],["name","access-time","size","xxl","color","white",1,"bb-payment-card-state__icon"],["text",i,"color","secondary"]]},template:function(t,_){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,Jn,5,4,"div",1),e.TgZ(2,"div",2),e.Hsn(3),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf",_.state),e.xp6(1),e.Q6J("ngClass",e.VKq(2,Kn,_.state)))},directives:[L.o,H.F,a.O5,a.mk],encapsulation:2}),n})(),le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[a.ez,H.T,b.hJ,L.Q,g.M,B.m8,S.C,E.zk,m.Ne,d.w,h.n,f.w,w.i7,T.J,y.P,C.p,u.u5,u.UX]]}),n})();var Qe=c(8451),Gn=c(1089),xn=c(3508),kn=c(8612),qe=c(4619),ze=c(9565),$e=c(4291),Fn=c(3759),Ie=c(3623),Ve=c(7656),Te=c(4376);function Hn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"bb-switch-ui",26),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).lockStatus=i}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("id",t.lockStatus.toString())("ngModel",t.lockStatus)}}function Wn(n,o){1&n&&e._UZ(0,"bb-loading-indicator-ui",27)}function wn(n,o){1&n&&(e.ynx(0),e.TgZ(1,"h5",11),e.SDv(2,28),e.qZA(),e.TgZ(3,"span",13),e.SDv(4,29),e.qZA(),e.BQk())}function Yn(n,o){1&n&&(e.ynx(0),e.TgZ(1,"h5",11),e.SDv(2,30),e.qZA(),e.TgZ(3,"span",13),e.SDv(4,31),e.qZA(),e.BQk())}function Zn(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",3)(2,"h2"),e.SDv(3,4),e.qZA()(),e.TgZ(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8),e._UZ(8,"bb-icon-ui",9),e.TgZ(9,"div",10)(10,"h5",11),e.SDv(11,12),e.qZA(),e.TgZ(12,"span",13),e.SDv(13,14),e.qZA()()(),e.TgZ(14,"form"),e.YNc(15,Hn,1,2,"bb-switch-ui",15),e.YNc(16,Wn,1,0,"bb-loading-indicator-ui",16),e.qZA()(),e.TgZ(17,"div",17)(18,"div",18),e._UZ(19,"bb-icon-ui",19),e.TgZ(20,"div",10)(21,"h5",11),e.SDv(22,20),e.qZA(),e.TgZ(23,"span",13),e.SDv(24,21),e.qZA()()(),e.TgZ(25,"div",22)(26,"bb-payment-card-initiate-replacement",23),e.NdJ("initiateReplacement",function(i){return e.CHM(t),e.oxw(2).onInitiateReplacement(i)}),e.qZA()()(),e.TgZ(27,"div",17)(28,"div",18),e._UZ(29,"bb-icon-ui",24),e.TgZ(30,"div",10),e.YNc(31,wn,5,0,"ng-container",2),e.YNc(32,Yn,5,0,"ng-container",2),e.qZA()(),e.TgZ(33,"div",22)(34,"bb-payment-card-reset-pin",25),e.NdJ("resetPin",function(i){return e.CHM(t),e.oxw(2).onResetPin(i)})("requestPin",function(i){return e.CHM(t),e.oxw(2).onRequestPin(i)}),e.qZA()()()()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(15),e.Q6J("ngIf",!t.isLockLoading),e.xp6(1),e.Q6J("ngIf",t.isLockLoading),e.xp6(10),e.Q6J("paymentCard",t.paymentCard)("isInitiateReplacementLoading",t.isInitiateReplacementLoading),e.xp6(5),e.Q6J("ngIf","RESET"===t.resetPinMode),e.xp6(1),e.Q6J("ngIf","REQUEST"===t.resetPinMode),e.xp6(2),e.Q6J("cardPinLength",t.cardPinLength)("paymentCard",t.paymentCard)("mode",t.resetPinMode)("isResetPinLoading",t.isResetPinLoading)}}function Qn(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",5)(2,"div",32)(3,"h2"),e.SDv(4,33),e.qZA(),e.TgZ(5,"p",34),e.SDv(6,35),e.qZA()(),e.TgZ(7,"div",36)(8,"bb-payment-card-initiate-activation",37),e.NdJ("initiateActivation",function(i){return e.CHM(t),e.oxw(2).onInitiateActivation(i)}),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("paymentCard",t.paymentCard)("isInitiateActivationLoading",t.isInitiateActivationLoading)}}function qn(n,o){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,Zn,35,10,"ng-container",2),e.YNc(2,Qn,9,2,"ng-container",2),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","ACTIVE"===t.paymentCard.status),e.xp6(1),e.Q6J("ngIf","INACTIVE"===t.paymentCard.status)}}function zn(n,o){1&n&&(e.TgZ(0,"div",2),e._UZ(1,"bb-alert-ui",13),e.qZA())}function $n(n,o){1&n&&(e.TgZ(0,"div",2),e._UZ(1,"bb-alert-ui",14),e.qZA())}function Vn(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payment-card-delivery-status",15),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("deliveryStatus",t.paymentCard.deliveryStatus)}}function jn(n,o){if(1&n&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"bb-payment-card-state-wrapper-ui",6),e._UZ(6,"bb-payment-card-ui",7),e.qZA()()(),e.TgZ(7,"div",8)(8,"div",2)(9,"h2"),e.SDv(10,9),e.ALo(11,"lowercase"),e.qZA()()()()(),e.ynx(12,10),e.YNc(13,zn,2,0,"div",11),e.YNc(14,$n,2,0,"div",11),e.BQk(),e.YNc(15,Vn,2,1,"ng-container",12),e.qZA()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("state",t.getDisplayState()),e.xp6(1),e.Q6J("paymentCard",t.paymentCard),e.xp6(5),e.pQV(t.paymentCard.name)(e.lcZ(11,8,t.paymentCard.type)),e.QtT(10),e.xp6(1),e.Q6J("ngSwitch",t.paymentCard.replacementStatus),e.xp6(1),e.Q6J("ngSwitchCase",t.paymentCardReplacementStatus.UnderReplacement),e.xp6(1),e.Q6J("ngSwitchCase",t.paymentCardReplacementStatus.Replaced),e.xp6(1),e.Q6J("ngIf",t.paymentCard.deliveryStatus)}}function __(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"h2"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.heading," ")}}function a_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"bb-payment-card",6),e.NdJ("selectCard",function(i){return e.CHM(t),e.oxw().onSelectCard(i)}),e.qZA()()}if(2&n){const t=o.$implicit,_=e.oxw();e.xp6(1),e.Q6J("paymentCard",t)("notificationTtl",_.notificationTtl)("updateAllLimits",_.updateAllLimits)}}function o_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"bb-payment-card-group",5),e.NdJ("selectCard",function(i){return e.CHM(t),e.oxw(4).onSelectCard(i)}),e.qZA()}if(2&n){const t=e.oxw().$implicit,_=e.oxw(3);e.Q6J("heading",t.heading)("paymentCards",t.paymentCards)("notificationTtl",_.notificationTtl)("updateAllLimits",_.updateAllLimits)}}function i_(n,o){if(1&n&&(e.ynx(0),e.YNc(1,o_,1,4,"bb-payment-card-group",4),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.paymentCards.length)}}function r_(n,o){if(1&n&&(e.ynx(0),e.YNc(1,i_,2,1,"ng-container",3),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.paymentCardGroups)}}function s_(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-payment-card-group",6),e.NdJ("selectCard",function(i){return e.CHM(t),e.oxw(2).onSelectCard(i)}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("paymentCards",t.paymentCards)("notificationTtl",t.notificationTtl)}}function c_(n,o){if(1&n&&(e.ynx(0),e.YNc(1,r_,2,1,"ng-container",2),e.YNc(2,s_,2,2,"ng-container",2),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.paymentCardGroups.length),e.xp6(1),e.Q6J("ngIf",!t.paymentCardGroups.length)}}function l_(n,o){1&n&&(e.TgZ(0,"div",7),e._UZ(1,"bb-empty-state-ui",8),e.qZA())}function d_(n,o){1&n&&(e.ynx(0),e._UZ(1,"bb-badge-ui",2),e.BQk())}function E_(n,o){1&n&&(e.ynx(0),e._UZ(1,"bb-badge-ui",3),e.BQk())}function S_(n,o){1&n&&(e.ynx(0),e._UZ(1,"bb-badge-ui",4),e.BQk())}function A_(n,o){1&n&&(e.ynx(0),e._uU(1,", "),e.BQk())}function u_(n,o){1&n&&(e.ynx(0),e._uU(1,"\xa0"),e.BQk())}function C_(n,o){1&n&&(e.ynx(0),e.SDv(1,34),e.BQk())}function p_(n,o){1&n&&(e.ynx(0),e._uU(1,"\xa0"),e.BQk())}function M_(n,o){if(1&n&&(e.ynx(0),e.YNc(1,A_,2,0,"ng-container",33),e.YNc(2,u_,2,0,"ng-container",33),e.YNc(3,C_,2,0,"ng-container",33),e.YNc(4,p_,2,0,"ng-container",33),e.ynx(5),e._uU(6),e.BQk()()),2&n){const t=o.$implicit,_=o.first,i=o.last,r=e.oxw();e.xp6(1),e.Q6J("ngIf",!i&&!_),e.xp6(1),e.Q6J("ngIf",!_&&i),e.xp6(1),e.Q6J("ngIf",!_&&i),e.xp6(1),e.Q6J("ngIf",!_&&i),e.xp6(2),e.Oqu(r.getCountryName(t))}}function m_(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"div"),e._UZ(2,"bb-icon-ui",35),e.TgZ(3,"span",12),e.SDv(4,36),e.qZA()(),e.TgZ(5,"div")(6,"div"),e._uU(7),e.qZA()()()),2&n){const t=e.oxw();e.xp6(7),e.Oqu(null==t.travelNoticeItem||null==t.travelNoticeItem.contact?null:t.travelNoticeItem.contact.phoneNumber)}}function g_(n,o){if(1&n&&(e.TgZ(0,"div",37),e._UZ(1,"bb-cards-travel-notice-payment-card",38),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("paymentCard",t)}}function B_(n,o){1&n&&(e.TgZ(0,"span",39),e.SDv(1,40),e.qZA())}function N_(n,o){1&n&&(e.TgZ(0,"span",39),e.SDv(1,41),e.qZA())}function D_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"h2"),e.SDv(1,42),e.qZA(),e.TgZ(2,"div")(3,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().onCancel()}),e._UZ(4,"bb-icon-ui",43),e.qZA()()}}function b_(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,44),e.qZA())}function f_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().onCancel()}),e.TgZ(1,"span"),e.SDv(2,46),e.qZA()(),e.TgZ(3,"button",47),e.NdJ("click",function(){return e.CHM(t),e.oxw().onConfirm()}),e.TgZ(4,"span"),e.SDv(5,48),e.qZA()()}}const O_=function(n){return{"bb-travel-notice-list-item--expired":n}};function U_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"bb-cards-travel-notice-list-item",10),e.NdJ("delete",function(i){return e.CHM(t),e.oxw().onDeleteListItem(i)}),e.qZA()()}if(2&n){const t=o.$implicit,_=e.oxw();e.xp6(1),e.Q6J("travelNoticeItem",t)("destinationList",_.destinationList)}}function R_(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",7)(2,"div",2)(3,"div",8)(4,"div",9)(5,"bb-input-checkbox-ui",10)(6,"div",11),e._UZ(7,"bb-cards-travel-notice-payment-card",12),e.qZA()()()()()(),e.BQk()),2&n){const t=o.$implicit;e.xp6(5),e.Q6J("formControlName",t.id),e.xp6(2),e.Q6J("paymentCard",t)}}function I_(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,", "),e.qZA())}function T_(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"\xa0"),e.qZA())}function v_(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,23),e.qZA())}function y_(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"\xa0"),e.qZA())}function h_(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,I_,2,0,"span",22),e.YNc(2,T_,2,0,"span",22),e.YNc(3,v_,2,0,"span",22),e.YNc(4,y_,2,0,"span",22),e.TgZ(5,"span"),e._uU(6),e.qZA()()),2&n){const t=o.$implicit,_=o.first,i=o.last,r=e.oxw();e.xp6(1),e.Q6J("ngIf",!i&&!_),e.xp6(1),e.Q6J("ngIf",!_&&i),e.xp6(1),e.Q6J("ngIf",!_&&i),e.xp6(1),e.Q6J("ngIf",!_&&i),e.xp6(2),e.Oqu(r.getCountryName(t))}}function L_(n,o){if(1&n&&(e.TgZ(0,"div",24)(1,"div")(2,"span",3),e._UZ(3,"bb-icon-ui",25),e.TgZ(4,"span",5),e.SDv(5,26),e.qZA()()(),e.TgZ(6,"div")(7,"div",27),e._uU(8),e.qZA()()()),2&n){const t=e.oxw();e.xp6(8),e.hij(" ",null==t.travelNoticeItem||null==t.travelNoticeItem.contact?null:t.travelNoticeItem.contact.phoneNumber," ")}}function J_(n,o){if(1&n&&(e.TgZ(0,"div",28)(1,"div",29),e._UZ(2,"bb-cards-travel-notice-payment-card",30),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Q6J("paymentCard",t)}}const K_=function(n,o){return{"bb-block bb-block--lg":n,"bb-block bb-block--xl":o}};function P_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"h2"),e.SDv(1,15),e.qZA(),e.TgZ(2,"div")(3,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeConfirmationDialog()}),e._UZ(4,"bb-icon-ui",17),e.qZA()()}}function G_(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,18),e.qZA())}function x_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeConfirmationDialog()}),e.TgZ(1,"span"),e.SDv(2,20),e.qZA()(),e.TgZ(3,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmCancel()}),e.TgZ(4,"span"),e.SDv(5,22),e.qZA()()}}function k_(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,64),e.qZA())}function F_(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,68),e.qZA())}function H_(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,69),e.qZA())}function W_(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,70),e.qZA())}function w_(n,o){if(1&n&&(e.ynx(0,66),e.YNc(1,F_,2,0,"span",67),e.YNc(2,H_,2,0,"span",67),e.YNc(3,W_,2,0,"span",67),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.key),e.xp6(1),e.Q6J("ngSwitchCase","required"),e.xp6(1),e.Q6J("ngSwitchCase","invalidDate"),e.xp6(1),e.Q6J("ngSwitchCase","invalidDateFormat")}}function Y_(n,o){if(1&n&&(e.ynx(0),e.YNc(1,w_,4,4,"ng-container",65),e.BQk()),2&n){const t=o.last;e.xp6(1),e.Q6J("ngIf",t)}}function Z_(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,71),e.qZA())}function Q_(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,72),e.qZA())}function q_(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,73),e.qZA())}function z_(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,74),e.qZA())}function $_(n,o){if(1&n&&(e.ynx(0,66),e.YNc(1,Z_,2,0,"span",67),e.YNc(2,Q_,2,0,"span",67),e.YNc(3,q_,2,0,"span",67),e.YNc(4,z_,2,0,"span",67),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.key),e.xp6(1),e.Q6J("ngSwitchCase","required"),e.xp6(1),e.Q6J("ngSwitchCase","invalidDate"),e.xp6(1),e.Q6J("ngSwitchCase","invalidCurrentDate"),e.xp6(1),e.Q6J("ngSwitchCase","invalidDateFormat")}}function V_(n,o){if(1&n&&(e.ynx(0),e.YNc(1,$_,5,5,"ng-container",65),e.BQk()),2&n){const t=o.last;e.xp6(1),e.Q6J("ngIf",t)}}function j_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"bb-alert-ui",75),e.NdJ("close",function(){return e.CHM(t),e.oxw(2).onAlertDismiss()}),e.qZA()}2&n&&e.Q6J("dismissible",!0)}function X_(n,o){if(1&n&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" ",t.cardIdsGroup.value.length," of ",null==t.paymentCards?null:t.paymentCards.length," selected ")}}function ea(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"h2",26),e.SDv(2,77),e.qZA(),e.TgZ(3,"div",26),e._UZ(4,"bb-cards-travel-notice-confirm-step",78),e.qZA(),e.TgZ(5,"div",50)(6,"button",79),e.SDv(7,80),e.qZA(),e.TgZ(8,"button",59),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return i.backForCardIds(i.cardIdsGroup)}),e.SDv(9,81),e.qZA(),e.TgZ(10,"button",53),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onCancel()}),e.SDv(11,82),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("travelNoticeItem",t.travelNoticeItem)("selectedCards",null==t.cardIdsGroup?null:t.cardIdsGroup.value)("destinationList",t.destinationList)}}const ta=function(n){return{"bb-block--sm":n}};function na(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",23),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onSubmitTravelNotice()}),e.TgZ(1,"form",24)(2,"div",25)(3,"h2",26),e.SDv(4,27),e.qZA(),e.TgZ(5,"div",26)(6,"div",0)(7,"div",28)(8,"div",29)(9,"div",30)(10,"label"),e.SDv(11,31),e.qZA(),e._UZ(12,"ng-select",32),e.qZA()()(),e.TgZ(13,"bb-input-validation-message-ui",33),e.YNc(14,k_,2,0,"span",34),e.qZA()(),e.TgZ(15,"div",28)(16,"div",35),e._UZ(17,"bb-input-datepicker-ui",36),e.TgZ(18,"bb-input-validation-message-ui",33),e.YNc(19,Y_,2,1,"ng-container",37),e.ALo(20,"keyvalue"),e.qZA()(),e.TgZ(21,"div",35),e._UZ(22,"bb-input-datepicker-ui",38),e.TgZ(23,"bb-input-validation-message-ui",33),e.YNc(24,V_,2,1,"ng-container",37),e.ALo(25,"keyvalue"),e.qZA()()(),e.TgZ(26,"div",39)(27,"label")(28,"strong"),e.SDv(29,40),e.qZA()(),e.TgZ(30,"span",41),e.SDv(31,42),e.qZA(),e.TgZ(32,"div",43)(33,"div",28)(34,"div",29)(35,"div",44),e._UZ(36,"bb-input-phone-ui",45),e.TgZ(37,"bb-input-validation-message-ui",33)(38,"div",46)(39,"span"),e.SDv(40,47),e.qZA()()()()()()(),e.TgZ(41,"span",48),e.SDv(42,49),e.qZA()()(),e.TgZ(43,"div",50)(44,"button",51),e.NdJ("click",function(){return e.CHM(t),e.oxw().checkFormValid()}),e.SDv(45,52),e.qZA(),e.TgZ(46,"button",53),e.NdJ("click",function(){return e.CHM(t),e.oxw().onCancel()}),e.SDv(47,54),e.qZA()()()(),e.TgZ(48,"div",25)(49,"h2",26),e.SDv(50,55),e.qZA(),e.YNc(51,j_,1,1,"bb-alert-ui",56),e.TgZ(52,"div",0),e._UZ(53,"bb-cards-travel-notice-checkbox-cards",57),e.qZA(),e.TgZ(54,"div",50)(55,"button",51),e.NdJ("click",function(){return e.CHM(t),e.oxw().checkFormValid()}),e.SDv(56,58),e.qZA(),e.TgZ(57,"button",59),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.back(i.detailsGroup)}),e.SDv(58,60),e.qZA(),e.YNc(59,X_,2,2,"div",61),e.TgZ(60,"div",62)(61,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().onCancel()}),e.SDv(62,63),e.qZA()()()(),e.YNc(63,ea,12,3,"div",34),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.createTravelNoticeForm),e.xp6(1),e.Q6J("formGroup",t.detailsGroup),e.xp6(1),e.Q6J("hidden",1!==t.currentStep),e.xp6(10),e.Q6J("items",t.destinationListDisplay)("hideSelected",!0)("multiple",!0)("formControl",t.destinations),e.xp6(1),e.Q6J("showErrors",!t.isFieldValid("destinations")),e.xp6(1),e.Q6J("ngIf",t.destinations.hasError("required")),e.xp6(3),e.Q6J("overrideDateFormat","longDate"),e.xp6(1),e.Q6J("showErrors",!t.isFieldValid("departureDate")),e.xp6(1),e.Q6J("ngForOf",e.lcZ(20,23,t.departureDate.errors)),e.xp6(3),e.Q6J("overrideDateFormat","longDate"),e.xp6(1),e.Q6J("showErrors",!t.isFieldValid("arrivalDate")),e.xp6(1),e.Q6J("ngForOf",e.lcZ(25,25,t.arrivalDate.errors)),e.xp6(8),e.Q6J("ngClass",e.VKq(27,ta,t.isFieldValid("contactNumber"))),e.xp6(5),e.Q6J("showErrors",!t.isFieldValid("contactNumber")),e.xp6(11),e.Q6J("hidden",2!==t.currentStep),e.xp6(3),e.Q6J("ngIf",t.displayAlert),e.xp6(2),e.Q6J("paymentCards",t.paymentCards)("formControl",t.cardIdsGroup),e.xp6(6),e.Q6J("ngIf",0!==t.cardIdsGroup.value.length),e.xp6(4),e.Q6J("ngIf",3===t.currentStep)}}function _a(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-cards-travel-notice-list",3),e.NdJ("create",function(i){return e.CHM(t),e.oxw(2).setPage(i)})("deleteListItem",function(i){return e.CHM(t),e.oxw(2).onRemove(i)}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("travelNoticeList",t.travelNoticeList)("destinationList",t.destinationList)}}function aa(n,o){if(1&n&&(e.ynx(0),e.YNc(1,_a,2,2,"ng-container",2),e.BQk()),2&n){const t=e.oxw(),_=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.hasItems)("ngIfElse",_)}}function oa(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-cards-travel-notice-create",4),e.NdJ("abortCreation",function(i){return e.CHM(t),e.oxw().setPage(i)})("save",function(i){return e.CHM(t),e.oxw().saveTravelNotice(i)}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("paymentCards",t.paymentCards)("destinationList",t.destinationList)}}function ia(n,o){if(1&n&&e._UZ(0,"img",19),2&n){const t=e.oxw(2);e.Q6J("src",t.imageUrl,e.LSH)}}function ra(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"div",7),e.YNc(3,ia,1,1,"img",8),e.qZA(),e.TgZ(4,"h2",9),e.SDv(5,10),e.qZA(),e.TgZ(6,"div",11)(7,"div",12)(8,"div",13)(9,"p",14),e.SDv(10,15),e.qZA()()()(),e.TgZ(11,"div")(12,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().setPage({goToPage:"create"})}),e._UZ(13,"bb-icon-ui",17),e.TgZ(14,"span"),e.SDv(15,18),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",""!==t.imageUrl)}}let je=(()=>{class n extends fe{get lockStatus(){return this.isLocked||!1}set lockStatus(t){t?this.onLock():this.onUnlock()}}return n.\u0275fac=function(){let o;return function(_){return(o||(o=e.n5z(n)))(_||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-card-details-payment-card-controls"]],features:[e.qOj],decls:1,vars:1,consts:function(){let o,t,_,i,r,l,O,v,F,k,q,z;return o=" Self service ",t=" Lock card ",_=" Freeze your card temporarily ",i="lock/unlock your payment card, Freeze your card temporarily",r=" Replace card ",l=" Replace lost, stolen or damaged cards ",O=" Reset PIN ",v=" Change your PIN online ",F=" Request new PIN ",k=" Request a new PIN by mail ",q=" Card activation ",z=" In order to use this card you need to activate it first. ",[["class","bb-block--lg bb-list card",4,"ngIf"],[1,"bb-block--lg","bb-list","card"],[4,"ngIf"],[1,"card-header"],o,[1,"card-body"],[1,"bb-list"],[1,"bb-list__item","bb-stack"],[1,"bb-stack","bb-stack--align-top"],["name","lock","size","md",1,"bb-stack__item"],[1,"bb-stack__item"],[1,"bb-block--no-margin"],t,[1,"bb-text-support","text-small"],_,["aria-label",i,"name","lockStatus",3,"id","ngModel","ngModelChange",4,"ngIf"],["loaderSize","sm",4,"ngIf"],[1,"bb-list__item","bb-stack","bb-payment-card-self-service-row"],[1,"bb-stack","bb-stack--align-top","bb-stack__item","bb-payment-card-self-service-row__description"],["name","autorenew","size","md",1,"bb-stack__item"],r,l,[1,"bb-stack__item","bb-payment-card-self-service-row__button"],[3,"paymentCard","isInitiateReplacementLoading","initiateReplacement"],["name","dialpad","size","md",1,"bb-stack__item"],[3,"cardPinLength","paymentCard","mode","isResetPinLoading","resetPin","requestPin"],["aria-label",i,"name","lockStatus",3,"id","ngModel","ngModelChange"],["loaderSize","sm"],O,v,F,k,[1,"bb-block","bb-block--lg"],q,[1,"bb-text-support"],z,[1,"bb-payment-card-self-service__inactive-container"],[3,"paymentCard","isInitiateActivationLoading","initiateActivation"]]},template:function(t,_){1&t&&e.YNc(0,qn,3,2,"div",0),2&t&&e.Q6J("ngIf",_.paymentCard)},directives:[L.o,Qe.q,C.Q,Ue,Ze,Oe,a.O5,u._Y,u.JL,u.F,u.JJ,u.On],encapsulation:2}),n})(),Xe=(()=>{class n{constructor(){this.paymentCardReplacementStatus=p}getDisplayState(){return this.paymentCard&&this.paymentCard.status===s.Inactive?"INACTIVE":this.paymentCard&&this.paymentCard.status===s.Canceled?"CANCELLED":this.paymentCard&&this.paymentCard.status===s.Expired?"EXPIRED":this.paymentCard&&this.paymentCard.lockStatus===U.Locked?"LOCKED":void 0}ngOnInit(){if(void 0===this.paymentCard)throw new Error(`"paymentCard" input is required in "${this.constructor.name}"`)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-summary"]],inputs:{paymentCard:"paymentCard"},decls:1,vars:1,consts:function(){let o,t,_,i,r;return o=" " + "\ufffd0\ufffd" + " " + "\ufffd1\ufffd" + " card ",t="Cancelled Card",_="New cards are usually delivered within 3-5 business days",i="Cancelled Card",r="New cards are usually delivered within 3-5 business days",[["class","bb-payment-card-summary",4,"ngIf"],[1,"bb-payment-card-summary"],[1,"bb-block","bb-block--xl"],[1,"row"],[1,"col-auto"],[1,"bb-payment-card-component"],[3,"state"],[3,"paymentCard"],[1,"col-12","order-first","col-sm","order-sm-last"],o,[3,"ngSwitch"],["class","bb-block bb-block--xl",4,"ngSwitchCase"],[4,"ngIf"],["modifier","warning","title",t,"message",_],["modifier","warning","title",i,"message",r],[3,"deliveryStatus"]]},template:function(t,_){1&t&&e.YNc(0,jn,16,10,"div",0),2&t&&e.Q6J("ngIf",_.paymentCard)},directives:[pe,f.u,h.w,He,a.O5,a.RF,a.n9],pipes:[a.i8],encapsulation:2}),n})(),sa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[a.ez,u.u5,Qe.o,C.p,y.P,f.w,h.n,L.Q,le]]}),n})(),et=(()=>{class n extends be{constructor(t,_){super(t,_),this.cd=t,this.notificationService=_}ngOnInit(){var t,_,i,r;const l={activationErrorHeader:"Error",activationErrorMessage:"Failed to Activate Card. Unable to proceed, please try again.",activationSuccessHeader:"Card Activated.",lockErrorHeader:"Error",lockErrorMessage:"Card number ending with " + (null === (t = this.paymentCard) || void 0 === t ? void 0 : t.number) + " cannot be locked! Try again later.",lockSuccessHeader:"Card locked",lockSuccessMessage:"Card number ending with " + (null === (_ = this.paymentCard) || void 0 === _ ? void 0 : _.number) + " has been locked.",replacementErrorHeader:"Error",replacementErrorMessage:"Unable to request a card replacement. Try again later.",replacementSuccessHeader:"New card ordered",replacementSuccessMessage:"A new card has been ordered.",requestNewPinSuccessMessage:"New PIN requested",requestPinErrorMessage:"Can't request PIN.  Please try again later.",resetPinSuccessMessage:"PIN successfully reset",resetPinErrorMessage:"Unable to change PIN.  Please try again later.",resetInvalidPinMessage:"Unable to change PIN. New PIN and confirm don't match",unlockErrorHeader:"Error",unlockErrorMessage:"Card number ending with " + (null === (i = this.paymentCard) || void 0 === i ? void 0 : i.number) + " cannot be unlocked! Try again later.",unlockSuccessHeader:"Card unlocked",unlockSuccessMessage:"Card number ending with " + (null === (r = this.paymentCard) || void 0 === r ? void 0 : r.number) + " has been unlocked.",updateLimitErrorHeader:"",updateLimitErrorMessage:"Unable to change card limit",updateLimitSuccessHeader:"Limit changed",updateLimitSuccessMessage:"Card limit changed successfully"};this.localizations=Object.assign({},l)}getDisplayState(){return this.paymentCard&&this.paymentCard.status===s.Inactive?"INACTIVE":this.paymentCard&&this.paymentCard.status===s.Canceled?"CANCELLED":this.paymentCard&&this.paymentCard.status===s.Expired?"EXPIRED":this.paymentCard&&this.paymentCard.lockStatus===U.Locked?"LOCKED":void 0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(Y.gq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card"]],features:[e.qOj],decls:3,vars:2,consts:[[1,"bb-payment-card-component"],[2,"cursor","pointer",3,"state","click"],["bbAccessibilityKeyboard","",3,"paymentCard"]],template:function(t,_){1&t&&(e.TgZ(0,"div",0)(1,"bb-payment-card-state-wrapper-ui",1),e.NdJ("click",function(){return _.onOpenDetails()}),e._UZ(2,"bb-payment-card-ui",2),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("state",_.getDisplayState()),e.xp6(1),e.Q6J("paymentCard",_.paymentCard))},directives:[pe,f.u],encapsulation:2}),n})(),tt=(()=>{class n{constructor(){this.selectCard=new e.vpe}ngOnInit(){if(void 0===this.paymentCards)throw new Error(`"paymentCards" input is required in "${this.constructor.name}"`)}onSelectCard(t){this.selectCard.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-group"]],inputs:{heading:"heading",paymentCards:"paymentCards",notificationTtl:"notificationTtl",updateAllLimits:"updateAllLimits"},outputs:{selectCard:"selectCard"},decls:4,vars:2,consts:[[1,"bb-block","bb-block--sm"],["class","bb-payment-card-group-header bb-block bb-block--lg",4,"ngIf"],[1,"bb-stack","bb-stack--wrap","bb-stack--density-lg"],["class","bb-stack__item bb-block--lg",4,"ngFor","ngForOf"],[1,"bb-payment-card-group-header","bb-block","bb-block--lg"],[1,"bb-stack__item","bb-block--lg"],[3,"paymentCard","notificationTtl","updateAllLimits","selectCard"]],template:function(t,_){1&t&&(e.TgZ(0,"div",0),e.YNc(1,__,3,1,"div",1),e.TgZ(2,"div",2),e.YNc(3,a_,2,3,"div",3),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf",_.heading),e.xp6(2),e.Q6J("ngForOf",_.paymentCards))},directives:[et,a.O5,a.sg],encapsulation:2}),n})(),nt=(()=>{class n{constructor(){this._groupByPaymentCardTypes=[],this.paymentCardTypes=[],this.selectCard=new e.vpe,this.paymentCardGroups=[]}set groupByPaymentCardTypesValue(t){this._groupByPaymentCardTypes=t,Array.isArray(t)&&(this.paymentCardTypes=t.map(_=>({type:_,heading:_+" "+"cards"})))}get hasItems(){return void 0!==this.paymentCards&&this.paymentCards.length>0}get groupByPaymentCardTypes(){return this._groupByPaymentCardTypes}ngOnChanges(t){this.paymentCardGroups=((n,o)=>o.reduce((t,_)=>{const i=((n,o)=>({type:o.type,paymentCards:n.filter(t=>t.type===o.type),heading:o.heading}))(n,_);return i.paymentCards.length?[...t,i]:t},[]))(t.paymentCards?t.paymentCards.currentValue:this.paymentCards,t.paymentCardTypes?t.paymentCardTypes.currentValue:this.paymentCardTypes)}onSelectCard(t){this.selectCard.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-cards-container"]],inputs:{paymentCards:"paymentCards",groupByPaymentCardTypesValue:["groupByPaymentCardTypes","groupByPaymentCardTypesValue"],paymentCardTypes:"paymentCardTypes",notificationTtl:"notificationTtl",updateAllLimits:"updateAllLimits"},outputs:{selectCard:"selectCard"},features:[e.TTD],decls:3,vars:2,consts:function(){let o,t;return o="No Cards Found",t="You don't have any cards to be displayed.",[[4,"ngIf","ngIfElse"],["emptyState",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","bb-block bb-block--sm",3,"heading","paymentCards","notificationTtl","updateAllLimits","selectCard",4,"ngIf"],[1,"bb-block","bb-block--sm",3,"heading","paymentCards","notificationTtl","updateAllLimits","selectCard"],[3,"paymentCards","notificationTtl","selectCard"],[1,"card","bb-state-container"],["title",o,"subtitle",t,"iconSize","xxl","iconModifier","credit-card"]]},template:function(t,_){if(1&t&&(e.YNc(0,c_,3,2,"ng-container",0),e.YNc(1,l_,2,0,"ng-template",null,1,e.W1O)),2&t){const i=e.MAs(2);e.Q6J("ngIf",_.hasItems)("ngIfElse",i)}},directives:[tt,y.s,a.O5,a.sg],encapsulation:2}),n})(),Ea=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[a.ez,u.u5,S.C,le,f.w,y.P]]}),n})(),_t=(()=>{class n{constructor(t){this.helper=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-status-badge"]],inputs:{travelNoticeItem:"travelNoticeItem"},features:[e._Bn([Ce])],decls:4,vars:3,consts:function(){let o,t,_;return o="Active",t="Scheduled",_="Expired",[[1,"bb-stack","bb-block","bb-block--md"],[4,"ngIf"],["text",o,"color","success"],["text",t,"color","info"],["text",_,"color","danger"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e.YNc(1,d_,2,0,"ng-container",1),e.YNc(2,E_,2,0,"ng-container",1),e.YNc(3,S_,2,0,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",_.helper.isDateInBetween(_.travelNoticeItem.departureDate,_.travelNoticeItem.arrivalDate)),e.xp6(1),e.Q6J("ngIf",_.helper.isUpcomingDate(_.travelNoticeItem.departureDate)&&_.helper.isUpcomingDate(_.travelNoticeItem.arrivalDate)),e.xp6(1),e.Q6J("ngIf",_.helper.isPastDate(_.travelNoticeItem.departureDate)&&_.helper.isPastDate(_.travelNoticeItem.arrivalDate)))},directives:[H.F,a.O5],encapsulation:2}),n})(),Me=(()=>{class n{getDisplayState(){return this.paymentCard&&this.paymentCard.status===s.Inactive?"INACTIVE":this.paymentCard&&this.paymentCard.status===s.Canceled?"CANCELLED":this.paymentCard&&this.paymentCard.status===s.Expired?"EXPIRED":this.paymentCard&&this.paymentCard.lockStatus===U.Locked?"LOCKED":void 0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-payment-card"]],inputs:{paymentCard:"paymentCard"},decls:2,vars:2,consts:[[3,"state"],[3,"paymentCard"]],template:function(t,_){1&t&&(e.TgZ(0,"bb-payment-card-state-wrapper-ui",0),e._UZ(1,"bb-payment-card-ui",1),e.qZA()),2&t&&(e.Q6J("state",_.getDisplayState()),e.xp6(1),e.Q6J("paymentCard",_.paymentCard))},directives:[pe,f.u],encapsulation:2}),n})(),at=(()=>{class n{constructor(t){this.helper=t,this.delete=new e.vpe,this.dialogOpen=!1,this.areCardsOpen=!1,this.onCancel=()=>{this.dialogOpen=!1},this.onConfirm=()=>{this.delete.emit(this.travelNoticeItem),this.dialogOpen=!1}}getCountryName(t){return Ge(this.destinationList,t)}onDelete(){this.dialogOpen=!0}toggleCardsVisibility(){this.areCardsOpen=!this.areCardsOpen}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-list-item"]],inputs:{travelNoticeItem:"travelNoticeItem",destinationList:"destinationList"},outputs:{delete:"delete"},features:[e._Bn([Ce])],decls:49,vars:18,consts:function(){let o,t,_,i,r,l,O,v,F,k,q,z;return o="Delete travel notice",t=" Departure date: ",_=" Return date: ",i=" Selected cards ",r="and",l=" Contact number: ",O=" Show less ",v=" Show more ",F=" Delete travel notice? ",k=" This travel notice information will be permanently deleted. ",q=" Keep it ",z=" Delete travel notice ",[[1,"bb-travel-notice-list-item",3,"ngClass"],[3,"travelNoticeItem"],[1,"bb-stack","bb-block","bb-block--md","bb-stack--align-top"],[1,"bb-stack__item","bb-travel-notice-header"],[4,"ngFor","ngForOf"],[1,"bb-stack__item","bb-stack__item--push-right"],["bbButton","","color","unstyled",3,"click"],["name","delete","aria-label",o],[1,"row"],[1,"col-md-3"],[1,"bb-block","bb-block--md"],["name","flight-takeoff","size","sm"],[1,"bb-text-support","bb-travel-notice-list__label"],t,[1,"bb-travel-notice-list-item__departure-date"],["name","flight-land","size","sm"],_,[1,"bb-travel-notice-list-item__return-date"],[1,"bb-block","bb-block--sm",3,"ngbCollapse"],["class","bb-block bb-block--md",4,"ngIf"],["data-role","selectCards header",1,"bb-block","bb-block--md"],[1,"bb-text-bold"],i,[1,"bb-stack","bb-stack--wrap"],["class","bb-stack__item bb-block bb-block--md",4,"ngFor","ngForOf"],["bbButton","","data-role","see-details-button","buttonSize","sm","color","link-text",3,"click"],["class","bb-travel-notice-list__label",4,"ngIf"],["size","md",3,"name"],[3,"isOpen","cancel"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["footerRef",""],["bbCustomModalFooter",""],[4,"ngIf"],r,["name","local-phone","size","sm"],l,[1,"bb-stack__item","bb-block","bb-block--md"],[3,"paymentCard"],[1,"bb-travel-notice-list__label"],O,v,F,["color","muted","name","clear"],k,["bbButton","","color","link",3,"click"],q,["bbButton","","color","danger",3,"click"],z]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-cards-travel-notice-status-badge",1),e.TgZ(2,"div",2)(3,"h3",3)(4,"div"),e.YNc(5,M_,7,5,"ng-container",4),e.qZA()(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){return _.onDelete()}),e._UZ(8,"bb-icon-ui",7),e.qZA()()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"div"),e._UZ(13,"bb-icon-ui",11),e.TgZ(14,"span",12),e.SDv(15,13),e.qZA()(),e.TgZ(16,"div",14),e._uU(17),e.ALo(18,"date"),e.qZA()()(),e.TgZ(19,"div",9)(20,"div",10)(21,"div"),e._UZ(22,"bb-icon-ui",15),e.TgZ(23,"span",12),e.SDv(24,16),e.qZA()(),e.TgZ(25,"div",17),e._uU(26),e.ALo(27,"date"),e.qZA()()()(),e.TgZ(28,"div",18),e.YNc(29,m_,8,1,"div",19),e.TgZ(30,"div")(31,"div",20)(32,"div",21),e.SDv(33,22),e.qZA()(),e.TgZ(34,"div",23),e.YNc(35,g_,2,1,"div",24),e.qZA()()(),e.TgZ(36,"div")(37,"button",25),e.NdJ("click",function(){return _.toggleCardsVisibility()}),e.YNc(38,B_,2,0,"span",26),e.YNc(39,N_,2,0,"span",26),e._UZ(40,"bb-icon-ui",27),e.qZA()()(),e.TgZ(41,"bb-modal-ui",28),e.NdJ("cancel",function(){return _.onCancel()}),e.TgZ(42,"bb-modal-header-ui"),e.YNc(43,D_,5,0,"ng-template",29),e.qZA(),e.TgZ(44,"bb-modal-body-ui"),e.YNc(45,b_,2,0,"ng-template",30),e.qZA(),e.TgZ(46,"bb-modal-footer-ui",null,31),e.YNc(48,f_,6,0,"ng-template",32),e.qZA()()),2&t&&(e.Q6J("ngClass",e.VKq(16,O_,_.helper.isPastDate(_.travelNoticeItem.arrivalDate))),e.xp6(1),e.Q6J("travelNoticeItem",_.travelNoticeItem),e.xp6(4),e.Q6J("ngForOf",null==_.travelNoticeItem?null:_.travelNoticeItem.destinations),e.xp6(12),e.hij(" ",e.lcZ(18,12,null==_.travelNoticeItem?null:_.travelNoticeItem.departureDate)," "),e.xp6(9),e.hij(" ",e.lcZ(27,14,null==_.travelNoticeItem?null:_.travelNoticeItem.arrivalDate)," "),e.xp6(2),e.Q6J("ngbCollapse",!_.areCardsOpen),e.xp6(1),e.Q6J("ngIf",null==_.travelNoticeItem||null==_.travelNoticeItem.contact?null:_.travelNoticeItem.contact.phoneNumber),e.xp6(6),e.Q6J("ngForOf",null==_.travelNoticeItem?null:_.travelNoticeItem.cards),e.xp6(3),e.Q6J("ngIf",_.areCardsOpen),e.xp6(1),e.Q6J("ngIf",!_.areCardsOpen),e.xp6(1),e.Q6J("name",_.areCardsOpen?"toggle-up":"toggle-down"),e.xp6(1),e.Q6J("isOpen",_.dialogOpen))},directives:[_t,L.o,Me,E.zS,E.Rb,E.KF,E.YI,a.mk,a.sg,a.O5,b.Hq,Ve._D,E.cA,E.Qd,E.yk],pipes:[a.uU],encapsulation:2}),n})(),ot=(()=>{class n{constructor(){this.create=new e.vpe,this.deleteListItem=new e.vpe}onShowCreateForm(){this.create.emit({goToPage:"create"})}onDeleteListItem(t){this.deleteListItem.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-list"]],inputs:{travelNoticeList:"travelNoticeList",destinationList:"destinationList"},outputs:{create:"create",deleteListItem:"deleteListItem"},decls:11,vars:1,consts:function(){let o;return o=" Create New",[[1,"bb-text-align-right","bb-block","bb-block--xl","bb-stack"],[1,"bb-stack__item","bb-stack__item--push-right"],["bbButton","","data-role","add-button",3,"click"],["name","add"],o,[1,"card","card-lg"],[1,"card-body"],[1,"bb-travel-notice-list","bb-list"],["class","bb-list__item",4,"ngFor","ngForOf"],[1,"bb-list__item"],[3,"travelNoticeItem","destinationList","delete"]]},template:function(t,_){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"button",2),e.NdJ("click",function(){return _.onShowCreateForm()}),e._UZ(4,"bb-icon-ui",3),e.TgZ(5,"span"),e.SDv(6,4),e.qZA()()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7),e.YNc(10,U_,2,2,"div",8),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("ngForOf",_.travelNoticeList))},directives:[L.o,at,b.Hq,a.sg],encapsulation:2}),n})(),it=(()=>{class n{constructor(t){this.fb=t,this.checkBoxCardsForm=new u.cw({}),this.indeterminate=!1,this.onChange=()=>{},this.onTouched=()=>{},this.isIndeterminate=()=>{if(this.checkBoxCardsForm){const _=this.checkBoxCardsForm.controls.cardIds.controls,i=Object.keys(_),r=i.reduce((l,O)=>_[O].value?l+1:l,0);return 0!==r&&r<i.length}return!1},this.parentChange=_=>{if(this.checkBoxCardsForm){const i=this.checkBoxCardsForm.controls.cardIds,r=this.createCardsObjectWithDefaultValue(Object.keys(i.controls),l=>l,_);i.setValue(r)}},this.childChange=_=>{this.indeterminate=this.isIndeterminate();const i=Object.keys(_||{}).filter(r=>!0===_[r]);this.onChange(i.map(r=>this.paymentCards&&this.paymentCards.find(l=>l.id===r)))}}createCardsObjectWithDefaultValue(t=[],_,i){return t.reduce((r,l)=>Object.assign(Object.assign({},r),{[_(l)]:i}),{})}hasCardsSelected(t){return Object.keys(t.controls).find(i=>!0===t.controls[i].value)?null:{empty:!0}}createForm(){const t=this.createCardsObjectWithDefaultValue(this.paymentCards,_=>_.id,[!1]);this.checkBoxCardsForm=this.fb.group({parent:[!1],cardIds:this.fb.group(t)}),this.checkBoxCardsForm.controls.cardIds.setValidators(this.hasCardsSelected)}writeValue(t){if(this.checkBoxCardsForm&&t&&this.paymentCards){const _=this.checkBoxCardsForm.controls.cardIds;t.forEach(i=>_.controls[i.id].setValue(!0)),t.length===this.paymentCards.length&&this.checkBoxCardsForm.patchValue({parent:!0})}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}ngOnInit(){if(this.createForm(),this.checkBoxCardsForm){const _=this.checkBoxCardsForm.controls.cardIds;this.parentSubscription=this.checkBoxCardsForm.controls.parent.valueChanges.subscribe(this.parentChange),this.childrenSubscription=_.valueChanges.subscribe(this.childChange)}}ngOnDestroy(){this.parentSubscription&&this.parentSubscription.unsubscribe(),this.childrenSubscription&&this.childrenSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-checkbox-cards"]],inputs:{paymentCards:"paymentCards"},features:[e._Bn([{provide:u.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:8,vars:3,consts:function(){let o,t;return o="Select all cards",t=" label=\"Select all cards\" ",[[3,"formGroup"],[1,"list-unstyled"],[1,"bb-block","bb-block--xl"],["formControlName","parent","label",o,3,"indeterminate"],t,["formGroupName","cardIds",1,"row","bb-create-travel-notice-card-group"],[4,"ngFor","ngForOf"],[1,"col-lg-6"],[1,"bb-stack"],[1,"bb-stack__item"],[3,"formControlName"],[1,"bb-create-travel-notice-card-group__payment-card"],[3,"paymentCard"]]},template:function(t,_){1&t&&(e.TgZ(0,"form",0)(1,"ul",1)(2,"li")(3,"div",2)(4,"bb-input-checkbox-ui",3),e.SDv(5,4),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,R_,8,2,"ng-container",6),e.qZA()()()()),2&t&&(e.Q6J("formGroup",_.checkBoxCardsForm),e.xp6(4),e.Q6J("indeterminate",_.indeterminate),e.xp6(3),e.Q6J("ngForOf",_.paymentCards))},directives:[qe.r,Me,u._Y,u.JL,u.sg,u.JJ,u.u,u.x0,a.sg],encapsulation:2}),n})(),rt=(()=>{class n{getCountryName(t){return Ge(this.destinationList,t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-confirm-step"]],inputs:{travelNoticeItem:"travelNoticeItem",selectedCards:"selectedCards",destinationList:"destinationList"},decls:38,vars:14,consts:function(){let o,t,_,i,r,l,O;return o=" Travel details ",t="Destination(s):",_="Departure date: ",i="Return date:",r=" Selected cards ",l="and",O="Contact number: ",[[1,"bb-create-travel-notice-review"],[1,"bb-block","bb-block--lg"],o,[1,"bb-inline-stack"],["name","location-on","size","sm",1,"bb-inline-stack__item"],[1,"bb-text-support","bb-inline-stack__item","bb-travel-notice-list__label"],t,["data-role","countries-label"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-3"],["name","flight-takeoff","size","sm",1,"bb-inline-stack__item",3,"cropped"],_,["data-role","departure-date-label"],[3,"ngClass"],["name","flight-land","size","sm",1,"bb-inline-stack__item"],i,["data-role","arrival-date-label"],["class","bb-block bb-block--xl",4,"ngIf"],r,[1,"bb-stack","bb-stack--wrap"],["class","bb-stack__item",4,"ngFor","ngForOf"],[4,"ngIf"],l,[1,"bb-block","bb-block--xl"],["name","local-phone","size","sm",1,"bb-inline-stack__item"],O,["data-role","contact-number-label"],[1,"bb-stack__item"],[1,"bb-block","bb-block--md"],[3,"paymentCard"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e.SDv(2,2),e.qZA(),e.TgZ(3,"div",1)(4,"div")(5,"span",3),e._UZ(6,"bb-icon-ui",4),e.TgZ(7,"span",5),e.SDv(8,6),e.qZA()()(),e.TgZ(9,"div",7),e.YNc(10,h_,7,5,"span",8),e.qZA()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",1)(14,"div")(15,"span",3),e._UZ(16,"bb-icon-ui",11),e.TgZ(17,"span",5),e.SDv(18,12),e.qZA()()(),e.TgZ(19,"div",13),e._uU(20),e.ALo(21,"date"),e.qZA()()(),e.TgZ(22,"div",10)(23,"div",14)(24,"div")(25,"span",3),e._UZ(26,"bb-icon-ui",15),e.TgZ(27,"span",5),e.SDv(28,16),e.qZA()()(),e.TgZ(29,"div",17),e._uU(30),e.ALo(31,"date"),e.qZA()()()(),e.YNc(32,L_,9,1,"div",18),e.TgZ(33,"div")(34,"h3",1),e.SDv(35,19),e.qZA(),e.TgZ(36,"div",20),e.YNc(37,J_,3,1,"div",21),e.qZA()()()),2&t&&(e.xp6(10),e.Q6J("ngForOf",null==_.travelNoticeItem?null:_.travelNoticeItem.destinations),e.xp6(6),e.Q6J("cropped",!0),e.xp6(4),e.hij(" ",e.lcZ(21,7,null==_.travelNoticeItem?null:_.travelNoticeItem.departureDate)," "),e.xp6(3),e.Q6J("ngClass",e.WLB(11,K_,null==_.travelNoticeItem||null==_.travelNoticeItem.contact?null:_.travelNoticeItem.contact.phoneNumber,!(null!=_.travelNoticeItem&&null!=_.travelNoticeItem.contact&&_.travelNoticeItem.contact.phoneNumber))),e.xp6(7),e.hij(" ",e.lcZ(31,9,null==_.travelNoticeItem?null:_.travelNoticeItem.arrivalDate)," "),e.xp6(2),e.Q6J("ngIf",null==_.travelNoticeItem||null==_.travelNoticeItem.contact?null:_.travelNoticeItem.contact.phoneNumber),e.xp6(5),e.Q6J("ngForOf",_.selectedCards))},directives:[L.o,Me,a.sg,a.O5,a.mk],pipes:[a.uU],encapsulation:2}),n})(),st=(()=>{class n{constructor(t,_){this.fb=t,this.datePipe=_,this.abortCreation=new e.vpe,this.save=new e.vpe,this.currentStep=1,this.createTravelNoticeForm=new u.cw({}),this.dialogOpen=!1,this.displayAlert=!1,this.travelNoticeItem={arrivalDate:"",cards:[],departureDate:"",destinations:[]},this.closeConfirmationDialog=()=>{this.dialogOpen=!1},this.confirmCancel=()=>{this.closeConfirmationDialog(),this.abortCreation.emit({goToPage:"list"})},this.updateTravelNoticeValue=i=>{const r=i.details,l=i.cardIds;l&&(this.travelNoticeItem=Object.assign(Object.assign({},this.travelNoticeItem),{cards:l})),r&&(this.travelNoticeItem=Object.assign(Object.assign({},this.travelNoticeItem),{destinations:r.destinations.map(O=>({country:O.parent?O.parent:O.value,region:O.parent&&O.value})),contact:{phoneNumber:r.contactNumber+""}})),this.departureDate.valid&&(this.travelNoticeItem=Object.assign(Object.assign({},this.travelNoticeItem),{departureDate:this.datePipe.transform(r.departureDate,"yyyy-MM-dd")})),this.arrivalDate.valid&&(this.travelNoticeItem=Object.assign(Object.assign({},this.travelNoticeItem),{arrivalDate:this.datePipe.transform(r.arrivalDate,"yyyy-MM-dd")})),this.displayAlert=!1},this.currentDateValidator=i=>{const r=new Date(i.value),l=this.truncateDate();return r.getTime()<l.getTime()?{invalidCurrentDate:!0}:null}}set destinationList(t){t&&(this.destinationsDisplay=[...t.map(_=>({name:_.name,value:_.code})),...t.filter(_=>void 0!==_.regions).reduce((_,{regions:i=[],code:r})=>[..._,...i.map(l=>({name:`${l.name} (${r})`,value:l.code,parent:r}))],[])].sort((_,i)=>_.name===i.name?0:_.name>i.name?1:-1),this.fullDestinationList=t)}get destinationList(){return this.fullDestinationList}checkFormValid(){1===this.currentStep?(this.detailsGroup.markAllAsTouched(),this.detailsGroup.updateValueAndValidity(),this.detailsGroup.valid&&(this.currentStep+=1,this.currentControl=this.cardIdsGroup)):2===this.currentStep&&(this.cardIdsGroup.markAllAsTouched(),this.cardIdsGroup.updateValueAndValidity(),this.displayAlert=this.cardIdsGroup.invalid,this.cardIdsGroup.valid&&(this.currentStep+=1,this.currentForm=void 0))}back(t){this.currentStep-=1,this.currentForm=t}backForCardIds(t){this.currentStep-=1,this.currentControl=t}onCancel(){this.dialogOpen=!0}onSubmitTravelNotice(){this.save.emit(this.travelNoticeItem)}isFieldValid(t){const _=this.detailsGroup.get(t);return!!_&&(_.valid||_.untouched)}onAlertDismiss(){this.displayAlert=!1}ngOnInit(){!this.paymentCards||(this.createTravelNoticeForm=this.fb.group({details:this.fb.group({destinations:[[],t=>t.value&&t.value.length>0?null:{required:"item required"}],departureDate:[""],arrivalDate:[""],contactNumber:["",u.kI.pattern("^[0-9()-+ ]*$")]}),cardIds:[this.paymentCards?this.paymentCards:[]]}),this.createTravelNoticeForm.markAsPristine(),this.travelNoticeSubscription=this.createTravelNoticeForm.valueChanges.subscribe(this.updateTravelNoticeValue),this.currentForm=this.detailsGroup,this.currentControl=this.cardIdsGroup,this.cardIdsGroup.setValidators(this.hasCardsSelected),this.addDateValidators())}addDateValidators(){this.createTravelNoticeForm&&this.departureDate&&this.arrivalDate&&(this.departureDate.setValidators([u.kI.required,this.dateValidator("arrivalDate","departureDate")]),this.arrivalDate.setValidators([u.kI.required,this.currentDateValidator,this.dateValidator("arrivalDate","departureDate")]),this.departureDateSubscription=this.departureDate.valueChanges.subscribe(()=>{this.arrivalDate.updateValueAndValidity({emitEvent:!1})}),this.arrivalDateSubcription=this.arrivalDate.valueChanges.subscribe(()=>{this.departureDate.updateValueAndValidity({emitEvent:!1})}))}ngOnDestroy(){this.travelNoticeSubscription&&this.travelNoticeSubscription.unsubscribe(),this.arrivalDateSubcription&&this.arrivalDateSubcription.unsubscribe(),this.departureDateSubscription&&this.departureDateSubscription.unsubscribe()}dateValidator(t,_){return()=>{const i=this.detailsGroup.get(t),r=this.detailsGroup.get(_);return new Date(i.value).getTime()<new Date(r.value).getTime()?{invalidDate:!0}:null}}truncateDate(t=new Date){const _=new Date(t);return _.setHours(0,0,0,0),_}hasCardsSelected(t){return 0===t.value.length?{empty:!0}:null}get detailsGroup(){return this.createTravelNoticeForm.get("details")}get cardIdsGroup(){return this.createTravelNoticeForm.get("cardIds")}get destinations(){return this.detailsGroup.get("destinations")}get arrivalDate(){return this.detailsGroup.get("arrivalDate")}get departureDate(){return this.detailsGroup.get("departureDate")}get contactNumber(){return this.detailsGroup.get("contactNumber")}get destinationListDisplay(){return this.destinationsDisplay||[]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.qu),e.Y36(a.uU))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-create"]],inputs:{paymentCards:"paymentCards",destinationList:"destinationList"},outputs:{abortCreation:"abortCreation",save:"save"},features:[e._Bn([a.uU])],decls:19,vars:7,consts:function(){let o,t,_,i,r,l,O,v,F,k,q,z,K,_e,ae,oe,ie,re,X,se,ce,x,Se,Ae,ue,G,Nt,Je,Dt,bt,ft,Ot,Ut,Rt,It,Tt,vt,yt,ht,Lt,Jt,Kt,Pt;return o=" Create travel notice\n",t="Travel details",_="Step 1 out of 3",i="Card selection",r="Step 2 out of 3",l="Confirmation",O="Step 3 out of 3",v=" Discard travel notice? ",F=" All entered information for this travel notice will be permanently lost. ",k=" Keep it ",q=" Discard travel notice ",z=" Tell us about your travel details ",K=" Destination(s) ",_e="Search or select countries",ae="Search or select countries",oe="MM/DD/YYYY",ie="Departure date",re="MM/DD/YYYY",X="Return date",se=" Contact number ",ce=" (Optional) ",x="e.g. +(1) 541 754 3010",Se=" Invalid contact number ",Ae=" We will reach you on this number in case of any suspicious activity. ",ue=" Continue ",G=" Cancel ",Nt=" Select the cards you are travelling with ",Je="You need to select at least one card in order to create a travel notice",Dt=" Continue ",bt=" Back ",ft=" Cancel ",Ot=" Please select one or more destinations ",Ut=" Please choose a departure date ",Rt=" The return date cannot be before the departure date ",It=" Please enter a valid format. For example, 10/08/2020 ",Tt=" Please choose a return date ",vt=" The return date cannot be before the departure date ",yt=" Please do not choose a past return date ",ht=" Please enter a valid format. For example, 10/08/2020 ",Lt=" Review your travel notice ",Jt=" Confirm ",Kt=" Back ",Pt=" Cancel ",[[1,"bb-block","bb-block--lg"],o,[1,"card","card-lg","bb-create-travel-notice"],[1,"card-body"],[1,"row","bb-stack--center"],[1,"col-12","col-md-10","col-lg-8"],["label",t,"ariaLabel",_,3,"isChecked","isActive"],["label",i,"ariaLabel",r,1,"bb-stack__item",3,"isChecked","isActive"],["label",l,"ariaLabel",O,1,"bb-stack__item",3,"isActive"],[3,"isOpen","cancel"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["footerRef",""],["bbCustomModalFooter",""],[3,"formGroup","ngSubmit",4,"ngIf"],v,["bbButton","","color","unstyled",3,"click"],["color","muted","name","clear"],F,["bbButton","","color","link",3,"click"],k,["bbButton","","color","danger",3,"click"],q,[3,"formGroup","ngSubmit"],[3,"formGroup"],[3,"hidden"],[1,"bb-block","bb-block--xl"],z,[1,"row"],[1,"col-md-6"],[1,"bb-create-travel-notice__country-selector"],K,["bindLabel","name","aria-label",_e,"placeholder",ae,1,"bb-country-selector",3,"items","hideSelected","multiple","formControl"],[3,"showErrors"],[4,"ngIf"],[1,"col-md-6","bb-block","bb-block--lg"],["placeholder",oe,"label",ie,"name","departureDate","formControlName","departureDate",3,"overrideDateFormat"],[4,"ngFor","ngForOf"],["placeholder",re,"label",X,"name","arrivalDate","formControlName","arrivalDate",3,"overrideDateFormat"],[1,"bb-block"],se,[1,"bb-text-support"],ce,[1,"bb-block",3,"ngClass"],[1,"bb-create-travel-notice__contact-number"],["formControlName","contactNumber","placeholder",x],[1,"bb-block","bb-block--sm"],Se,[1,"bb-create-travel-notice__disclaimer"],Ae,[1,"bb-button-bar"],["bbButton","",1,"bb-button-bar__button",3,"click"],ue,["bbButton","","color","link",1,"bb-button-bar__button","bb-button-bar__button--across",3,"click"],G,Nt,["title",Je,3,"dismissible","close",4,"ngIf"],[3,"paymentCards","formControl"],Dt,["bbButton","","color","secondary",1,"bb-button-bar__button",3,"click"],bt,["class","bb-button-bar__button bb-text-support bb-create-travel-notice__cards-count bb-create-travel-notice__cards-count--xs-top",4,"ngIf"],[1,"bb-button-bar__button","bb-button-bar__button--across"],ft,Ot,[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],Ut,Rt,It,Tt,vt,yt,ht,["title",Je,3,"dismissible","close"],[1,"bb-button-bar__button","bb-text-support","bb-create-travel-notice__cards-count","bb-create-travel-notice__cards-count--xs-top"],Lt,[3,"travelNoticeItem","selectedCards","destinationList"],["bbButton","","type","submit",1,"bb-button-bar__button"],Jt,Kt,Pt]},template:function(t,_){1&t&&(e.TgZ(0,"h1",0),e.SDv(1,1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",0)(5,"div",4)(6,"bb-stepper-ui",5),e._UZ(7,"bb-stepper-step-ui",6)(8,"bb-stepper-step-ui",7)(9,"bb-stepper-step-ui",8),e.qZA()()(),e.TgZ(10,"bb-modal-ui",9),e.NdJ("cancel",function(){return _.closeConfirmationDialog()}),e.TgZ(11,"bb-modal-header-ui"),e.YNc(12,P_,5,0,"ng-template",10),e.qZA(),e.TgZ(13,"bb-modal-body-ui"),e.YNc(14,G_,2,0,"ng-template",11),e.qZA(),e.TgZ(15,"bb-modal-footer-ui",null,12),e.YNc(17,x_,6,0,"ng-template",13),e.qZA()(),e.YNc(18,na,64,29,"form",14),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("isChecked",_.currentStep>1)("isActive",_.currentStep>=1),e.xp6(1),e.Q6J("isChecked",_.currentStep>2)("isActive",_.currentStep>=2),e.xp6(1),e.Q6J("isActive",_.currentStep>=3),e.xp6(1),e.Q6J("isOpen",_.dialogOpen),e.xp6(8),e.Q6J("ngIf",_.paymentCards))},directives:[Ie.vO,Ie.Ml,E.zS,E.Rb,L.o,E.KF,E.YI,Te.w9,d.d,ze.sO,$e.W,h.w,it,rt,E.cA,b.Hq,E.Qd,E.yk,a.O5,u._Y,u.JL,u.sg,u.JJ,u.oH,u.u,a.sg,a.RF,a.n9,a.mk],pipes:[a.Nd],encapsulation:2}),n})(),ct=(()=>{class n{constructor(){this.createTravelNotice=new e.vpe,this.remove=new e.vpe,this.page="list"}get hasItems(){return this.travelNoticeList&&this.travelNoticeList.length>0}saveTravelNotice(t){this.createTravelNotice.emit(t),this.page="list"}setPage(t){this.page=t.goToPage}onRemove(t){this.remove.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-container"]],inputs:{imageUrl:"imageUrl",travelNoticeList:"travelNoticeList",destinationList:"destinationList",paymentCards:"paymentCards"},outputs:{createTravelNotice:"createTravelNotice",remove:"remove"},decls:4,vars:2,consts:function(){let o,t,_;return o=" Setup your travel notice ",t=" A travel notice alerts us that you\u2019re planning to use your cards abroad and it helps avoid interpreting any unusual activity as potential fraud. ",_="Create new",[[4,"ngIf"],["emptyState",""],[4,"ngIf","ngIfElse"],[3,"travelNoticeList","destinationList","create","deleteListItem"],[3,"paymentCards","destinationList","abortCreation","save"],[1,"bb-travel-notice-empty-state","card"],[1,"card-body","bb-text-align-center"],[1,"bb-block","bb-block--xl"],["class","img-fluid","alt","empty state background",3,"src",4,"ngIf"],[1,"bb-block","bb-block--md"],o,[1,"row"],[1,"col-md-8","offset-md-2"],[1,"bb-block","bb-block--lg"],[1,"bb-travel-notice-empty-state__message"],t,["bbButton","","color","primary",3,"click"],["name","add"],_,["alt","empty state background",1,"img-fluid",3,"src"]]},template:function(t,_){1&t&&(e.YNc(0,aa,2,2,"ng-container",0),e.YNc(1,oa,2,2,"ng-container",0),e.YNc(2,ra,16,1,"ng-template",null,1,e.W1O)),2&t&&(e.Q6J("ngIf","list"===_.page),e.xp6(1),e.Q6J("ngIf","create"===_.page))},directives:[ot,st,L.o,a.O5,b.Hq],encapsulation:2}),n})(),Sa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[a.ez,b.hJ,H.T,L.Q,xn.d8,C.p,Ie.BX,ze.tE,Gn.J,qe.b,d.w,E.zk,Fn.j,$e.F,kn.Bj,h.n,Y.PQ,Ve.lQ,u.UX,Te.A0,le,f.w]]}),n})();var Aa=c(4707),lt=c(1135),ua=c(9841),de=c(9646),dt=c(3900),Et=c(1543),St=c(8343),ve=c(1884),Ca=c(9300),V=c(4004),$=c(262);const pa=new e.OlP("statusMapping injection token"),Ma=new e.OlP("replacementStatusMapping injection token"),ma=new e.OlP("replacementReasonMapping injection token"),ga=new e.OlP("limitChannelMapping injection token"),At=new e.OlP("coutriesService injection token");function Ba(n){return n.replace(/\s/g,"")}function Na(n,o){return o.hasOwnProperty(n)?o[n]:n}function Da(n="",o){return o.hasOwnProperty(n)?o[n]:{name:n,description:""}}function ba(n,o){return void 0===n?p.NotUnderReplacement:o.hasOwnProperty(n)?o[n]:n}function fa(n,o){return n&&o.hasOwnProperty(n)?o[n]:U.Unlocked}function Oa(n,o){return o.hasOwnProperty(n)?o[n]:n}function Ua(n){return n&&P.hasOwnProperty(n)?P[n]:D.Pending}function Ra(n){return Object.assign({name:n.name,status:Ua(n.status)},n.stepDateTime?{stepDateTime:new Date(n.stepDateTime)}:{})}function Ia(n){return{transitSteps:n.transitSteps.map(Ra)}}function Ta(n){return new Date(Number(n.year),Number(n.month)-1)}let ye=(()=>{class n{constructor(t,_,i,r){this.itemToModel=l=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({id:l.id,name:l.holder&&l.holder.name||"",number:Ba(l.maskedNumber),vendor:l.brand,type:l.type,status:Na(l.status,this.statusMapping),replacementStatus:ba(l.replacement&&l.replacement.status,this.replacementStatusMapping),lockStatus:fa(l.lockStatus,this.lockStatusMapping),expirationDate:Ta(l.expiryDate||{year:"",month:""}),cardName:l.name||""},l.delivery?{deliveryStatus:Ia(l.delivery)}:{}),l.subType?{subType:l.subType}:{}),l.currency?{currency:l.currency}:{}),l.additions?{additions:l.additions}:{}),l.limits?{limits:l.limits.map(O=>Object.assign(Object.assign({},O),{channel:Da(O.channel,this.limitChannelMapping)}))}:{}),this.travelNoticeToModel=(l,O)=>({id:l.id,cards:l.cardIds.map(v=>O.find(F=>F.id===v)).filter(v=>void 0!==v),departureDate:new Date(l.departureDate),arrivalDate:new Date(l.arrivalDate),destinations:l.destinations,contact:l.contact}),this.getLockStatusUpdate=l=>({lockStatus:l===U.Unlocked?"UNLOCKED":"LOCKED"}),this.getReplacementUpdate=l=>({replacementReason:Oa(l,this.replacementReasonMapping)}),this.statusMapping=Object.assign(Object.assign({},A),t),this.replacementStatusMapping=Object.assign(Object.assign({},I),_),this.lockStatusMapping=Object.assign({},M),this.replacementReasonMapping=Object.assign(Object.assign({},Q),i),this.limitChannelMapping=Object.assign(Object.assign({},Z),r)}itemListToModel(t){return(t||[]).map(this.itemToModel)}parseError(t){return Be.fromHttpErrorsResponse(t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(pa,8),e.LFG(Ma,8),e.LFG(ma,8),e.LFG(ga,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),he=(()=>{class n{constructor(t,_){this.cardsDataHttpService=t,this.cardsBackendService=_,this.paymentCardId=new Aa.t(1),this.paymentCard=this.paymentCardId.pipe((0,ve.x)(),(0,Ca.h)(i=>void 0!==i),(n=>o=>o.pipe((0,dt.w)(n),(0,Et._)(1),(0,St.x)()))(i=>this.cardsDataHttpService.getCardById({id:i},"response").pipe((0,V.U)(r=>{if(null===r.body)throw new Error("Some error message");return this.cardsBackendService.itemToModel(r.body)}),(0,$.K)(r=>{throw this.cardsBackendService.parseError(r)}))))}getPaymentCardFrom(t){t.subscribe(this.paymentCardId)}getPaymentCard(){return this.paymentCard}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N.q1),e.LFG(ye))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const ya={},Le=(n,o)=>n&&o&&"object"==typeof n&&typeof n==typeof o?Object.keys(n).length===Object.keys(o).length&&Object.keys(n).every(t=>Le(n[t],o[t])):n===o;let Ee=(()=>{class n{constructor(t,_,i){this.cardsDataHttpService=t,this.cardsBackendService=_,this.cardsTravelNotice=i,this.getParams=new lt.X(ya),this.paymentCards=this.getParams.pipe((0,ve.x)(Le),(n=>o=>o.pipe((0,dt.w)(n),(0,Et._)(1),(0,St.x)()))(r=>this.cardsDataHttpService.getCards(r,"response").pipe((0,V.U)(l=>this.cardsBackendService.itemListToModel(l.body)),(0,$.K)(l=>{throw this.cardsBackendService.parseError(l)})))),this.travelNotice=this.cardsTravelNotice.getTravelNotices("response").pipe((0,ve.x)(Le),(0,V.U)(r=>null===r.body?[]:r.body),(0,$.K)(r=>{throw this.cardsBackendService.parseError(r)}))}getCards(){return this.paymentCards}setParameters(t){this.getParams.next({types:t})}updateLockStatus(t,_){const i=this.cardsBackendService.getLockStatusUpdate(_);return this.cardsDataHttpService.updateLockStatus({id:t.id,lockStatusPost:i},"response").pipe((0,V.U)(r=>null===r.body?Object.assign(Object.assign({},t),{lockStatus:_}):this.cardsBackendService.itemToModel(r.body)),(0,$.K)(r=>{throw this.cardsBackendService.parseError(r)}))}initiateReplacement(t,_){const i=this.cardsBackendService.getReplacementUpdate(_);return this.cardsDataHttpService.requestReplacement({id:t.id,requestReplacementPost:i},"response").pipe((0,V.U)(r=>null===r.body?Object.assign(Object.assign({},t),{replacementStatus:p.UnderReplacement}):this.cardsBackendService.itemToModel(r.body)),(0,$.K)(r=>{throw this.cardsBackendService.parseError(r)}))}initiateActivation(t,_){return this.cardsDataHttpService.activate({id:t.id,activatePost:{token:_}},"response").pipe((0,V.U)(r=>null===r.body?Object.assign(Object.assign({},t),{status:s.Active}):this.cardsBackendService.itemToModel(r.body)),(0,$.K)(r=>{throw this.cardsBackendService.parseError(r)}))}updateLimit(t,_,i){const r=i?_:_.filter((l,O)=>{var v;return l.amount!==(null===(v=t.limits)||void 0===v?void 0:v[O].amount)});return this.cardsDataHttpService.changeLimits({id:t.id,changeLimitsPostItem:r},"response").pipe((0,V.U)(l=>{const O=t.limits&&t.limits.map((v,F)=>Object.assign(Object.assign({},v),{amount:_[F].amount}));return null===l.body?Object.assign(Object.assign({},t),{limits:O}):this.cardsBackendService.itemToModel(l.body)}),(0,$.K)(l=>{throw this.cardsBackendService.parseError(l)}))}resetPIN(t,_){return this.cardsDataHttpService.resetPin({id:t.id,resetPinPost:_},"response").pipe((0,V.U)(i=>null===i.body?Object.assign({},t):this.cardsBackendService.itemToModel(i.body)),(0,$.K)(i=>{throw this.cardsBackendService.parseError(i)}))}requestPIN(t,_){return this.cardsDataHttpService.requestPin({id:t.id,requestPinPost:_},"response").pipe((0,V.U)(i=>null===i.body?Object.assign({},t):this.cardsBackendService.itemToModel(i.body)),(0,$.K)(i=>{throw this.cardsBackendService.parseError(i)}))}getTravelNotice(){const t=this.paymentCards.pipe((0,V.U)(_=>_.filter(i=>i.status===s.Active)));return(0,ua.a)([t,this.travelNotice]).pipe((0,V.U)(([_,i])=>({travelNoticeList:i.map(r=>this.cardsBackendService.travelNoticeToModel(r,_)),paymentCards:_})))}postTravelNotice(t){const _=Ne.buildPostCreateTravelNoticeHttpRequest(t);return this.cardsTravelNotice.createTravelNotice(_)}deleteTravelNotice(t){const _=t.id;if(!_)throw new Error("Error no matching id");return this.cardsTravelNotice.deleteTravelNoticeById({id:_},"response")}ngOnDestroy(){this.getParams.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N.q1),e.LFG(ye),e.LFG(N.lP))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var La=[{code:"ABW",name:"Aruba"},{code:"AFG",name:"Afghanistan"},{code:"AGO",name:"Angola"},{code:"ALB",name:"Albania"},{code:"AND",name:"Andorra"},{code:"ARE",name:"United Arab Emirates"},{code:"ARG",name:"Argentina"},{code:"ARM",name:"Armenia"},{code:"ASM",name:"American Samoa"},{code:"ATG",name:"Antigua and Barbuda"},{code:"AUS",name:"Australia"},{code:"AUT",name:"Austria"},{code:"AZE",name:"Azerbaijan"},{code:"BDI",name:"Burundi"},{code:"BEL",name:"Belgium"},{code:"BEN",name:"Benin"},{code:"BFA",name:"Burkina Faso"},{code:"BGD",name:"Bangladesh"},{code:"BGR",name:"Bulgaria"},{code:"BHR",name:"Bahrain"},{code:"BHS",name:"The Bahamas"},{code:"BIH",name:"Bosnia and Herzegovina"},{code:"BLR",name:"Belarus"},{code:"BLZ",name:"Belize"},{code:"BMU",name:"Bermuda"},{code:"BOL",name:"Bolivia"},{code:"BRA",name:"Brazil"},{code:"BRB",name:"Barbados"},{code:"BRN",name:"Brunei Darussalam"},{code:"BTN",name:"Bhutan"},{code:"BWA",name:"Botswana"},{code:"CAF",name:"Central African Republic"},{code:"CAN",name:"Canada",regions:[{code:"CA-AB",name:"Alberta"},{code:"CA-BC",name:"British Columbia"},{code:"CA-MB",name:"Manitoba"},{code:"CA-NB",name:"New Brunswick"},{code:"CA-NL",name:"Newfoundland and Labrador"},{code:"CA-NS",name:"Nova Scotia"},{code:"CA-ON",name:"Ontario"},{code:"CA-PE",name:"Prince Edward Island"},{code:"CA-QC",name:"Quebec"},{code:"CA-SK",name:"Saskatchewan"},{code:"CA-NT",name:"Northwest Territories"},{code:"CA-NU",name:"Nunavut"},{code:"CA-YT",name:"Yukon"}]},{code:"CHE",name:"Switzerland"},{code:"CHL",name:"Chile"},{code:"CHN",name:"China"},{code:"CIV",name:"Cote d'Ivoire"},{code:"CMR",name:"Cameroon"},{code:"COD",name:"Democratic Republic of Congo"},{code:"COG",name:"Republic of Congo"},{code:"COL",name:"Colombia"},{code:"COM",name:"Comoros"},{code:"CPV",name:"Cabo Verde"},{code:"CRI",name:"Costa Rica"},{code:"CUB",name:"Cuba"},{code:"CUW",name:"Curacao"},{code:"CYM",name:"Cayman Islands"},{code:"CYP",name:"Cyprus"},{code:"CZE",name:"Czech Republic"},{code:"DEU",name:"Germany"},{code:"DJI",name:"Djibouti"},{code:"DMA",name:"Dominica"},{code:"DNK",name:"Denmark"},{code:"DOM",name:"Dominican Republic"},{code:"DZA",name:"Algeria"},{code:"ECU",name:"Ecuador"},{code:"EGY",name:"Egypt"},{code:"ERI",name:"Eritrea"},{code:"ESP",name:"Spain"},{code:"EST",name:"Estonia"},{code:"ETH",name:"Ethiopia"},{code:"FIN",name:"Finland"},{code:"FJI",name:"Fiji"},{code:"FRA",name:"France"},{code:"FRO",name:"Faroe Islands"},{code:"GAB",name:"Gabon"},{code:"GBR",name:"United Kingdom"},{code:"GEO",name:"Georgia"},{code:"GHA",name:"Ghana"},{code:"GIB",name:"Gibraltar"},{code:"GIN",name:"Guinea"},{code:"GMB",name:"The Gambia"},{code:"GNB",name:"Guinea-Bissau"},{code:"GNQ",name:"Equatorial Guinea"},{code:"GRC",name:"Greece"},{code:"GRD",name:"Grenada"},{code:"GRL",name:"Greenland"},{code:"GTM",name:"Guatemala"},{code:"GUM",name:"Guam"},{code:"GUY",name:"Guyana"},{code:"HKG",name:"Hong Kong"},{code:"HND",name:"Honduras"},{code:"HRV",name:"Croatia"},{code:"HTI",name:"Haiti"},{code:"HUN",name:"Hungary"},{code:"IDN",name:"Indonesia"},{code:"IMN",name:"Isle of Man"},{code:"IND",name:"India"},{code:"IRL",name:"Ireland"},{code:"IRN",name:"Islamic Republic of Iran"},{code:"IRQ",name:"Iraq"},{code:"ISL",name:"Iceland"},{code:"ISR",name:"Israel"},{code:"ITA",name:"Italy"},{code:"JAM",name:"Jamaica"},{code:"JOR",name:"Jordan"},{code:"JPN",name:"Japan"},{code:"KAZ",name:"Kazakhstan"},{code:"KEN",name:"Kenya"},{code:"KGZ",name:"Kyrgyz Republic"},{code:"KHM",name:"Cambodia"},{code:"KIR",name:"Kiribati"},{code:"KNA",name:"St. Kitts and Nevis"},{code:"KOR",name:"Republic of Korea"},{code:"KWT",name:"Kuwait"},{code:"LBN",name:"Lebanon"},{code:"LBR",name:"Liberia"},{code:"LKA",name:"Sri Lanka"},{code:"LBY",name:"Libya"},{code:"LCA",name:"St. Lucia"},{code:"LIE",name:"Liechtenstein"},{code:"LSO",name:"Lesotho"},{code:"LTU",name:"Lithuania"},{code:"LUX",name:"Luxembourg"},{code:"LVA",name:"Latvia"},{code:"MAF",name:"St. Martin (French part)"},{code:"MAR",name:"Morocco"},{code:"MCO",name:"Monaco"},{code:"MDA",name:"Moldova"},{code:"MRT",name:"Mauritania"},{code:"MUS",name:"Mauritius"},{code:"MWI",name:"Malawi"},{code:"MYS",name:"Malaysia"},{code:"NAM",name:"Namibia"},{code:"NCL",name:"New Caledonia"},{code:"NER",name:"Niger"},{code:"NGA",name:"Nigeria"},{code:"NIC",name:"Nicaragua"},{code:"NLD",name:"Netherlands"},{code:"NOR",name:"Norway"},{code:"NPL",name:"Nepal"},{code:"NRU",name:"Nauru"},{code:"NZL",name:"New Zealand"},{code:"OMN",name:"Oman"},{code:"PAK",name:"Pakistan"},{code:"PAN",name:"Panama"},{code:"PER",name:"Peru"},{code:"PHL",name:"Philippines"},{code:"PLW",name:"Palau"},{code:"PNG",name:"Papua New Guinea"},{code:"POL",name:"Poland"},{code:"PRI",name:"Puerto Rico"},{code:"PRK",name:"Democratic People's Republic of Korea"},{code:"PRT",name:"Portugal"},{code:"PRY",name:"Paraguay"},{code:"PSE",name:"West Bank and Gaza"},{code:"QAT",name:"Qatar"},{code:"ROU",name:"Romania"},{code:"RUS",name:"Russian Federation"},{code:"RWA",name:"Rwanda"},{code:"SAU",name:"Saudi Arabia"},{code:"SDN",name:"Sudan"},{code:"SEN",name:"Senegal"},{code:"SGP",name:"Singapore"},{code:"SLB",name:"Solomon Islands"},{code:"SLE",name:"Sierra Leone"},{code:"SLV",name:"El Salvador"},{code:"SMR",name:"San Marino"},{code:"SOM",name:"Somalia"},{code:"SRB",name:"Serbia"},{code:"SSD",name:"South Sudan"},{code:"STP",name:"Sao Tome and Principe"},{code:"SUR",name:"Suriname"},{code:"SVK",name:"Slovak Republic"},{code:"SVN",name:"Slovenia"},{code:"SWE",name:"Sweden"},{code:"SWZ",name:"Eswatini"},{code:"SXM",name:"Sint Maarten (Dutch part)"},{code:"SYC",name:"Seychelles"},{code:"SYR",name:"Syrian Arab Republic"},{code:"TCA",name:"Turks and Caicos Islands"},{code:"TCD",name:"Chad"},{code:"TGO",name:"Togo"},{code:"THA",name:"Thailand"},{code:"TJK",name:"Tajikistan"},{code:"TKM",name:"Turkmenistan"},{code:"TLS",name:"Timor-Leste"},{code:"TON",name:"Tonga"},{code:"TTO",name:"Trinidad and Tobago"},{code:"TUN",name:"Tunisia"},{code:"TUR",name:"Turkey"},{code:"TUV",name:"Tuvalu"},{code:"TWN",name:"Taiwan"},{code:"TZA",name:"Tanzania"},{code:"UGA",name:"Uganda"},{code:"UKR",name:"Ukraine"},{code:"URY",name:"Uruguay"},{code:"USA",name:"United States",regions:[{code:"US-AL",name:"Alabama"},{code:"US-AK",name:"Alaska"},{code:"US-AZ",name:"Arizona"},{code:"US-AR",name:"Arkansas"},{code:"US-CA",name:"California"},{code:"US-CO",name:"Colorado"},{code:"US-CT",name:"Connecticut"},{code:"US-DE",name:"Delaware"},{code:"US-FL",name:"Florida"},{code:"US-GA",name:"Georgia"},{code:"US-HI",name:"Hawaii"},{code:"US-ID",name:"Idaho"},{code:"US-IL",name:"Illinois"},{code:"US-IN",name:"Indiana"},{code:"US-IA",name:"Iowa"},{code:"US-KS",name:"Kansas"},{code:"US-KY",name:"Kentucky"},{code:"US-LA",name:"Louisiana"},{code:"US-ME",name:"Maine"},{code:"US-MD",name:"Maryland"},{code:"US-MA",name:"Massachusetts"},{code:"US-MI",name:"Michigan"},{code:"US-MN",name:"Minnesota"},{code:"US-MS",name:"Mississippi"},{code:"US-MO",name:"Missouri"},{code:"US-MT",name:"Montana"},{code:"US-NE",name:"Nebraska"},{code:"US-NV",name:"Nevada"},{code:"US-NH",name:"New Hampshire"},{code:"US-NJ",name:"New Jersey"},{code:"US-NM",name:"New Mexico"},{code:"US-NY",name:"New York"},{code:"US-NC",name:"North Carolina"},{code:"US-ND",name:"North Dakota"},{code:"US-OH",name:"Ohio"},{code:"US-OK",name:"Oklahoma"},{code:"US-OR",name:"Oregon"},{code:"US-PA",name:"Pennsylvania"},{code:"US-RI",name:"Rhode Island"},{code:"US-SC",name:"South Carolina"},{code:"US-SD",name:"South Dakota"},{code:"US-TN",name:"Tennessee"},{code:"US-TX",name:"Texas"},{code:"US-UT",name:"Utah"},{code:"US-VT",name:"Vermont"},{code:"US-VA",name:"Virginia"},{code:"US-WA",name:"Washington"},{code:"US-WV",name:"West Virginia"},{code:"US-WI",name:"Wisconsin"},{code:"US-WY",name:"Wyoming"},{code:"US-DC",name:"District of Columbia"},{code:"US-AS",name:"American Samoa"},{code:"US-GU",name:"Guam"},{code:"US-MP",name:"Northern Mariana Islands"},{code:"US-PR",name:"Puerto Rico"},{code:"US-UM",name:"United States Minor Outlying Islands"},{code:"US-VI",name:"Virgin Islands"}]},{code:"UZB",name:"Uzbekistan"},{code:"VCT",name:"St. Vincent and the Grenadines"},{code:"VEN",name:"Venezuela"},{code:"VGB",name:"British Virgin Islands"},{code:"VNM",name:"Vietnam"},{code:"VUT",name:"Vanuatu"},{code:"WSM",name:"Samoa"},{code:"XKX",name:"Kosovo"},{code:"YEM",name:"Yemen, Rep."},{code:"ZMB",name:"Zambia"},{code:"ZWE",name:"Zimbabwe"},{code:"MEX",name:"Mexico"}];let Ja=(()=>{class n{getDestinations(){return(0,de.of)(La)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Ka=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[he,ye,Ee,{provide:At,useClass:Ja}],imports:[[a.ez]]}),n})();var Pa=c(8505),j=c(5357);function Ga(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"bb-card-details-payment-card-controls",3),e.NdJ("updateLockStatus",function(i){return e.CHM(t),e.oxw().onUpdateLockStatus(i)})("initiateReplacement",function(i){return e.CHM(t),e.oxw().onInitiateReplacement(i)})("initiateActivation",function(i){return e.CHM(t),e.oxw().onInitiateActivation(i)})("resetPin",function(i){return e.CHM(t),e.oxw().onResetPin(i)})("requestPin",function(i){return e.CHM(t),e.oxw().onRequestPin(i)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("cardPinLength",t.cardPinLength)("paymentCard",t.paymentCard)("isLockLoading",t.isLockLoading)("isInitiateReplacementLoading",t.isInitiateReplacementLoading)("isInitiateActivationLoading",t.isInitiateActivationLoading)("isResetPinLoading",t.isResetPinLoading)}}function xa(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"bb-payment-card-limits",4),e.NdJ("updateLimit",function(i){return e.CHM(t),e.oxw().onUpdateLimit(i)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("paymentCard",t.paymentCard)("isLimitsLoading",t.isLimitsLoading)}}function ka(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payment-card",4),e.BQk()),2&n){const t=o.ngIf,_=e.oxw(3);e.xp6(1),e.Q6J("cardPinLength",_.cardPinLength)("paymentCard",t)("notificationTtl",_.notificationTtl)("updateAllLimits",_.updateAllLimits)}}function Fa(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ka,2,4,"ng-container",0),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(2),_=e.MAs(5);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.paymentCard))("ngIfElse",_)}}function Ha(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Fa,3,4,"ng-container",0),e.BQk()),2&n){const t=e.oxw(),_=e.MAs(7);e.xp6(1),e.Q6J("ngIf",!t.errors)("ngIfElse",_)}}function Wa(n,o){1&n&&e._UZ(0,"bb-empty-state-ui",5)}function wa(n,o){1&n&&e._UZ(0,"bb-loading-indicator-ui",6)}function Ya(n,o){if(1&n&&e._UZ(0,"bb-payment-card-multiple-error-state",7),2&n){const t=e.oxw();e.Q6J("errors",t.errors)}}function Za(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-payment-cards-container",3),e.NdJ("selectCard",function(i){return e.CHM(t),e.oxw(2).onSelectCard(i)}),e.qZA(),e.BQk()}if(2&n){const t=o.ngIf,_=e.oxw(2);e.xp6(1),e.Q6J("paymentCards",t)("groupByPaymentCardTypes",_.groupByPaymentCardTypes)("paymentCardTypes",_.paymentCardTypes)("notificationTtl",_.notificationTtl)("updateAllLimits",_.updateAllLimits)}}function Qa(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Za,2,5,"ng-container",0),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(),_=e.MAs(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.paymentCards))("ngIfElse",_)}}function qa(n,o){1&n&&(e.TgZ(0,"div",4),e._UZ(1,"bb-loading-indicator-ui",5),e.qZA())}function za(n,o){if(1&n&&e._UZ(0,"bb-payment-card-multiple-error-state",6),2&n){const t=e.oxw();e.Q6J("errors",t.errors)}}const $a=["notificationOnCreate"],Va=["notificationOnDelete"];function ja(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-cards-travel-notice-container",5),e.NdJ("createTravelNotice",function(i){return e.CHM(t),e.oxw(2).submitTravelNotice(i)})("remove",function(i){return e.CHM(t),e.oxw(2).onRemoveItem(i)}),e.ALo(2,"async"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("imageUrl",t.emptyStateImage)("travelNoticeList",t.travelNoticeList)("destinationList",e.lcZ(2,4,t.destinationList)||void 0)("paymentCards",t.paymentCards)}}function Xa(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ja,3,6,"ng-container",0),e.BQk()),2&n){const t=e.oxw(),_=e.MAs(2);e.xp6(1),e.Q6J("ngIf",!t.isLoading)("ngIfElse",_)}}function eo(n,o){1&n&&e._UZ(0,"bb-loading-indicator-ui",6)}function to(n,o){if(1&n&&e._UZ(0,"bb-empty-state-ui",7),2&n){const t=e.oxw();e.Q6J("subtitle",null==t.error?null:t.error.message)}}function no(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,8),e.qZA())}function _o(n,o){1&n&&(e.TgZ(0,"span"),e.SDv(1,9),e.qZA())}let ut=(()=>{class n extends be{constructor(t,_,i){super(_,i),this.cardsService=t,this.cd=_,this.notificationService=i}ngOnInit(){var t,_,i,r;const l={activationErrorHeader:"Error",activationErrorMessage:"Failed to Activate Card. Unable to proceed, please try again.",activationSuccessHeader:"Card Activated.",lockErrorHeader:"Error",lockErrorMessage:"Card number ending with " + (null === (t = this.paymentCard) || void 0 === t ? void 0 : t.number) + " cannot be locked! Try again later.",lockSuccessHeader:"Card locked",lockSuccessMessage:"Card number ending with " + (null === (_ = this.paymentCard) || void 0 === _ ? void 0 : _.number) + " has been locked.",replacementErrorHeader:"Error",replacementErrorMessage:"Unable to request a card replacement. Try again later.",replacementSuccessHeader:"New card ordered",replacementSuccessMessage:"A new card has been ordered.",requestNewPinSuccessMessage:"New PIN requested",requestPinErrorMessage:"Can't request PIN.  Please try again later.",resetPinSuccessMessage:"PIN successfully reset",resetPinErrorMessage:"Unable to change PIN.  Please try again later.",resetInvalidPinMessage:"Unable to change PIN. New PIN and confirm don't match",unlockErrorHeader:"Error",unlockErrorMessage:"Card number ending with " + (null === (i = this.paymentCard) || void 0 === i ? void 0 : i.number) + " cannot be unlocked! Try again later.",unlockSuccessHeader:"Card unlocked",unlockSuccessMessage:"Card number ending with " + (null === (r = this.paymentCard) || void 0 === r ? void 0 : r.number) + " has been unlocked.",updateLimitErrorHeader:"",updateLimitErrorMessage:"Unable to change card limit",updateLimitSuccessHeader:"Limit changed",updateLimitSuccessMessage:"Card limit changed successfully"};this.localizations=Object.assign({},l)}onUpdateLockStatusSuccess(t){void 0!==this.paymentCard&&(this.paymentCard=t,this.showNotification({header:this.lockStatus===U.Locked?this.localizations.lockSuccessHeader:this.localizations.unlockSuccessHeader,message:this.lockStatus===U.Locked?this.localizations.lockSuccessMessage:this.localizations.unlockSuccessMessage}))}onUpdateLockStatusError(){void 0!==this.paymentCard&&this.showNotification({header:this.lockStatus===U.Locked?this.localizations.lockErrorHeader:this.localizations.unlockErrorHeader,message:this.lockStatus===U.Locked?this.localizations.lockErrorMessage:this.localizations.unlockErrorMessage,modifier:"error"}),this.isLockLoading=!1,this.cd.markForCheck()}onUpdateLockStatusComplete(){this.isLockLoading=!1,this.cd.markForCheck()}onUpdateLockStatus(t){this.lockStatus=t,void 0!==this.paymentCard&&(this.isLockLoading=!0,this.cardsService.updateLockStatus(this.paymentCard,this.lockStatus).subscribe({next:this.onUpdateLockStatusSuccess.bind(this),error:this.onUpdateLockStatusError.bind(this),complete:this.onUpdateLockStatusComplete.bind(this)}))}onInitiateReplacement(t){void 0!==this.paymentCard&&(this.isInitiateReplacementLoading=!0,this.cardsService.initiateReplacement(this.paymentCard,t).subscribe(this.onInitiateReplacementSuccess,this.onInitiateReplacementError,this.onInitiateReplacementComplete))}onInitiateActivation(t){void 0!==this.paymentCard&&(this.isInitiateActivationLoading=!0,this.cardsService.initiateActivation(this.paymentCard,t).subscribe(this.onInitiateActivationSuccess,this.onInitiateActivationError,this.onInitiateActivationComplete))}onUpdateLimit(t){void 0!==this.paymentCard&&(this.isLimitsLoading=!0,this.cardsService.updateLimit(this.paymentCard,t,this.updateAllLimits).subscribe(this.onUpdateLimitSuccess,this.onUpdateLimitError,this.onUpdateLimitComplete))}onResetPin(t){if(void 0!==this.paymentCard){if(this.isResetPinLoading=!0,void 0!==t.raw.pin2&&t.raw.pin!==t.raw.pin2)return this.isResetPinLoading=!1,void this.showNotification({message:this.localizations.resetInvalidPinMessage,modifier:"error"});this.cardsService.resetPIN(this.paymentCard,t.model).subscribe(this.onResetPinSuccess,this.onResetPinError,this.onResetPinComplete)}}onRequestPin(t){void 0!==this.paymentCard&&(this.isResetPinLoading=!0,this.cardsService.requestPIN(this.paymentCard,t.model).subscribe(this.onRequestPinSuccess,this.onRequestPinError,this.onRequestPinComplete))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ee),e.Y36(e.sBO),e.Y36(Y.gq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card"]],features:[e.qOj],decls:3,vars:3,consts:[[3,"paymentCard"],[3,"cardPinLength","paymentCard","isLockLoading","isInitiateReplacementLoading","isInitiateActivationLoading","isResetPinLoading","updateLockStatus","initiateReplacement","initiateActivation","resetPin","requestPin",4,"ngIf"],[3,"paymentCard","isLimitsLoading","updateLimit",4,"ngIf"],[3,"cardPinLength","paymentCard","isLockLoading","isInitiateReplacementLoading","isInitiateActivationLoading","isResetPinLoading","updateLockStatus","initiateReplacement","initiateActivation","resetPin","requestPin"],[3,"paymentCard","isLimitsLoading","updateLimit"]],template:function(t,_){1&t&&(e._UZ(0,"bb-payment-card-summary",0),e.YNc(1,Ga,1,6,"bb-card-details-payment-card-controls",1),e.YNc(2,xa,1,2,"bb-payment-card-limits",2)),2&t&&(e.Q6J("paymentCard",_.paymentCard),e.xp6(1),e.Q6J("ngIf","CANCELED"!==(null==_.paymentCard?null:_.paymentCard.status)),e.xp6(1),e.Q6J("ngIf","ACTIVE"===(null==_.paymentCard?null:_.paymentCard.status)))},directives:[Xe,je,we,a.O5],encapsulation:2}),n})(),Ct=(()=>{class n{constructor(t,_){this.cardService=t,this.cd=_,this.handleError=i=>(this.errors=i,(0,de.of)(void 0))}ngOnInit(){if(void 0===this.paymentCardId)throw new Error(`"paymentCardId" input is required in "${this.constructor.name}"`);this.cardService.getPaymentCardFrom(this.paymentCardId),this.paymentCard=this.cardService.getPaymentCard().pipe((0,Pa.b)(()=>{this.cd.markForCheck()}),(0,$.K)(this.handleError))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(he),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-card-details-container"]],inputs:{paymentCardId:"paymentCardId",notificationTtl:"notificationTtl",updateAllLimits:"updateAllLimits",cardPinLength:"cardPinLength"},features:[e._Bn([he])],decls:8,vars:4,consts:function(){let o;return o="No Card Selected",[[4,"ngIf","ngIfElse"],["emptyState",""],["loadingState",""],["errorState",""],[3,"cardPinLength","paymentCard","notificationTtl","updateAllLimits"],["title",o],["loaderSize","lg"],[3,"errors"]]},template:function(t,_){if(1&t&&(e.YNc(0,Ha,2,2,"ng-container",0),e.ALo(1,"async"),e.YNc(2,Wa,1,0,"ng-template",null,1,e.W1O),e.YNc(4,wa,1,0,"ng-template",null,2,e.W1O),e.YNc(6,Ya,1,1,"ng-template",null,3,e.W1O)),2&t){const i=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,_.paymentCardId))("ngIfElse",i)}},directives:[ut,y.s,C.Q,Re,a.O5],pipes:[a.Ov],encapsulation:2}),n})(),pt=(()=>{class n{constructor(t){this.route=t,this.paymentCardId=this.route.paramMap.pipe((0,V.U)(_=>_.get("selectedCard")||""))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-card-details"]],inputs:{notificationTtl:"notificationTtl",updateAllLimits:"updateAllLimits",cardPinLength:"cardPinLength"},decls:1,vars:4,consts:[[3,"paymentCardId","notificationTtl","updateAllLimits","cardPinLength"]],template:function(t,_){1&t&&e._UZ(0,"bb-card-details-container",0),2&t&&e.Q6J("paymentCardId",_.paymentCardId)("notificationTtl",_.notificationTtl)("updateAllLimits",_.updateAllLimits)("cardPinLength",_.cardPinLength)},directives:[Ct],encapsulation:2}),n})(),ao=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[a.ez,y.P,C.p,sa,le]]}),n})();const oo=n=>({type:n,heading:n+" "+"cards"});let io=(()=>{class n{constructor(t){this.cardsService=t,this.groupByPaymentCardTypesSubject=new lt.X(void 0),this.selectedCard=new e.vpe,this.handleError=_=>(this.errors=_,(0,de.of)([]))}set groupByPaymentCardTypesValue(t){const _=null==t?void 0:t.split(",").filter(i=>i.length>0);this.groupByPaymentCardTypesSubject.next(_),_&&_.length&&(this.paymentCardTypes=_.map(oo))}ngOnInit(){const t=void 0!==this.paymentCardTypes?this.paymentCardTypes.map(_=>_.type):[];this.cardsService.setParameters(t),this.paymentCards=this.cardsService.getCards().pipe((0,$.K)(this.handleError))}get groupByPaymentCardTypes(){return this.groupByPaymentCardTypesSubject.value}onSelectCard(t){this.selectedCard.emit(t.id)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ee))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-list"]],inputs:{notificationTtl:"notificationTtl",updateAllLimits:"updateAllLimits",paymentCardTypes:"paymentCardTypes",groupByPaymentCardTypesValue:["groupByPaymentCardTypes","groupByPaymentCardTypesValue"]},outputs:{selectedCard:"selectedCard"},features:[e._Bn([Ee])],decls:5,vars:2,consts:function(){let o;return o="Loading cards..",[[4,"ngIf","ngIfElse"],["loadingState",""],["errorState",""],[1,"bb-block",3,"paymentCards","groupByPaymentCardTypes","paymentCardTypes","notificationTtl","updateAllLimits","selectCard"],[1,"card","bb-state-container"],["loaderSize","lg","text",o],[3,"errors"]]},template:function(t,_){if(1&t&&(e.YNc(0,Qa,3,4,"ng-container",0),e.YNc(1,qa,2,0,"ng-template",null,1,e.W1O),e.YNc(3,za,1,1,"ng-template",null,2,e.W1O)),2&t){const i=e.MAs(4);e.Q6J("ngIf",!_.errors)("ngIfElse",i)}},directives:[nt,C.Q,Re,a.O5],pipes:[a.Ov],encapsulation:2}),n})(),ro=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[a.ez,C.p,le,Ea]]}),n})(),so=(()=>{class n{constructor(t,_,i,r){this.cardsService=t,this.notificationService=_,this.destinationsService=i,this.cd=r,this.isLoading=!0}get imageEmptyStateUrl(){return(0,de.of)(this.emptyStateImage)}get emptyStateImage(){return"./assets/cards-management-journey/travel-notice-empty-state-img.svg"}ngOnInit(){this.loadTravelNotice(),this.destinationList=this.destinationsService&&this.destinationsService.getDestinations().pipe((0,$.K)(t=>(this.error=t,(0,de.of)([]))))}submitTravelNotice(t){this.isLoading=!0,this.cardsService.postTravelNotice(t).subscribe(()=>{this.travelNoticeList&&(this.loadTravelNotice(),this.pushNotification(this.notificationOnCreate,"success"))})}onRemoveItem(t){this.isLoading=!0,this.cardsService.deleteTravelNotice(t).subscribe(()=>{this.travelNoticeList&&(this.loadTravelNotice(),this.pushNotification(this.notificationOnDelete,"success"))})}loadTravelNotice(){this.cardsService.getTravelNotice().pipe((0,$.K)(t=>(this.error=t,(0,de.of)({})))).subscribe(t=>{this.travelNoticeList=t.travelNoticeList,this.paymentCards=t.paymentCards,this.isLoading=!1,this.cd.detectChanges()})}pushNotification(t="",_){this.notificationService.showNotification({header:t,message:"",modifier:_,dismissible:!0,ttl:this.notificationTtl})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ee),e.Y36(Y.gq),e.Y36(At),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice"]],viewQuery:function(t,_){if(1&t&&(e.Gf($a,7,e.Rgc),e.Gf(Va,7,e.Rgc)),2&t){let i;e.iGM(i=e.CRH())&&(_.notificationOnCreate=i.first),e.iGM(i=e.CRH())&&(_.notificationOnDelete=i.first)}},inputs:{notificationTtl:"notificationTtl"},decls:9,vars:2,consts:function(){let o,t;return o=" Travel notice successfully created! ",t=" Travel notice successfully deleted! ",[[4,"ngIf","ngIfElse"],["loadingState",""],["errorState",""],["notificationOnCreate",""],["notificationOnDelete",""],[3,"imageUrl","travelNoticeList","destinationList","paymentCards","createTravelNotice","remove"],["loaderSize","lg"],["title","","iconModifier","error","iconSize","xxl","iconClasses","text-muted",3,"subtitle"],o,t]},template:function(t,_){if(1&t&&(e.YNc(0,Xa,2,2,"ng-container",0),e.YNc(1,eo,1,0,"ng-template",null,1,e.W1O),e.YNc(3,to,1,1,"ng-template",null,2,e.W1O),e.YNc(5,no,2,0,"ng-template",null,3,e.W1O),e.YNc(7,_o,2,0,"ng-template",null,4,e.W1O)),2&t){const i=e.MAs(4);e.Q6J("ngIf",!_.error)("ngIfElse",i)}},directives:[ct,C.Q,y.s,a.O5],pipes:[a.Ov],encapsulation:2}),n})(),co=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[a.ez,y.P,C.p,le,Sa]]}),n})();var me=c(5460);function lo(n,o){if(1&n&&(e.TgZ(0,"div",7)(1,"div",8)(2,"div",9),e.GkF(3,10),e.qZA()()()),2&n){e.oxw();const t=e.MAs(8);e.xp6(3),e.Q6J("ngTemplateOutlet",t)}}function Eo(n,o){if(1&n&&e._UZ(0,"bb-card-details",11),2&n){const t=e.oxw();e.Q6J("cardPinLength",t.configService.cardPinLength)("notificationTtl",t.configService.notificationTtl)}}function So(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().onNavigateTravelNotice()}),e._UZ(1,"i",6),e.TgZ(2,"span"),e.SDv(3,7),e.qZA()()}}function Ao(n,o){if(1&n&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10),e.GkF(3,11),e.qZA()()()),2&n){e.oxw();const t=e.MAs(5);e.xp6(3),e.Q6J("ngTemplateOutlet",t)}}function uo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"bb-cards-list",12),e.NdJ("selectedCard",function(i){return e.CHM(t),e.oxw().selectedCard(i)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("notificationTtl",t.configService.notificationTtl)("paymentCardTypes",t.configService.paymentCardTypes)("groupByPaymentCardTypes",t.configService.groupByPaymentCardTypes)}}function Co(n,o){if(1&n&&(e.TgZ(0,"div",7)(1,"div",8)(2,"div",9),e.GkF(3,10),e.qZA()()()),2&n){e.oxw();const t=e.MAs(8);e.xp6(3),e.Q6J("ngTemplateOutlet",t)}}function po(n,o){if(1&n&&e._UZ(0,"bb-cards-travel-notice",11),2&n){const t=e.oxw();e.Q6J("notificationTtl",t.configService.notificationTtl)}}const Mt=new e.OlP("CardsManagementJourneyConfiguration injection token"),mt={notificationTtl:5e3,groupByPaymentCardTypes:"",enableTravelNotice:!0,deElevatedHeader:!1,cardPinLength:4,paymentCardTypes:[{type:"Credit",heading:"Credit cards"},{type:"Debit",heading:"Debit cards"}]},gt=n=>Object.assign(Object.assign({},mt),n||{});let ge=(()=>{class n{constructor(t){this._config=gt(t)}get defaults(){return mt}get notificationTtl(){return this._config.notificationTtl}get groupByPaymentCardTypes(){return this._config.groupByPaymentCardTypes}get enableTravelNotice(){return this._config.enableTravelNotice}get deElevatedHeader(){return this._config.deElevatedHeader}get paymentCardTypes(){return this._config.paymentCardTypes}get cardPinLength(){return this._config.cardPinLength}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Mt,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Mo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-management-journey"]],features:[e._Bn([ge])],decls:1,vars:0,template:function(t,_){1&t&&e._UZ(0,"router-outlet")},directives:[j.lC],encapsulation:2}),n})(),Bt=(()=>{class n{constructor(t){this.config=t,this._config=gt(this.config)}canActivate(){return this._config.enableTravelNotice}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Mt,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mo={path:"",component:Mo,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class n{constructor(t,_,i){this.router=t,this.route=_,this.configService=i}selectedCard(t){this.router.navigate(["../details",{selectedCard:t}],{relativeTo:this.route})}onNavigateTravelNotice(){this.router.navigate(["../travel-notice"],{relativeTo:this.route})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.F0),e.Y36(j.gz),e.Y36(ge))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-list-view"]],decls:6,vars:4,consts:function(){let o,t;return o="Manage Cards",t=" Travel Notice ",[[1,"heading-widget","bb-heading-widget",3,"ngClass"],["headingType","h1","headingClasses","bb-heading-widget__heading","heading",o],["class","bb-heading-widget__button btn btn-link",3,"click",4,"ngIf"],["class","container--drag-up container-fluid",4,"ngIf","ngIfElse"],["cardListView",""],[1,"bb-heading-widget__button","btn","btn-link",3,"click"],["aria-hidden","true",1,"bb-icon","bb-icon-flight"],t,[1,"container--drag-up","container-fluid"],[1,"bb-card","bb-card--lg"],[1,"bb-card__body"],[3,"ngTemplateOutlet"],[3,"notificationTtl","paymentCardTypes","groupByPaymentCardTypes","selectedCard"]]},template:function(t,_){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-header-ui",1),e.YNc(2,So,4,0,"button",2),e.qZA(),e.YNc(3,Ao,4,1,"div",3),e.YNc(4,uo,1,3,"ng-template",null,4,e.W1O)),2&t){const i=e.MAs(5);e.Q6J("ngClass",_.configService.deElevatedHeader?"bb-heading-widget bb-heading-widget--de-elevated":"bb-cards-management-journey__heading"),e.xp6(2),e.Q6J("ngIf",_.configService.enableTravelNotice),e.xp6(1),e.Q6J("ngIf",_.configService.deElevatedHeader)("ngIfElse",i)}},directives:[me.G,io,a.mk,a.O5,a.tP],encapsulation:2}),n})()},{path:"details",component:(()=>{class n{constructor(t,_,i){this.router=t,this.route=_,this.configService=i}onNavigateBack(){this.router.navigate(["../list"],{relativeTo:this.route})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.F0),e.Y36(j.gz),e.Y36(ge))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-card-details-view"]],decls:9,vars:3,consts:function(){let o,t;return o="Cards Details",t=" Back to Manage cards ",[[1,"heading-widget","bb-heading-widget",3,"ngClass"],["headingType","h1","headingClasses","bb-heading-widget__heading","heading",o],[1,"bb-heading-widget__button","btn","btn-link",3,"click"],["aria-hidden","true",1,"bb-icon","bb-icon-keyboard-backspace"],t,["class","container--drag-up container-fluid",4,"ngIf","ngIfElse"],["cardDetailsView",""],[1,"container--drag-up","container-fluid"],[1,"bb-card","bb-card--lg"],[1,"bb-card__body"],[3,"ngTemplateOutlet"],[3,"cardPinLength","notificationTtl"]]},template:function(t,_){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-header-ui",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return _.onNavigateBack()}),e._UZ(3,"i",3),e.TgZ(4,"span"),e.SDv(5,4),e.qZA()()(),e.YNc(6,lo,4,1,"div",5),e.YNc(7,Eo,1,2,"ng-template",null,6,e.W1O)),2&t){const i=e.MAs(8);e.Q6J("ngClass",_.configService.deElevatedHeader?"bb-heading-widget bb-heading-widget--de-elevated":"bb-cards-management-journey__heading"),e.xp6(6),e.Q6J("ngIf",_.configService.deElevatedHeader)("ngIfElse",i)}},directives:[me.G,pt,a.mk,a.O5,a.tP],encapsulation:2}),n})()},{path:"travel-notice",component:(()=>{class n{constructor(t,_,i){this.router=t,this.route=_,this.configService=i}onNavigateBack(){this.router.navigate(["../list"],{relativeTo:this.route})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.F0),e.Y36(j.gz),e.Y36(ge))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-view"]],decls:9,vars:3,consts:function(){let o,t;return o="Travel Notice",t=" Back to Manage cards ",[[1,"heading-widget","bb-heading-widget",3,"ngClass"],["headingType","h1","headingClasses","bb-heading-widget__heading","heading",o],[1,"bb-heading-widget__button","btn","btn-link",3,"click"],["aria-hidden","true",1,"bb-icon","bb-icon-keyboard-backspace"],t,["class","container--drag-up container-fluid",4,"ngIf","ngIfElse"],["travelNoticeView",""],[1,"container--drag-up","container-fluid"],[1,"bb-card","bb-card--lg"],[1,"bb-card__body"],[3,"ngTemplateOutlet"],[3,"notificationTtl"]]},template:function(t,_){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-header-ui",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return _.onNavigateBack()}),e._UZ(3,"i",3),e.TgZ(4,"span"),e.SDv(5,4),e.qZA()()(),e.YNc(6,Co,4,1,"div",5),e.YNc(7,po,1,1,"ng-template",null,6,e.W1O)),2&t){const i=e.MAs(8);e.Q6J("ngClass",_.configService.deElevatedHeader?"bb-heading-widget bb-heading-widget--de-elevated":"bb-cards-management-journey__heading"),e.xp6(6),e.Q6J("ngIf",_.configService.deElevatedHeader)("ngIfElse",i)}},directives:[me.G,so,a.mk,a.O5,a.tP],encapsulation:2}),n})(),canActivate:[Bt]}]};let go=(()=>{class n{static forRoot(t={route:mo}){return{ngModule:n,providers:[(0,j.co)([t.route])]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Bt,N.q1],imports:[[a.ez,j.Bz,u.UX,me.O,Ka,ro,ao,co]]}),n})();var Bo=c(570);let No=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:N.xT,useExisting:Bo.a6}],imports:[[go.forRoot()]]}),n})()},8625:()=>{},4747:(ee,W,c)=>{"use strict";c.d(W,{Le:()=>h,cY:()=>H,kU:()=>w});var N=c(5e3),a=c(682);const e={segments:4},u=new N.OlP("ACCOUNTS_DISPLAYING_FORMAT_TOKEN");let h=(()=>{class b{constructor(T){this.accountsDisplayingFormat=T}getDefaultFormat(T,L){var m,g;return"cardNumber"===T?this.getCardNumberFormat(L):null!==(g=null===(m=this.accountsDisplayingFormat)||void 0===m?void 0:m[T])&&void 0!==g?g:e}getCardNumberFormat(T){var L;const m=null===(L=this.accountsDisplayingFormat)||void 0===L?void 0:L.cardNumber,g=Object.entries((null==m?void 0:m.cardProviders)||{}).reduce((B,d)=>Object.assign(Object.assign({},B),{[d[0].toLowerCase()]:d[1]}),{});return T&&g[T.toLowerCase()]?g[T.toLowerCase()]:null!=m?m:e}}return b.\u0275fac=function(T){return new(T||b)(N.LFG(u,8))},b.\u0275prov=N.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),w=(()=>{class b{constructor(T){this.accountsDisplayingFormatService=T}transform(T,L,m){const g=T.toString(),B="object"==typeof L?L:this.accountsDisplayingFormatService.getDefaultFormat(L,m);return(0,a.EX)(g,B.segments)}}return b.\u0275fac=function(T){return new(T||b)(N.Y36(h,16))},b.\u0275pipe=N.Yjl({name:"bbAccountNumber",type:b,pure:!0}),b})(),H=(()=>{class b{}return b.\u0275fac=function(T){return new(T||b)},b.\u0275mod=N.oAB({type:b}),b.\u0275inj=N.cJS({}),b})()},1089:(ee,W,c)=>{"use strict";c.d(W,{A:()=>g,J:()=>B});var N=c(5e3),a=c(3075),e=c(9300),u=c(2722),h=c(9144),w=c(1135),H=c(7579),b=c(9841),y=c(4619),T=c(9808);function L(d,S){1&d&&N.Hsn(0,0,["*ngIf","!label"])}const m=["*"];let g=(()=>{class d extends h.rA{constructor(C,E){super(C),this.cd=C,this.controlContainer=E,this.indeterminate=!1,this.skip$=new w.X(!1),this.unsubscribe$=new H.x}ngAfterContentChecked(){this.controlContainer.control&&this.control!==this.controlContainer.control&&(this.control=this.controlContainer.control,this.checkState(this.control.value),(0,b.a)(this.control.valueChanges,this.skip$).pipe((0,e.h)(([C,E])=>!E),(0,u.R)(this.unsubscribe$)).subscribe({next:([C])=>this.checkState(C)}))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}onValueChange(){const C=E=>{Object.keys(E.value).forEach(f=>E.controls[f]instanceof a.cw?C(E.controls[f]):E.controls[f].setValue(this.value))};this.control&&(this.skip$.next(!0),C(this.control),this.skip$.next(!1)),super.onValueChange()}isDisabled(){return!!this.control&&Object.keys(this.control.controls).every(C=>this.control&&this.control.controls&&this.control.controls[C]&&this.control.controls[C].disabled||!1)}checkState(C){const E=D=>{const J=s=>"object"==typeof s&&null!==s?D.call(Object.keys(s).map(p=>s[p]),J):!!s;return s=>D.call(Object.keys(s).map(p=>s[p]),J)},f=E(Array.prototype.every)(C),Y=E(Array.prototype.some)(C);this.indeterminate=Y&&!f,this.writeValue(f)}}return d.\u0275fac=function(C){return new(C||d)(N.Y36(N.sBO),N.Y36(a.gN))},d.\u0275cmp=N.Xpm({type:d,selectors:[["bb-checkbox-group-ui"]],features:[N._Bn([{provide:a.JU,useExisting:(0,N.Gpc)(()=>d),multi:!0}]),N.qOj],ngContentSelectors:m,decls:2,vars:6,consts:[[3,"label","aria-label","indeterminate","ngModel","disabled","indeterminateChange","ngModelChange","change"],[4,"ngIf"]],template:function(C,E){1&C&&(N.F$t(),N.TgZ(0,"bb-input-checkbox-ui",0),N.NdJ("indeterminateChange",function(Y){return E.indeterminate=Y})("ngModelChange",function(Y){return E.value=Y})("change",function(){return E.onValueChange()}),N.YNc(1,L,1,0,"ng-content",1),N.qZA()),2&C&&(N.Q6J("label",E.label)("aria-label",!E.label&&E.ariaLabel||null)("indeterminate",E.indeterminate)("ngModel",E.value)("disabled",E.isDisabled()),N.xp6(1),N.Q6J("ngIf",!E.label))},directives:[y.r,a.JJ,a.On,T.O5],encapsulation:2,changeDetection:0}),d})(),B=(()=>{class d{}return d.\u0275fac=function(C){return new(C||d)},d.\u0275mod=N.oAB({type:d}),d.\u0275inj=N.cJS({imports:[[T.ez,y.b,a.u5,h.$B]]}),d})()},4291:(ee,W,c)=>{"use strict";c.d(W,{F:()=>Y,W:()=>f});var N=c(9808),a=c(5e3),e=c(4376),u=c(9287),h=c(3075),w=c(9144),H=c(4483),b=c(5413),y=c(3203);const T=["inputPhone"];function L(D,J){if(1&D&&(a.TgZ(0,"label",6),a._uU(1),a.qZA()),2&D){const s=a.oxw();a.s9C("for",s.id),a.xp6(1),a.Oqu(s.label)}}function m(D,J){if(1&D&&(a._UZ(0,"i",12),a.ALo(1,"countryFlag"),a._uU(2)),2&D){const s=J.item;a.Q6J("ngClass",a.lcZ(1,2,s.isoCode)),a.xp6(2),a.hij(" ",s.countryCode," ")}}function g(D,J){if(1&D){const s=a.EpF();a.TgZ(0,"bb-search-box-ui",13),a.NdJ("clear",function(){return a.CHM(s),a.oxw(2).onClear()})("valueChange",function(U){return a.CHM(s),a.oxw(2).onFilterChange(U)}),a.qZA(),a.TgZ(1,"div",14),a.SDv(2,15),a.qZA()}if(2&D){const s=a.oxw(2);a.Q6J("showSearch",!0)("showClear",!0)("autofocus",!0)("aria-controls",s.statusId)("aria-expanded",null==s.ngSelect?null:s.ngSelect.isOpen)("aria-owns",null!=s.ngSelect&&s.ngSelect.isOpen?null==s.ngSelect?null:s.ngSelect.dropdownId:null)("aria-activedescendant",null!=s.ngSelect&&s.ngSelect.isOpen?null==s.ngSelect||null==s.ngSelect.itemsList||null==s.ngSelect.itemsList.markedItem?null:s.ngSelect.itemsList.markedItem.htmlId:null),a.xp6(1),a.Q6J("id",s.statusId),a.xp6(1),a.pQV(s.resultCount),a.QtT(2)}}function B(D,J){1&D&&a._UZ(0,"bb-icon-ui",21)}function d(D,J){if(1&D&&(a.TgZ(0,"div",16),a._UZ(1,"i",17),a.ALo(2,"countryFlag"),a.TgZ(3,"span",18),a._uU(4),a.qZA(),a._uU(5,"\xa0 "),a.TgZ(6,"span",19),a._uU(7),a.qZA(),a.YNc(8,B,1,0,"bb-icon-ui",20),a.qZA()),2&D){const s=J.item,p=J.index,U=a.oxw(2);a.xp6(1),a.Q6J("ngClass",a.lcZ(2,4,s.isoCode)),a.xp6(3),a.Oqu(s.countryCode),a.xp6(3),a.Oqu(s.countryName),a.xp6(1),a.Q6J("ngIf",null==U.ngSelect?null:U.ngSelect.itemsList.items[p].selected)}}function S(D,J){if(1&D){const s=a.EpF();a.TgZ(0,"ng-select",7,8),a.NdJ("change",function(U){return a.CHM(s),a.oxw().onChanges(U)})("close",function(){return a.CHM(s),a.oxw().onClose()})("ngModelChange",function(U){return a.CHM(s),a.oxw().defaultCountryCode=U}),a.YNc(2,m,3,4,"ng-template",9),a.YNc(3,g,3,9,"ng-template",10),a.YNc(4,d,9,6,"ng-template",11),a.qZA()}if(2&D){const s=a.oxw();a.Q6J("dropdownPosition",s.dropdownPosition)("clearable",s.clearable)("searchable",s.searchable)("items",s.countryList)("ngModel",s.defaultCountryCode)("searchFn",s.searchFunc)("readonly",s.countryDropdowndisabled),a.uIk("aria-label",s.defaultCountryCode+" "+s.defaultCountryName)}}function C(D,J){if(1&D&&(a.TgZ(0,"div",22)(1,"span"),a.SDv(2,23),a.qZA(),a._uU(3),a.TgZ(4,"span"),a.SDv(5,24),a.qZA(),a._uU(6),a.qZA()),2&D){const s=a.oxw();a.MGl("id","",s.id,"-country-code"),a.xp6(3),a.hij("",s.defaultCountryName," "),a.xp6(3),a.hij("",s.defaultCountryCode," ")}}let E=(()=>{class D{transform(s){return"flag-icon-"+s.toLowerCase()}}return D.\u0275fac=function(s){return new(s||D)},D.\u0275pipe=a.Yjl({name:"countryFlag",type:D,pure:!0}),D})(),f=(()=>{class D extends w.rA{constructor(s,p,U,A){super(A),this.domAttrService=s,this.elem=p,this.renderer2=U,this.cd=A,this.placeholder="",this.readonly=!1,this.ariaLabel="Phone Input",this.clearable=!1,this.searchable=!1,this.enableCountryCode=!1,this.resultCount=0,this._statusId=this.domAttrService.generateId()}get statusId(){return this._statusId}constructCountryData(){if(this.enableCountryCode&&this.countryList)if(this.countryDropdowndisabled=1===this.countryList.length,this.countryDropdowndisabled)this.defaultCountryCode=this.countryList[0].countryCode,this.defaultCountryName=this.countryList[0].countryName;else{const s=this.countryList.find(p=>p.isoCode===this.defaultCountryIsoCode);this.defaultCountryCode=null==s?void 0:s.countryCode,this.defaultCountryName=null==s?void 0:s.countryName}}ngAfterViewInit(){this.ariaLabel||this.domAttrService.moveAriaAttributes(this.elem.nativeElement,this.inputEl&&this.inputEl.nativeElement,this.renderer2),this.constructCountryData()}onChanges(s){this.defaultCountryName=s.countryName}onClose(){this.ngSelect&&!this.ngSelect.isOpen&&this.ngSelect.constructor.prototype.focus.call(this.ngSelect)}onClear(){this.onFilterChange(void 0)}onFilterChange(s){this.ngSelect&&this.ngSelect.filter(s||""),this.updateResultCount()}updateResultCount(){var s;this.resultCount=(null===(s=this.ngSelect)||void 0===s?void 0:s.itemsList.filteredItems.filter(({children:p})=>!p).length)||0}searchFunc(s,p){return s=s.toLocaleLowerCase(),p.countryCode.toLocaleLowerCase().indexOf(s)>-1||p.countryName.toLocaleLowerCase().indexOf(s)>-1||p.isoCode.toLocaleLowerCase().indexOf(s)>-1}}return D.\u0275fac=function(s){return new(s||D)(a.Y36(H.JE),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO))},D.\u0275cmp=a.Xpm({type:D,selectors:[["bb-input-phone-ui"]],viewQuery:function(s,p){if(1&s&&(a.Gf(T,5),a.Gf(e.w9,5)),2&s){let U;a.iGM(U=a.CRH())&&(p.inputEl=U.first),a.iGM(U=a.CRH())&&(p.ngSelect=U.first)}},inputs:{placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",readonly:"readonly",ariaLabel:"ariaLabel",autocomplete:"autocomplete",countryList:"countryList",dropdownPosition:"dropdownPosition",clearable:"clearable",searchable:"searchable",defaultCountryIsoCode:"defaultCountryIsoCode",enableCountryCode:"enableCountryCode"},features:[a._Bn([{provide:h.JU,useExisting:(0,a.Gpc)(()=>D),multi:!0}]),a.qOj],decls:6,vars:25,consts:function(){let J,s,p,U;return J="Search",s=" " + "\ufffd0\ufffd" + " options ",p="Selected Country is ",U="and code is ",[[3,"for",4,"ngIf"],[1,"bb-phone"],["bindLabel","countryCode","bindValue","countryCode","class","bb-phone-country-code",3,"dropdownPosition","clearable","searchable","items","ngModel","searchFn","readonly","change","close","ngModelChange",4,"ngIf"],["type","tel",1,"form-control",3,"id","ngModel","disabled","readOnly","placeholder","required","bbFocus","ngClass","ngModelChange","blur","focus"],["inputPhone",""],["class","sr-only",3,"id",4,"ngIf"],[3,"for"],["bindLabel","countryCode","bindValue","countryCode",1,"bb-phone-country-code",3,"dropdownPosition","clearable","searchable","items","ngModel","searchFn","readonly","change","close","ngModelChange"],["countryCodeSelector",""],["ng-label-tmp",""],["ng-header-tmp",""],["ng-option-tmp",""],["aria-hidden","true",1,"flag-icon",3,"ngClass"],["placeholder",J,3,"showSearch","showClear","autofocus","aria-controls","aria-expanded","aria-owns","aria-activedescendant","clear","valueChange"],["aria-live","polite","aria-atomic","true","role","status",1,"sr-only",3,"id"],s,[1,"dropdown-option-item"],["aria-hidden","true",1,"flag-icon","col-md-1",3,"ngClass"],[1,"col-md-3","pr-0"],[1,"col-md-6","px-0","dropdown-option-item__country-name"],["class","col-md-2 px-0","name","check","color","color-neutral-dark",4,"ngIf"],["name","check","color","color-neutral-dark",1,"col-md-2","px-0"],[1,"sr-only",3,"id"],p,U]},template:function(s,p){1&s&&(a.YNc(0,L,2,2,"label",0),a.TgZ(1,"div",1),a.YNc(2,S,5,8,"ng-select",2),a.TgZ(3,"input",3,4),a.NdJ("ngModelChange",function(A){return p.onValueChange(A)})("blur",function(){return p.onBlur()})("focus",function(){return p.onFocus()}),a.qZA(),a.YNc(5,C,7,3,"div",5),a.qZA()),2&s&&(a.Q6J("ngIf",p.label),a.xp6(2),a.Q6J("ngIf",p.enableCountryCode),a.xp6(1),a.s9C("id",p.id),a.Q6J("ngModel",p.value)("disabled",p.disabled)("readOnly",p.readonly)("placeholder",p.placeholder)("required",p.required)("bbFocus",p.autofocus)("ngClass",p.inputClassName),a.uIk("aria-autocomplete",p.ariaAutocomplete)("aria-controls",p.ariaControls)("aria-describedby",p.ariaDescribedby?p.ariaDescribedby:p.id+"-country-code")("aria-labelledby",p.ariaLabelledby)("aria-expanded",p.ariaExpanded)("aria-activedescendant",p.ariaActivedescendant)("role",p.role)("aria-invalid",p.ariaInvalid)("aria-owns",p.ariaOwns)("aria-label",!p.label&&p.ariaLabel||null)("maxlength",p.maxLength)("minlength",p.minLength)("size",p.size)("autocomplete",p.autocomplete),a.xp6(2),a.Q6J("ngIf",!p.ariaDescribedby&&p.countryDropdowndisabled))},directives:[e.w9,b.B,u.o,N.O5,h.JJ,h.On,e.mR,N.mk,e.Cm,e.ir,h.Fj,h.Q7,h.nD,h.wO,y.R],pipes:[E],encapsulation:2,changeDetection:0}),D})(),Y=(()=>{class D{}return D.\u0275fac=function(s){return new(s||D)},D.\u0275mod=a.oAB({type:D}),D.\u0275inj=a.cJS({imports:[[N.ez,u.Q,h.u5,w.$B,y.J,e.A0,b.F]]}),D})()},7504:(ee,W,c)=>{"use strict";c.d(W,{Af:()=>B,f2:()=>g,m8:()=>d});var N=c(9808),a=c(5e3),e=c(3075),u=c(9144),h=c(7656);function w(S,C){if(1&S&&(a.TgZ(0,"legend",4),a._uU(1),a.qZA()),2&S){const E=a.oxw();a.xp6(1),a.Oqu(E.label)}}function H(S,C){if(1&S&&(a.TgZ(0,"span",9),a._uU(1),a.qZA()),2&S){const E=a.oxw().$implicit;a.xp6(1),a.hij(" ",E.label," ")}}function b(S,C){1&S&&a.GkF(0)}const y=function(S){return{labelTemplateContext:S}};function T(S,C){if(1&S&&(a.ynx(0),a.YNc(1,b,1,0,"ng-container",10),a.BQk()),2&S){const E=a.oxw().$implicit;a.xp6(1),a.Q6J("ngTemplateOutlet",E.labelTemplate)("ngTemplateOutletContext",a.VKq(2,y,E.labelTemplateContext))}}function L(S,C){if(1&S&&(a.TgZ(0,"label",5),a._UZ(1,"input",6),a.YNc(2,H,2,1,"span",7),a.YNc(3,T,2,4,"ng-container",8),a.qZA()),2&S){const E=C.$implicit,f=a.oxw();a.ekj("selected",f.val===E.value),a.Q6J("ngClass","bb-input-radio-group__radio--vertical-align-"+f.verticalAlign),a.uIk("data-role","radio-group-option"),a.xp6(1),a.s9C("name",f.name),a.Q6J("value",E.value)("readOnly",f.readonly)("required",f.required)("disabled",f.disabled||E.disabled),a.uIk("aria-label",E.ariaLabel)("aria-labelledby",E.ariaLabelledby)("aria-describedby",E.ariaDescribedby)("aria-expanded",E.ariaExpanded)("role",E.role)("aria-invalid",E.ariaInvalid)("aria-owns",E.ariaOwns),a.xp6(1),a.Q6J("ngIf",E.label),a.xp6(1),a.Q6J("ngIf",!E.label)}}const m=function(S){return{"bb-input-radio-group__list--horizontal":S}};let g=(()=>{class S{constructor(){this.disabled=!1}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275cmp=a.Xpm({type:S,selectors:[["bb-input-radio-ui"]],inputs:{labelTemplate:"labelTemplate",labelTemplateContext:"labelTemplateContext",value:"value",label:"label",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],role:"role",ariaActivedescendant:["aria-activedescendant","ariaActivedescendant"],ariaExpanded:["aria-expanded","ariaExpanded"],ariaInvalid:["aria-invalid","ariaInvalid"],ariaOwns:["aria-owns","ariaOwns"],disabled:"disabled"},decls:0,vars:0,template:function(E,f){},encapsulation:2}),S})(),B=(()=>{class S extends u.rA{constructor(E){super(E),this.cd=E,this.horizontal=!1,this.preselect=!0,this.verticalAlign="middle",this.isComponentDestroyed=!1}ngAfterContentInit(){!this.preselect||setTimeout(()=>{!this.val&&this.radios&&this.radios.first&&(this.val=this.radios.first.value)})}writeValue(E){super.writeValue(E),this.isComponentDestroyed||this.cd.detectChanges()}set val(E){this.value=E,this.onChange(this.value)}get val(){return this.value}trackByFn(E,f){return f.value}ngOnDestroy(){this.isComponentDestroyed=!0}}return S.\u0275fac=function(E){return new(E||S)(a.Y36(a.sBO))},S.\u0275cmp=a.Xpm({type:S,selectors:[["bb-input-radio-group-ui"]],contentQueries:function(E,f,Y){if(1&E&&a.Suo(Y,g,4),2&E){let D;a.iGM(D=a.CRH())&&(f.radios=D)}},inputs:{horizontal:"horizontal",preselect:"preselect",name:"name",verticalAlign:"verticalAlign"},features:[a._Bn([{provide:e.JU,useExisting:(0,a.Gpc)(()=>S),multi:!0}]),a.qOj],decls:4,vars:10,consts:[["ngbRadioGroup","",1,"bb-input-radio-group",3,"ngModel","ngModelChange"],["class","bb-input-radio-group__label",4,"ngIf"],[1,"bb-input-radio-group__list",3,"ngClass"],["ngbButtonLabel","","class","bb-input-radio-group__radio",3,"selected","ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bb-input-radio-group__label"],["ngbButtonLabel","",1,"bb-input-radio-group__radio",3,"ngClass"],["type","radio","ngbButton","",1,"bb-input-radio-group__input",3,"name","value","readOnly","required","disabled"],["class","bb-input-radio-group__radio-label",4,"ngIf"],[4,"ngIf"],[1,"bb-input-radio-group__radio-label"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(E,f){1&E&&(a.TgZ(0,"fieldset",0),a.NdJ("ngModelChange",function(D){return f.val=D}),a.YNc(1,w,2,1,"legend",1),a.TgZ(2,"div",2),a.YNc(3,L,4,18,"label",3),a.qZA()()),2&E&&(a.Q6J("ngModel",f.val),a.uIk("aria-describedby",f.ariaDescribedby)("aria-label",f.ariaLabel)("aria-labelledby",f.ariaLabelledby),a.xp6(1),a.Q6J("ngIf",f.label),a.xp6(1),a.Q6J("ngClass",a.VKq(8,m,f.horizontal)),a.xp6(1),a.Q6J("ngForOf",f.radios)("ngForTrackBy",f.trackByFn))},directives:[h.py,e.JJ,e.On,N.O5,N.mk,N.sg,h.mL,h.aB,N.tP],encapsulation:2}),S})(),d=(()=>{class S{}return S.\u0275fac=function(E){return new(E||S)},S.\u0275mod=a.oAB({type:S}),S.\u0275inj=a.cJS({imports:[[N.ez,h.xZ,e.u5]]}),S})()},9633:(ee,W,c)=>{"use strict";c.d(W,{So:()=>h,V9:()=>T,nj:()=>L});var N=c(9808),a=c(5e3),e=c(682),u=c(4747);const h={length:16,maskRange:[0,12],segments:4},H=new a.OlP("Enables accounts masking synchronization with backend",{providedIn:"root",factory:()=>!1});let T=(()=>{class m{constructor(B,d){this.accountsDisplayingFormatService=B,this.synchronizeNumberMasking=d,this.defaultFormat=this.accountsDisplayingFormatService.getDefaultFormat("cardNumber")}transform(B,d,S="\u2022"){const C=null!=d?d:this.defaultFormat;let E=B.toString();return d&&!this.synchronizeNumberMasking&&(E=function b(m,g,B="0",d=!0){const S=Math.max(g-m.length,0),C=B.repeat(S);return d?C+m:m+C}(E,d.length,S),E=function y(m,[g,B],d="*"){let S="";if(B<0){const C=m.slice(B);S=d.repeat(m.length-C.length)+C}else{const C=d.repeat(B-g);S=m.substring(0,g)+C+m.substring(B)}return S}(E,d.maskRange,S)),(0,e.EX)(E,C.segments)}}return m.\u0275fac=function(B){return new(B||m)(a.Y36(u.Le,16),a.Y36(H,24))},m.\u0275pipe=a.Yjl({name:"paymentCardNumber",type:m,pure:!0}),m})(),L=(()=>{class m{}return m.\u0275fac=function(B){return new(B||m)},m.\u0275mod=a.oAB({type:m}),m.\u0275inj=a.cJS({imports:[[N.ez]]}),m})()},4265:(ee,W,c)=>{"use strict";c.d(W,{u:()=>L,w:()=>m});var N=c(9808),a=c(5e3),e=c(9633),u=c(4620);let b=(()=>{class g{constructor(){this.className="",this.title=""}ngOnInit(){if("string"!=typeof this.vendor)throw new Error(`"vendor" input is required in "${this.constructor.name}"`)}ngOnChanges(d){this.className=(g=>"string"!=typeof g?"":`bb-card-vendor-${g.trim().toLowerCase().replace(/\W/g,"-").replace(/-{2,}/g,"-")}`)(this.vendor),this.title=(g=>g?g.trim().toLowerCase().replace(/-/g," "):"")(this.vendor)}}return g.\u0275fac=function(d){return new(d||g)},g.\u0275cmp=a.Xpm({type:g,selectors:[["bb-card-vendor-ui"]],inputs:{vendor:"vendor"},features:[a.TTD],decls:1,vars:3,consts:[["role","img",1,"bb-card-vendor",3,"title","ngClass"]],template:function(d,S){1&d&&a._UZ(0,"div",0),2&d&&(a.Q6J("title",S.title)("ngClass",S.className),a.uIk("aria-label",S.title))},directives:[N.mk],encapsulation:2,changeDetection:0}),g})(),y=(()=>{class g{}return g.\u0275fac=function(d){return new(d||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[[N.ez]]}),g})(),L=(()=>{class g{constructor(){this.paymentCardNumberFormat=e.So}ngOnInit(){if(void 0===this.paymentCard)throw new Error(`"paymentCard" input is required in "${this.constructor.name}"`)}get classNames(){if(this.paymentCard&&this.paymentCard.cardName){const d=this.paymentCard.cardName.toLowerCase().replace(/[^a-zA-Z0-9 ]/g," ").trim().replace(/\s/g,"-").replace(/-{2,}/g,"-");return d?`bb-payment-card-${d}`:void 0}}}return g.\u0275fac=function(d){return new(d||g)},g.\u0275cmp=a.Xpm({type:g,selectors:[["bb-payment-card-ui"]],inputs:{paymentCard:"paymentCard",paymentCardNumberFormat:"paymentCardNumberFormat"},decls:17,vars:12,consts:function(){let B;return B=" VALID THRU ",[[1,"bb-payment-card",3,"ngClass"],[1,"bb-payment-card__container"],[1,"bb-payment-card__logo"],["type","emblem",3,"isInverse"],[1,"bb-payment-card__vendor"],[3,"vendor"],[1,"bb-payment-card__number"],[1,"bb-payment-card__name"],[1,"bb-payment-card__expiration-date"],[1,"bb-payment-card__expiration-date-label"],B,[1,"bb-payment-card__expiration-date-date"]]},template:function(d,S){1&d&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2),a._UZ(3,"bb-logo-ui",3),a.qZA(),a.TgZ(4,"div",4),a._UZ(5,"bb-card-vendor-ui",5),a.qZA(),a.TgZ(6,"div",6),a._uU(7),a.ALo(8,"paymentCardNumber"),a.qZA(),a.TgZ(9,"div",7),a._uU(10),a.qZA(),a.TgZ(11,"div",8)(12,"div",9),a.SDv(13,10),a.qZA(),a.TgZ(14,"span",11),a._uU(15),a.ALo(16,"date"),a.qZA()()()()),2&d&&(a.Q6J("ngClass",S.classNames),a.xp6(3),a.Q6J("isInverse",!0),a.xp6(2),a.Q6J("vendor",null==S.paymentCard?null:S.paymentCard.vendor),a.xp6(2),a.hij(" ",a.xi3(8,6,null==S.paymentCard?null:S.paymentCard.number,S.paymentCardNumberFormat)," "),a.xp6(3),a.hij(" ",null==S.paymentCard?null:S.paymentCard.name," "),a.xp6(5),a.hij(" ",a.xi3(16,9,null==S.paymentCard?null:S.paymentCard.expirationDate,"MM/yy")," "))},directives:[u.R,b,N.mk],pipes:[e.V9,N.uU],encapsulation:2,changeDetection:0}),g})(),m=(()=>{class g{}return g.\u0275fac=function(d){return new(d||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[[N.ez,u.h,y,e.nj]]}),g})()},3623:(ee,W,c)=>{"use strict";c.d(W,{BX:()=>U,Ml:()=>J,vO:()=>p});var N=c(9808),a=c(5e3),e=c(9287);function u(A,I){1&A&&a.GkF(0)}function h(A,I){1&A&&a._UZ(0,"div",7)}const w=function(A,I,M){return{$implicit:A,number:I,isLast:M,isChild:!1}};function H(A,I){if(1&A&&(a.ynx(0),a.YNc(1,u,1,0,"ng-container",5),a.YNc(2,h,1,0,"div",6),a.BQk()),2&A){const M=I.$implicit,P=I.last,Q=I.index,Z=a.oxw(),te=a.MAs(3);a.xp6(1),a.Q6J("ngTemplateOutlet",Z.stepperStepTemplate||te)("ngTemplateOutletContext",a.kEZ(3,w,M,Q+1,P)),a.xp6(1),a.Q6J("ngIf",!P)}}function b(A,I){if(1&A&&(a.ynx(0),a._uU(1),a.BQk()),2&A){const M=a.oxw().number;a.xp6(1),a.hij(" ",M," ")}}function y(A,I){1&A&&a.GkF(0)}const T=function(A){return{$implicit:A}};function L(A,I){if(1&A){const M=a.EpF();a.TgZ(0,"a",15),a.NdJ("click",function(){a.CHM(M);const Q=a.oxw(2).$implicit;return a.oxw().onClickHandler(Q.data)}),a.YNc(1,y,1,0,"ng-container",5),a.qZA()}if(2&A){const M=a.oxw(2).$implicit;a.oxw();const P=a.MAs(7);a.xp6(1),a.Q6J("ngTemplateOutlet",P)("ngTemplateOutletContext",a.VKq(2,T,M))}}function m(A,I){1&A&&a.GkF(0)}function g(A,I){if(1&A&&(a.ynx(0),a.YNc(1,m,1,0,"ng-container",5),a.BQk()),2&A){const M=a.oxw(2).$implicit;a.oxw();const P=a.MAs(7);a.xp6(1),a.Q6J("ngTemplateOutlet",P)("ngTemplateOutletContext",a.VKq(2,T,M))}}function B(A,I){if(1&A&&(a.TgZ(0,"div",12),a.YNc(1,L,2,4,"a",13),a.YNc(2,g,2,4,"ng-container",14),a.qZA()),2&A){const M=a.oxw().$implicit;a.ekj("text-support",!M.isActive),a.Q6J("title",M.label),a.xp6(1),a.Q6J("ngIf",M.data&&!M.isCurrent),a.xp6(1),a.Q6J("ngIf",!M.data||M.isCurrent)}}function d(A,I){1&A&&a.GkF(0)}const S=function(A,I){return{$implicit:A,isChild:!0,isLast:I}};function C(A,I){if(1&A&&(a.ynx(0),a.YNc(1,d,1,0,"ng-container",5),a.BQk()),2&A){const M=I.$implicit,P=I.last,Q=a.oxw().isLast;a.oxw();const Z=a.MAs(3);a.xp6(1),a.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",a.WLB(2,S,M,!Q&&P))}}function E(A,I){if(1&A&&(a.TgZ(0,"div",8)(1,"div",9),a.YNc(2,b,2,1,"ng-container",10),a.qZA(),a.YNc(3,B,3,5,"div",11),a.qZA(),a.YNc(4,C,2,5,"ng-container",1)),2&A){const M=I.$implicit,P=I.isLast,Q=I.isChild,Z=a.oxw(),te=a.MAs(5);a.ekj("bb-step--active",M.isActive)("bb-step--current",M.isCurrent&&(Q||!Z.hasCurrentChildStep(M)))("bb-step--child",Q)("bb-step--last",P)("bb-step--container",null==M.steps?null:M.steps.length),a.uIk("aria-label",M.ariaLabel)("aria-current",M.isActive?"step":null),a.xp6(2),a.Q6J("ngIf",M.isCurrent||!M.isChecked)("ngIfElse",te),a.xp6(1),a.Q6J("ngIf",M.label),a.xp6(1),a.Q6J("ngForOf",M.steps)}}function f(A,I){1&A&&a._UZ(0,"bb-icon-ui",16)}function Y(A,I){if(1&A&&(a.TgZ(0,"span",18),a._uU(1),a.qZA()),2&A){const M=a.oxw().$implicit;a.Q6J("title",M.stateLabel),a.xp6(1),a.Oqu(M.stateLabel)}}function D(A,I){if(1&A&&(a._uU(0),a.YNc(1,Y,2,2,"span",17)),2&A){const M=I.$implicit;a.hij(" ",M.label," "),a.xp6(1),a.Q6J("ngIf",!(null!=M.steps&&M.steps.length))}}let J=(()=>{class A{constructor(){this.isCurrent=!1,this.isChecked=!1,this.isActive=!1}ngAfterContentChecked(){var M;this.steps=null===(M=this._steps)||void 0===M?void 0:M.filter(P=>P!==this)}}return A.\u0275fac=function(M){return new(M||A)},A.\u0275cmp=a.Xpm({type:A,selectors:[["bb-stepper-step-ui"]],contentQueries:function(M,P,Q){if(1&M&&a.Suo(Q,A,4),2&M){let Z;a.iGM(Z=a.CRH())&&(P._steps=Z)}},inputs:{label:"label",stateLabel:"stateLabel",data:"data",ariaLabel:"ariaLabel",isCurrent:"isCurrent",isChecked:"isChecked",isActive:"isActive"},decls:0,vars:0,template:function(M,P){},encapsulation:2}),A})(),s=(()=>{class A{constructor(M){this.templateRef=M}}return A.\u0275fac=function(M){return new(M||A)(a.Y36(a.Rgc))},A.\u0275dir=a.lG2({type:A,selectors:[["ng-template","bbCustomStepperStep",""]]}),A})(),p=(()=>{class A{constructor(){this.select=new a.vpe}get currentStep(){return this.steps&&this.steps.find(M=>M.isCurrent)}hasCurrentChildStep({steps:M}){return null==M?void 0:M.find(({isCurrent:P})=>P)}onClickHandler(M){this.select.emit(M)}}return A.\u0275fac=function(M){return new(M||A)},A.\u0275cmp=a.Xpm({type:A,selectors:[["bb-stepper-ui"]],contentQueries:function(M,P,Q){if(1&M&&(a.Suo(Q,s,7,a.Rgc),a.Suo(Q,J,4)),2&M){let Z;a.iGM(Z=a.CRH())&&(P.stepperStepTemplate=Z.first),a.iGM(Z=a.CRH())&&(P.steps=Z)}},outputs:{select:"select"},decls:8,vars:3,consts:[[1,"bb-stepper"],[4,"ngFor","ngForOf"],["defaultStepperStepTemplate",""],["checkIcon",""],["simpleStep",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true","class","bb-stepper__separator",4,"ngIf"],["aria-hidden","true",1,"bb-stepper__separator"],[1,"bb-step"],[1,"bb-step__icon"],[4,"ngIf","ngIfElse"],["class","bb-step__label",3,"title","text-support",4,"ngIf"],[1,"bb-step__label",3,"title"],["href","javascript:void(0)",3,"click",4,"ngIf"],[4,"ngIf"],["href","javascript:void(0)",3,"click"],["name","check","size","sm"],["class","bb-step__state-label",3,"title",4,"ngIf"],[1,"bb-step__state-label",3,"title"]],template:function(M,P){1&M&&(a.TgZ(0,"div",0),a.YNc(1,H,3,7,"ng-container",1),a.qZA(),a.YNc(2,E,5,16,"ng-template",null,2,a.W1O),a.YNc(4,f,1,0,"ng-template",null,3,a.W1O),a.YNc(6,D,2,2,"ng-template",null,4,a.W1O)),2&M&&(a.ekj("bb-stepper__label",null==P.currentStep?null:P.currentStep.label),a.xp6(1),a.Q6J("ngForOf",P.steps))},directives:[e.o,N.sg,N.tP,N.O5],encapsulation:2}),A})(),U=(()=>{class A{}return A.\u0275fac=function(M){return new(M||A)},A.\u0275mod=a.oAB({type:A}),A.\u0275inj=a.cJS({imports:[[N.ez,e.Q]]}),A})()},8451:(ee,W,c)=>{"use strict";c.d(W,{o:()=>L,q:()=>T});var N=c(9808),a=c(3075),e=c(5e3),u=c(9144),h=c(4619);function w(m,g){if(1&m&&(e.TgZ(0,"label",5),e._uU(1),e.qZA()),2&m){const B=e.oxw();e.uIk("for",B.id),e.xp6(1),e.hij(" ",B.label," ")}}const H=function(m){return{"bb-switch--align-end":m}},b=function(m,g,B){return{"bb-switch__element--checked":m,"bb-switch__element--disabled":g,"bb-switch__element--focused":B}};var y=(()=>{return(m=y||(y={})).left="left",m.right="right",y;var m})();let T=(()=>{class m extends u.rA{constructor(B,d){super(B),this.cd=B,this.el=d,this.labelPosition=y.left,this.keyboardFocus=!1,this.focused=!1}ngOnInit(){super.ngOnInit(),this.role=this.role||"switch"}toggleSwitch(B){var d;if("LABEL"!==(null===(d=B.target)||void 0===d?void 0:d.tagName))if(window.MSInputMethodContext&&document.documentMode){"checkbox"===B.target.type?this.onValueChange():this.onValueChange(!this.value);const C=document.createEvent("Event");C.initEvent("change",!0,!1),this.el.nativeElement.dispatchEvent(C)}else this.onValueChange(!this.value),this.el.nativeElement.dispatchEvent(new Event("change",{bubbles:!0}))}onBlur(B){this.focused=!1,super.onBlur(B)}isLabelLeft(){return this.labelPosition===y.left}isLabelRight(){return this.labelPosition===y.right}}return m.\u0275fac=function(B){return new(B||m)(e.Y36(e.sBO),e.Y36(e.SBq))},m.\u0275cmp=e.Xpm({type:m,selectors:[["bb-switch-ui"]],inputs:{labelPosition:"labelPosition"},features:[e._Bn([{provide:a.JU,multi:!0,useExisting:(0,e.Gpc)(()=>m)}]),e.qOj],decls:5,vars:21,consts:[[1,"bb-switch",3,"ngClass","click"],["class","bb-switch__label",4,"ngIf"],[1,"bb-switch__checkbox","sr-only","sr-only-focusable",3,"id","ngModel","disabled","aria-label","required","aria-describedby","aria-labelledby","aria-expanded","role","aria-invalid","aria-owns","aria-activedescendant","ngModelChange","change","focus","blur"],[1,"bb-switch__element",3,"ngClass","focus","blur"],[1,"bb-switch__slider","slider"],[1,"bb-switch__label"]],template:function(B,d){1&B&&(e.TgZ(0,"div",0),e.NdJ("click",function(C){return!d.disabled&&d.toggleSwitch(C)}),e.YNc(1,w,2,2,"label",1),e.TgZ(2,"bb-input-checkbox-ui",2),e.NdJ("ngModelChange",function(C){return d.value=C})("change",function(C){return C.stopPropagation()&&!d.disabled&&d.toggleSwitch(C)})("focus",function(){return d.focused=!0})("blur",function(C){return d.onBlur(C)}),e.qZA(),e.TgZ(3,"span",3),e.NdJ("focus",function(){return d.keyboardFocus=!0})("blur",function(){return d.keyboardFocus=!1}),e._UZ(4,"span",4),e.qZA()()),2&B&&(e.Q6J("ngClass",e.VKq(15,H,d.isLabelRight())),e.xp6(1),e.Q6J("ngIf",d.label),e.xp6(1),e.Q6J("id",d.id)("ngModel",d.value)("disabled",d.disabled)("aria-label",d.ariaLabel)("required",d.required)("aria-describedby",d.ariaDescribedby)("aria-labelledby",d.ariaLabelledby)("aria-expanded",d.ariaExpanded)("role",d.role)("aria-invalid",d.ariaInvalid)("aria-owns",d.ariaOwns)("aria-activedescendant",d.ariaActivedescendant),e.xp6(1),e.Q6J("ngClass",e.kEZ(17,b,d.value,d.disabled,d.focused)))},directives:[h.r,N.mk,N.O5,a.JJ,a.On,a.Q7],encapsulation:2,changeDetection:0}),m})(),L=(()=>{class m{}return m.\u0275fac=function(B){return new(B||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[[N.ez,a.u5,h.b]]}),m})()}}]);